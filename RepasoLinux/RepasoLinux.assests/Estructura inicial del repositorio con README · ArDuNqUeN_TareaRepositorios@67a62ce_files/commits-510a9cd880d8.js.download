"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["commits","lazy-react-partial-actions-custom-images-retention-policy","lazy-react-partial-actions-policies","lazy-react-partial-actions-survey","lazy-react-partial-browser-geo-location","lazy-react-partial-codespaces-survey","lazy-react-partial-consent-experience","lazy-react-partial-copilot-assisted-review-upsell","lazy-react-partial-copilot-code-review-feedback","lazy-react-partial-copilot-code-review-upsell","lazy-react-partial-copilot-code-review-view-session","lazy-react-partial-copilot-content-exclusion","lazy-react-partial-copilot-survey","lazy-react-partial-custom-signup-content-manager","lazy-react-partial-date-picker-partial","lazy-react-partial-delete-configuration-dialog","lazy-react-partial-education-schools-auto-complete","lazy-react-partial-email-subscription-form","lazy-react-partial-enterprise-team","lazy-react-partial-external-group-team-mismatch-widget","lazy-react-partial-growth-banner-partial","lazy-react-partial-metadata-suggestion-staffbar-component","lazy-react-partial-network-configurations-select-panel","lazy-react-partial-new-agent-task-button","lazy-react-partial-react-partial-anchor-example","lazy-react-partial-react-sandbox-sidenav","lazy-react-partial-search-results","lazy-react-partial-security-center-pagination","lazy-react-partial-sponsors-dashboard-your-sponsors","lazy-react-partial-sponsors-newsletters","lazy-react-partial-trade-screening-status-banner","packages_app-uuid_app-uuid_ts-packages_user-selector_index_ts","packages_diffs_diff-parts_ts","packages_document-metadata_document-metadata_ts-packages_failbot_failbot_ts"],{977:(e,t,n)=>{n.d(t,{Z:()=>J});var a=n(74848);let l={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};l.hash="8c027995abd00c22fac1d025a14e2a8d";var i=n(40104),r=n(96540),s=n(18312);let o=function(){var e={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null}}();o.hash="66c71c2357977009e7b34571e8a11e21";var d=n(62559),c=n(73017),u=n(64451),m=n(86877),p=n(46720),g=n(10286);let f="_No response_";function h(e,t){return(0===t.length&&(t=f),e)?`### ${e}

${t}`:t}let y=(e,t,n,a)=>{if("markdown"===t)return"";let l=""===t?n:`${t}-${n}`;return`${e}-${l}-${a}`},b={CheckboxesElementGroup:"CheckboxesElement-module__CheckboxesElementGroup--cz_dJ",CheckboxesElementGroupLabel:"CheckboxesElement-module__CheckboxesElementGroupLabel--wixq_",CheckboxesElementGroupDescription:"CheckboxesElement-module__CheckboxesElementGroupDescription--DoWqf",checkboxOptionLabel:"CheckboxesElement-module__checkboxOptionLabel--kENEm"};function k({itemId:e,indexOfFormElement:t,defaultValuesById:n,checkboxCount:a}){if(!e)return Array(a).fill(!1);let l=(0,g.k)({id:e,value:"",indexOfFormElement:t,defaultValuesById:n}).split(",").map(e=>"true"===e.trim());return l.length===a?l:Array(a).fill(!1)}let x=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:n,defaultValuesById:l,onFieldChange:i},r)=>{let d=(0,s.useFragment)(o,e);if(!d.checkboxOptions)return null;let c=y(n,"",d.label,d.__id);return(0,a.jsx)(C,{...d,type:"checkboxes",index:t,ref:r,sessionStorageKey:c,defaultValuesById:l,onFieldChange:i})}),C=(0,r.forwardRef)(({itemId:e,index:t,sessionStorageKey:n,label:l,descriptionHTML:s,checkboxOptions:o,defaultValuesById:g,onFieldChange:f},y)=>{let x=(0,r.useRef)(null),C=(0,r.useMemo)(()=>k({itemId:e,indexOfFormElement:t,defaultValuesById:g,checkboxCount:o.length}),[o.length,g,t,e]),[v,S]=(0,i.Fo)(n,C),j=(0,r.useRef)(v);(0,r.useEffect)(()=>{j.current=v},[v]),(0,r.useEffect)(()=>{if(f&&g){let n=k({itemId:e,indexOfFormElement:t,defaultValuesById:g,checkboxCount:o.length});S(n),j.current=n}},[g,t,e,o.length,S,f]),(0,r.useEffect)(()=>{if(f){let n=j.current,a=k({itemId:e,indexOfFormElement:t,defaultValuesById:g,checkboxCount:o.length});n.length===a.length&&n.every((e,t)=>e===a[t])||f(e,t,n.map(e=>e.toString()).join(","))}},[v,e,t,f,g,o.length]);let[I,N]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(y,()=>({focus:()=>x.current?.focus(),markdown:()=>h(l,o.map((e,t)=>{var n,a;return n=e.label,a=v[t],`- [${a?"x":" "}] ${n}`}).join(`
`)),validate:()=>{for(let[e,t]of o.entries())if(t.required&&!v[e])return N(d.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{S(C),N(void 0)},hasChanges:()=>!C.every((e,t)=>e===v[t]),getSessionStorageKey:()=>n}),[o,C,l,v,n,S]),(0,r.useEffect)(()=>{I&&o.every((e,t)=>!e.required||v[t])&&N(void 0)},[o,v,I]),(0,a.jsxs)(u.A,{className:b.CheckboxesElementGroup,children:[(0,a.jsx)(u.A.Label,{className:b.CheckboxesElementGroupLabel,children:l}),s&&(0,a.jsx)(u.A.Caption,{className:b.CheckboxesElementGroupDescription,children:(0,a.jsx)(c.vb,{html:s,className:"markdown-body note text-small mb-2"})}),o.map((e,t)=>(0,a.jsxs)(m.A,{required:e.required??!1,children:[(0,a.jsx)(p.A,{ref:0===t?x:void 0,checked:v[t],onChange:()=>{S(v.map((e,n)=>n===t?!e:e))}}),(0,a.jsx)(m.A.Label,{className:b.checkboxOptionLabel,children:(0,a.jsx)(c.JR,{html:e.labelHTML})})]},t)),I&&(0,a.jsx)(u.A.Validation,{variant:"error",children:I})]})});x.displayName="CheckboxesElement",C.displayName="CheckboxesElementInternal";let v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};v.hash="c5f5c78821adbd1825aa041b7a1063bf";var S=n(94236),j=n(11196),I=n(5524);let N={dropdownElementButtonText:"DropdownElement-module__dropdownElementButtonText--NRhbg",dropdownElementContainer:"DropdownElement-module__dropdownElementContainer--ME35C",dropdownMenuOverlay:"DropdownElement-module__dropdownMenuOverlay--qDXwf"};var F=n(34164);let _={elementWrapperContainer:"ElementWrapper-module__elementWrapperContainer--Zviz8",elementLabel:"ElementWrapper-module__elementLabel--qX9VS",elementLabelWithDescription:"ElementWrapper-module__elementLabelWithDescription--c2FAt",elementDescription:"ElementWrapper-module__elementDescription--EA7D6",validationMessage:"ElementWrapper-module__validationMessage--P3NuI"};function L({children:e,label:t,required:n,description:l,validationResult:i,className:s}){let o=(0,r.useId)(),d=(0,r.useId)(),u=(0,r.useId)();return(0,a.jsxs)("div",{className:(0,F.$)(_.elementWrapperContainer,s),children:[(0,a.jsxs)(m.A,{required:n??!1,children:[(0,a.jsx)(m.A.Label,{id:o,className:(0,F.$)(_.elementLabel,l&&_.elementLabelWithDescription),children:t}),l&&(0,a.jsx)(m.A.Caption,{id:d,className:_.elementDescription,children:(0,a.jsx)(c.vb,{html:l,className:"markdown-body note text-small mb-2"})})]}),e({labelId:o,descriptionIds:`${d} ${u}`}),i&&(0,a.jsx)(m.A.Validation,{id:u,variant:"error",className:_.validationMessage,children:i})]})}try{L.displayName||(L.displayName="ElementWrapper")}catch{}function T({itemId:e,indexOfFormElement:t,defaultValuesById:n,optionChoices:a}){if(!e)return[];let l=new Set(function(e){if(!e.trim())return[];try{let t=`[${e}]`;return JSON.parse(t)}catch{return[]}}((0,g.k)({id:e,indexOfFormElement:t,value:"",defaultValuesById:n})));return a.filter(e=>l.has(e))}let w=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:n,defaultValuesById:l,onFieldChange:i},r)=>{let o=(0,s.useFragment)(v,e);if(!o.options)return null;let d=y(n,"",o.label,o.__id);return(0,a.jsx)(A,{...o,index:t,ref:r,type:"dropdown",sessionStorageKey:d,defaultValuesById:l,onFieldChange:i})}),A=(0,r.forwardRef)(({itemId:e,index:t,sessionStorageKey:n,label:l,options:s,descriptionHTML:o,required:c,multiple:u,defaultOptionIndex:m,defaultValuesById:p,onFieldChange:g},f)=>{let y=(0,r.useRef)(null),b=(0,r.useRef)(null),k=null!=m,x=(0,r.useMemo)(()=>u||c||k?s:["None",...s],[k,u,s,c]),C=(0,r.useMemo)(()=>{let n=T({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x});return 0===n.length&&k&&m>=0&&m<x.length?[x[m]]:(0===n.length&&x.length>0&&!u&&(n=[x[0]]),n)},[m,p,k,t,e,u,x]),[v,F]=(0,i.Fo)(n,C),_=(0,r.useRef)(v);(0,r.useEffect)(()=>{_.current=v},[v]),(0,r.useEffect)(()=>{if(g&&p){let n=T({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x});F(n),_.current=n}},[p,t,e,x,F,g]),(0,r.useEffect)(()=>{if(g){let n=_.current,a=T({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x}),l=new Set(n),i=new Set(a);l.size===i.size&&[...l].every(e=>i.has(e))||g(e,t,n.map(e=>`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`).join(", "))}},[v,e,t,g,p,x]);let[w,A]=(0,r.useState)(void 0),E=(0,r.useCallback)(e=>()=>{v.includes(e)?u&&F(v.filter(t=>t!==e)):u?F([...v,e]):F([e])},[u,v,F]);(0,r.useImperativeHandle)(f,()=>({focus:()=>y.current?.focus(),markdown:()=>h(l,v.join(", ")),validate:()=>!c||0!==v.length||(A(d.wY.missingDropdownSelection),!1),reset:()=>{F(C),A(void 0)},hasChanges:()=>{if(v.length!==C.length)return!0;for(let e of v)if(!C.includes(e))return!0;return!1},getSessionStorageKey:()=>n}),[C,l,c,v,n,F]),(0,r.useEffect)(()=>{v.length>0&&A(void 0)},[v]);let[D,P]=(0,r.useState)(!1),K=0===v.length?"None":v.join(", ");return(0,r.useEffect)(()=>{b.current&&P(b.current.scrollWidth>b.current.clientWidth)},[b,P]),(0,a.jsx)(L,{label:l,description:o,required:c,validationResult:w,className:N.dropdownElementContainer,children:({labelId:e,descriptionIds:t})=>(0,a.jsxs)(S.W,{anchorRef:y,children:[D?(0,a.jsx)(j.m,{text:K,children:(0,a.jsx)(S.W.Button,{"aria-labelledby":e,"aria-describedby":t,children:(0,a.jsx)("span",{ref:b,className:N.dropdownElementButtonText,children:K})})}):(0,a.jsxs)(S.W.Button,{"aria-labelledby":e,"aria-describedby":t,children:[" ",(0,a.jsx)("span",{ref:b,className:N.dropdownElementButtonText,children:K})]}),(0,a.jsx)(S.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",className:N.dropdownMenuOverlay,children:(0,a.jsx)(I.l,{selectionVariant:u?"multiple":"single",children:x.map((e,t)=>(0,a.jsx)(I.l.Item,{selected:v.includes(e),onSelect:E(e),children:e},t))})})]})})});w.displayName="DropdownElement",A.displayName="DropdownElementInternal";let E={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};E.hash="bcf5223d492443ecf5db4594632948d9";var D=n(26076),P=n(41057);let K={loadingSkeletonContainer:"FormElementLoading-module__loadingSkeletonContainer--QboQa"},R=()=>(0,a.jsx)("div",{className:K.loadingSkeletonContainer,children:(0,a.jsx)(P.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{R.displayName||(R.displayName="FormElementLoading")}catch{}let M=({elementRef:e})=>{let t=(0,s.useFragment)(E,e);return(0,a.jsx)(V,{verifiedHTML:t.contentHTML,type:"markdown"})},V=({verifiedHTML:e})=>(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(R,{}),children:(0,a.jsx)(D.G,{verifiedHTML:e})});try{M.displayName||(M.displayName="MarkdownElement")}catch{}try{V.displayName||(V.displayName="MarkdownElementInternal")}catch{}let B={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};B.hash="77263c4a3e8e6f76c8ddc25b88931e27";var O=n(8046),U=n(4175);let $={TextAreaElementContainer:"TextAreaElement-module__TextAreaElementContainer--efGjO",codeViewTextArea:"TextAreaElement-module__codeViewTextArea--uyz8K"},H=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:n,...l},i)=>{let r=(0,s.useFragment)(B,e),o=y(n,"",r.label,r.__id);return(0,a.jsx)(z,{...r,...l,index:t,ref:i,type:"textarea",sessionStorageKey:o})}),z=(0,r.forwardRef)(({itemId:e,sessionStorageKey:t,index:n,label:l,descriptionHTML:s,placeholder:o,required:c,value:u,render:m,subject:p,defaultValuesById:y,onSave:b,setIsFileUploading:k,onFieldChange:x},C)=>{let v=(0,r.useMemo)(()=>(0,g.k)({id:e,indexOfFormElement:n,value:u,defaultValuesById:y}),[e,n,u,y]),[S,j]=(0,i.Fo)(t,v),[I,N]=(0,r.useState)(!1),F=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(x&&y&&!I){let t=(0,g.k)({id:e,indexOfFormElement:n,value:u,defaultValuesById:y});t!==S&&t!==u&&j(t)}},[y,n,e,x,j,u,I,S]);let _=t=>{N(!0),j(t),x&&x(e,n,t),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{N(!1),F.current=null},500)},T=(0,r.useRef)(null),[w,A]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(C,()=>({focus:()=>T.current?.focus(),markdown:()=>h(l,function(e,t){return t&&e!==f?`\`\`\`${t}
${e.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:e}(S,m)),validate:()=>{let e=(0,d.sT)(S,c??!1);return A(e.errorMessage),e.isValid},reset:()=>{j(v),A(void 0)},hasChanges:()=>S!==v,getSessionStorageKey:()=>t}),[v,l,m,c,t,j,S]),(0,r.useEffect)(()=>{w&&(0,d.sT)(S,c??!1).isValid&&A(void 0)},[c,S,w]),(0,a.jsx)(L,{label:l,required:c,description:s,validationResult:w,className:$.TextAreaElementContainer,children:({labelId:e,descriptionIds:t})=>m?(0,a.jsx)(U.Ay,{"aria-labelledby":e,"aria-describedby":t,ref:T,placeholder:o??void 0,value:S,className:$.codeViewTextArea,onChange:e=>{_(e.target.value)}}):(0,a.jsx)(O.hF,{labelledBy:e,"aria-describedby":t,ref:T,placeholder:o??void 0,value:S,onChange:e=>{_(e)},onSave:b,saveButtonTrailingIcon:!1,subject:p,setIsFileUploading:k})})});H.displayName="TextAreaElement",z.displayName="TextAreaElementInternal";let q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};q.hash="20ef068a2834313afaaf43e8b01d0d49";var W=n(99511);let G={issueFormTextField:"TextInputElement-module__issueFormTextField--dG9jp"},Q=(0,r.forwardRef)(({elementRef:e,sessionStorageKey:t,...n},l)=>{let i=(0,s.useFragment)(q,e),r=y(t,"",i.label,i.__id);return(0,a.jsx)(X,{ref:l,...i,...n,type:"input",sessionStorageKey:r})}),X=(0,r.forwardRef)(({sessionStorageKey:e,itemId:t,index:n,label:l,descriptionHTML:s,placeholder:o,required:c,value:u,defaultValuesById:m,onFieldChange:p},f)=>{let y=(0,r.useMemo)(()=>(0,g.k)({id:t,indexOfFormElement:n,value:u,defaultValuesById:m}),[t,n,u,m]),[b,k]=(0,i.Fo)(e,y),[x,C]=(0,r.useState)(!1),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(p&&m&&!x){let e=(0,g.k)({id:t,indexOfFormElement:n,value:u,defaultValuesById:m});e!==b&&e!==u&&k(e)}},[m,n,x,t,p,k,u,b]);let S=(0,r.useRef)(null),[j,I]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(f,()=>({focus:()=>S.current?.focus(),markdown:()=>h(l,b),validate:()=>{let e=(0,d.sT)(b,c??!1);return I(e.errorMessage),e.isValid},reset:()=>{k(y),I(void 0)},hasChanges:()=>b!==y,getSessionStorageKey:()=>e}),[y,l,c,e,k,b]),(0,r.useEffect)(()=>{j&&(0,d.sT)(b,c??!1).isValid&&I(void 0)},[c,b,j]),(0,a.jsx)(L,{label:l,description:s,required:c,validationResult:j,children:({labelId:e,descriptionIds:l})=>(0,a.jsx)(W.A,{ref:S,"aria-labelledby":e,"aria-describedby":l,placeholder:o??void 0,value:b,className:G.issueFormTextField,onChange:e=>{(e=>{C(!0),k(e),p&&p(t,n,e),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{C(!1),v.current=null},500)})(e.target.value)}})})});Q.displayName="TextInputElement",X.displayName="TextInputElementInternal";let Y={formElementsContainer:"IssueFormElements-module__formElementsContainer--v0fMt",markdownElementWrapper:"IssueFormElements-module__markdownElementWrapper--sr15G"},J=e=>"elements"in e?(0,a.jsx)(Z,{...e}):(0,a.jsx)(ee,{...e}),Z=({elements:e,outputRef:t,sessionStorageKey:n,...l})=>{let i=et(e.length,t);return(0,a.jsx)("div",{className:Y.formElementsContainer,children:e.map((e,t)=>{let r=((e,t,n)=>"markdown"===t.type?"":y(e,t.type,t.label,n))(n,e,t);switch(e.type){case"markdown":return(0,a.jsx)(V,{...e},t);case"textarea":return(0,a.jsx)(z,{index:t,...e,ref:i[t],sessionStorageKey:r,...l},t);case"input":return(0,a.jsx)(X,{index:t,...e,ref:i[t],sessionStorageKey:r,...l},t);case"dropdown":return(0,a.jsx)(A,{index:t,...e,ref:i[t],sessionStorageKey:r},t);case"checkboxes":return(0,a.jsx)(C,{index:t,...e,ref:i[t],sessionStorageKey:r},t)}})})},ee=({issueFormRef:e,outputRef:t,...n})=>{let i=(0,s.readInlineData)(l,e),r=et(i.elements.length,t);return(0,a.jsx)("div",{className:Y.formElementsContainer,children:i.elements.map((e,t)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,a.jsx)("div",{className:Y.markdownElementWrapper,children:(0,a.jsx)(M,{elementRef:e})},t);case"IssueFormElementInput":return(0,a.jsx)(Q,{index:t,elementRef:e,ref:r[t],...n},t);case"IssueFormElementDropdown":return(0,a.jsx)(w,{index:t,elementRef:e,ref:r[t],...n},t);case"IssueFormElementTextarea":return(0,a.jsx)(H,{index:t,elementRef:e,ref:r[t],...n},t);case"IssueFormElementCheckboxes":return(0,a.jsx)(x,{index:t,elementRef:e,ref:r[t],...n},t);default:return null}})})},et=(e,t)=>{let n=(0,r.useMemo)(()=>Array.from({length:e},()=>(0,r.createRef)()),[e]);return(0,r.useImperativeHandle)(t,()=>({markdown:()=>n.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join(`

`),getInvalidInputs:()=>n.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!n.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:()=>{for(let e of n)e.current?.reset();t.current?.clearSessionStorage()},hasChanges:()=>n.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=n.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,i.D6)(e)}}),[n,t]),n};try{J.displayName||(J.displayName="IssueFormElements")}catch{}try{Z.displayName||(Z.displayName="IssueFormElementsViaPayload")}catch{}try{ee.displayName||(ee.displayName="IssueFormElementsViaQuery")}catch{}},1117:(e,t,n)=>{n.d(t,{N:()=>en,$:()=>ea});var a=n(74848),l=n(96540),i=n(96760),r=n(78314),s=n(35898),o=n(71315),d=n(38621),c=n(72511),u=n(21373),m=n(67955),p=n(34164),g=n(21935),f=n(83878);let h={"commit-discussion-comments":"Comment-module__commit-discussion-comments--GlkCu","discussion-comments-rose":"Comment-module__discussion-comments-rose--JwtpK"};var y=n(24967),b=n(81945);let k=()=>(0,a.jsx)("div",{className:"d-flex gap-2",children:(0,a.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,a.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,a.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,a.jsx)(b.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,a.jsx)(b.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,t)=>(0,a.jsx)(b.O,{variant:"rounded",height:"sm",width:"random"},t)),(0,a.jsx)(y.e,{})]})})});try{k.displayName||(k.displayName="CommentLoading")}catch{}var x=n(26156),C=n(71073),v=n(23656),S=n(21086),j=n(38829),I=n(26076),N=n(19805),F=n(30617),_=n(49245),L=n(68534),T=n(8046),w=n(81034),A=n(88431);let E=(0,l.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:n,referenceId:i,buttonText:r,commentContent:s},o)=>{let[d,c]=(0,l.useState)(!1),u=(0,l.useRef)(null),m=(0,l.useRef)(void 0),{commentBoxSubject:p}=(0,F.X)(),g=(0,l.useCallback)(()=>{},[]),{markdownBody:f,resetMarkdownBody:h,markdownValidationResult:y,handleMarkdownBodyChanged:b}=(0,w.x)({commentBoxRef:u,markdownComposerRef:o,onChange:g,onCancel:()=>{},referenceId:i});(0,l.useEffect)(()=>{e&&!f&&b(e)},[e]),(0,l.useEffect)(()=>{if(s&&m.current!==s){b(s),m.current=s;let e=window.setTimeout(()=>{u.current&&(u.current?.scrollIntoView(),u.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[s]),(0,A.N)(()=>{if(u&&u.current){let e=window.setTimeout(()=>{u.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[u]);let k=async()=>{c(!0),await n(f,h),c(!1)};return(0,a.jsx)(T.hF,{ref:u,validationResult:y,disabled:d,onChange:e=>{b(e)},onCancel:()=>{b(""),t?.()},onSave:k,saveButtonText:r,saveButtonTrailingIcon:!1,value:f,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,subject:p})});function D({comment:e,commitOid:t,onCancel:n,onUpdate:i}){let{editComment:r}=(0,F.X)(),s=(0,l.useRef)(null),o=async t=>{let n=await r(t,e);n.updatedFields&&i({...e,...n.updatedFields})};return(0,a.jsx)(E,{commitOid:t,initialMarkdown:e.body,ref:s,onSave:o,onCancel:n,referenceId:`${t}-${e.id}`,buttonText:"Update comment"})}E.displayName="CommitCommentEditor";try{D.displayName||(D.displayName="UpdateCommitComment")}catch{}function P({comments:e,commit:t,locked:n,deleteComment:l,updateComment:i,setNewCommentContent:r,repoOwnerGlobalRelayId:s}){return 0===e.length?null:(0,a.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,a.jsx)(K,{comment:e,commit:t,locked:n,deleteComment:l,updateComment:i,setNewCommentContent:r,repoOwnerGlobalRelayId:s},e.id))})}function K({comment:e,commit:t,locked:n,deleteComment:i,updateComment:s,setNewCommentContent:o,repoOwnerGlobalRelayId:d}){let c=(0,r.t)(),[u,m]=(0,l.useState)(!1),[p,g]=(0,l.useState)(e.isHidden),f=(0,l.useRef)(null),{deleteComment:h,hideComment:b,unhideComment:k}=(0,F.X)(),x=async()=>{let t=await h(e.id.toString());"canceled"!==t&&"error"!==t&&"success"===t&&i(e.id)},C=async t=>{let n=await b(e.id.toString(),t);"error"!==n&&"success"===n&&(s({...e,isHidden:!0,minimizedReason:t}),g(!0))},v=async()=>{let t=await k(e.id.toString());"error"!==t&&"success"===t&&(s({...e,isHidden:!1,minimizedReason:null}),g(!1))},S=t.authors.length>0?t.authors[0]?.login:"",j={...(0,_.p)(e,t,c,d),referenceText:(0,L.F)(t.oid)};return(0,a.jsxs)("div",{className:"border rounded-2",ref:f,id:e.urlFragment,tabIndex:-1,children:[(0,a.jsx)(R,{comment:j,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:S,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:p,editComment:()=>{m(!0)},onReplySelect:o,onMinimize:g,navigate:()=>{},hideComment:C,unhideComment:v,deleteComment:x,commentRef:f,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),p?null:u?(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)(D,{comment:e,commitOid:t.oid,onUpdate:e=>{s(e),m(!1)},onCancel:()=>m(!1)})}):(0,a.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,a.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,a.jsx)(I.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(y.e,{}),children:(0,a.jsx)(N.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:n})})]})]})}function R({hideActions:e,...t}){let n,i,r=t.commitComment;return t.showEditHistory&&(n=(0,a.jsx)(l.Suspense,{fallback:null,children:(0,a.jsx)(M,{id:r.relayId})}),i=(0,a.jsx)(V,{id:t.comment.id})),(0,a.jsx)(x.v,{lastEditedByMessage:i,editHistoryComponent:n,forceInlineAvatar:!0,...t,actions:e?void 0:(0,a.jsx)(C.p,{onSuccessfulBlock:()=>{setTimeout(()=>o.cg?.location.reload(),800)},...t})})}function M({id:e}){let t=(0,j.f)({id:e});return t?(0,a.jsx)(v.W,{editHistory:t}):null}function V({id:e}){let t=(0,j.f)({id:e});return t?(0,a.jsx)(S._,{editInformation:t}):null}try{P.displayName||(P.displayName="ExistingCommitComments")}catch{}try{K.displayName||(K.displayName="ExistingCommitComment")}catch{}try{R.displayName||(R.displayName="CommitCommentHeader")}catch{}try{M.displayName||(M.displayName="CommitCommentHeaderEditHistory")}catch{}try{V.displayName||(V.displayName="CommitCommentHeaderLastEditedBy")}catch{}var B=n(25407),O=n(79634),U=n(96379),$=n(15220);function H({commitOid:e,locked:t,onClose:n}){let i=(0,r.t)(),{helpUrl:s}=(0,O.X)(),[o,d]=(0,l.useState)(!1),u=t?"Unlock":"Lock",m=async()=>{(await (0,U.DI)(`${(0,B.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!0):d(!0)},p=async()=>{(await (0,U.lS)(`${(0,B.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!1):d(!0)};return(0,a.jsxs)($.l,{onClose:()=>n(),width:"large",title:`${u} conversation on this commit`,footerButtons:[{content:`${u} conversation`,buttonType:"danger",style:{width:"100%"},onClick:t?p:m}],children:[o&&(0,a.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",u.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,a.jsxs)("p",{children:[u,"ing the conversation means:"]}),(0,a.jsx)("ul",{className:"ml-4",children:t?(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{children:["Other users ",(0,a.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),i.isOrgOwned?(0,a.jsxs)("li",{children:["You and other members of teams with"," ",(0,a.jsx)("a",{href:`${s}/get-started/learning-about-github/access-permissions-on-github`,children:"write access"})," ","to this repository ",(0,a.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,a.jsxs)("li",{children:["You and other collaborators"," ",(0,a.jsx)("a",{href:`${s}/get-started/learning-about-github/access-permissions-on-github`,children:"with access"})," to this repository ",(0,a.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,a.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",t?"lock":"unlock"," this commit again in the future."]})]})}try{H.displayName||(H.displayName="LockConversationDialog")}catch{}var z=n(21067),q=n(60912),W=n(61423),G=n(11738),Q=n(81156),X=n(77430);function Y({commitOid:e,onAddComment:t,onExpandCommentEditor:n,newCommentContent:i,canComment:r,locked:s,repoArchived:c,avatarURL:u}){let m=(0,z.M3)(),{addComment:p}=(0,F.X)(),g=(0,l.useRef)(null),f=async(e,n)=>{let a=await p(e);a.comment&&(t(a.comment),n())},h=(0,W.i)(c,s,m?void 0:(0,a.jsx)(Z,{redirectUrl:o.fV?.href}),"commit");return(0,a.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:r?(0,a.jsx)(J,{commitOid:e,commentEditor:g,onExpandEditor:n,onSave:f,newCommentContent:i,avatarURL:u||Q.t.ghostUser.avatarUrl}):(0,a.jsx)(q.P,{icon:d.LockIcon,reason:h})})}function J(e){let[t,n]=(0,l.useState)(()=>void 0!==e.newCommentContent),[r,s]=(0,l.useState)(e.newCommentContent);t||void 0===e.newCommentContent||r===e.newCommentContent||(n(!0),s(e.newCommentContent));let o="Comment";return t?(0,a.jsx)("div",{id:i.Bq.issueCommentComposer,children:(0,a.jsx)(E,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,initialMarkdown:e.newCommentContent,buttonText:o,onCancel:()=>{n(!1)}})}):(0,a.jsxs)("div",{id:i.Bq.issueCommentComposer,className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,a.jsx)(X.r,{src:e.avatarURL,size:20}),(0,a.jsx)(G.z,{onClick:()=>{n(!0),e.onExpandEditor?.()},children:o})]})}function Z({redirectUrl:e}){return(0,a.jsxs)("span",{children:["Please ",(0,a.jsx)("a",{href:e?`/login?return_to=${e}`:"/login",children:"sign in"})," to comment."]})}try{Y.displayName||(Y.displayName="NewCommitComment")}catch{}try{J.displayName||(J.displayName="CompactEditor")}catch{}try{Z.displayName||(Z.displayName="LoggedOutMessage")}catch{}var ee=n(10925);let et=(0,l.forwardRef)(({commitOid:e,subscribed:t},n)=>{let i,[s,o]=(0,l.useState)(t),[c,m]=(0,l.useState)(!1),p=(0,r.t)(),g=(0,ee.H)("/notifications/thread","post");i=c?`You're now ${s?"subscribed":"unsubscribed"} to this thread.`:s?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let f=async()=>{let t=new FormData;t.append("repository_id",p.id.toString()),t.append("thread_id",e),t.append("thread_class","Commit"),t.append("id",s?"unsubscribe":"subscribe"),t.append("authenticity_token",g??""),(await (0,U.DI)("/notifications/thread",{method:"POST",body:t})).ok&&(o(!s),m(!0))};return(0,a.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:n,children:[(0,a.jsx)(u.Q,{onClick:f,size:"small",leadingVisual:s?d.BellSlashIcon:d.BellIcon,children:s?"Unsubscribe":"Subscribe"}),(0,a.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:i})]})});et.displayName="NotificationsFooter";let en="comments";function ea(e){return(0,a.jsx)("div",{className:(0,p.$)("d-flex flex-column gap-2 pt-3",i.mU.commentsContainer,h["commit-discussion-comments"]),id:en,children:(0,l.createElement)(el,{...e,key:e.commit.oid})})}function el({commit:e,commentInfo:t,repoOwnerGlobalRelayId:n}){let i=(0,r.t)(),d=(0,s.i)(),{retry:m,loadMore:p,canLoadMore:y,addComment:b,deleteComment:x,updateComment:C,count:v,comments:S,subscribed:j,providerState:I}=(0,g.y)(),[N,F]=(0,l.useState)(void 0),[_,L]=(0,l.useState)(t.locked),T=(0,l.useMemo)(()=>(0,f.N)(e.oid,i.id),[e.oid,i.id]),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(o.cg?.location.hash){let e=o.cg.location.hash.slice(1);if(S.find(t=>t.urlFragment===e)){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[S]);let A=(0,l.useCallback)(()=>{setTimeout(()=>w.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei,{commitOid:e.oid,commentCount:v,canLock:t.canLock,locked:_,setLocked:L}),"loading"===I&&(0,a.jsx)(k,{}),"error"===I&&(0,a.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,a.jsx)("span",{children:"Failed to load comments."}),(0,a.jsx)(u.Q,{onClick:()=>m(),children:"Retry"})]}),"loaded"===I&&y&&(0,a.jsx)(u.Q,{className:"width-full",onClick:()=>p(),children:"Load more comments"}),(0,a.jsx)(P,{comments:S,commit:e,locked:_,repoOwnerGlobalRelayId:n,deleteComment:x,updateComment:C,setNewCommentContent:F}),T?(0,a.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,t)=>(0,a.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:h["discussion-comments-rose"]},`rose-${t}`))}):null,"loaded"===I||0!==S.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y,{commitOid:e.oid,onAddComment:b,onExpandCommentEditor:A,newCommentContent:N,canComment:t.canComment,locked:_,repoArchived:t.repoArchived,avatarURL:d?.avatarURL}),d?(0,a.jsx)(et,{ref:w,commitOid:e.oid,subscribed:j??!1}):null]}):null]})}function ei({commitOid:e,commentCount:t,locked:n,setLocked:i,canLock:r}){let[s,o]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,a.jsxs)("h2",{className:"sr-only",children:[t," commit comments"]}),(0,a.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,a.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==t&&(0,a.jsx)(m.A,{children:t})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Q,{leadingVisual:n?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>o(!0),children:[n?"Unlock":"Lock"," conversation"]}),s&&(0,a.jsx)(H,{commitOid:e,locked:n,onClose:e=>{o(!1),void 0!==e&&i(e)}})]})]})}try{ea.displayName||(ea.displayName="DiscussionComments")}catch{}try{el.displayName||(el.displayName="DiscussionCommentsInternal")}catch{}try{ei.displayName||(ei.displayName="DiscussionCommentsHeader")}catch{}},1667:(e,t,n)=>{n.d(t,{j:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{kind:"Literal",name:"first",value:20}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},c=[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[l,n,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],u=[{kind:"Literal",name:"first",value:10}],m={kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:t,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:a,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:u,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:t,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[l,{kind:"InlineFragment",selections:[n,{alias:null,args:a,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:[n,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"},m],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:u,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:[l,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null},m],storageKey:null}],storageKey:null}]},params:{id:"8370e947043263ceb6b89e9417721ee9",metadata:{},name:"replaceActorsForAssignableRelayMutation",operationKind:"mutation",text:null}}}();a.hash="9d05e2b8ef58fbf0c91907d9d7781ebb";var l=n(18312);function i({environment:e,input:{issueId:t,assignedActors:n,participants:i},clientMutationId:r,onError:s,onCompleted:o}){let d=[...new Map([...n,...i].filter(e=>!e.isCopilot).map(e=>[e.login,e])).values()].slice(0,5);return(0,l.commitMutation)(e,{mutation:a,variables:{input:{assignableId:t,actorIds:n.map(e=>e.id),clientMutationId:r}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:t,assignedActors:{nodes:n.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},participants:{nodes:d.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})}}}},onError:e=>s&&s(e),onCompleted:e=>o&&o(e)})}},1756:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(23149),l=Object.create,i=function(){function e(){}return function(t){if(!(0,a.A)(t))return{};if(l)return l(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),r=n(15647),s=n(97271);let o=function(e){return"function"!=typeof e.constructor||(0,s.A)(e)?{}:i((0,r.A)(e))}},1801:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(90565);let l=function(e,t){var n=t?(0,a.A)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2495:(e,t,n)=>{n.d(t,{h:()=>i});var a=n(74848),l=n(21798);function i({title:e,headingProps:{...t}={},...n}){return(0,a.jsx)(l.X,{title:e,headingProps:t,...n,readonly:!0})}try{i.displayName||(i.displayName="ReadonlySectionHeader")}catch{}},2892:(e,t,n)=>{n.d(t,{a:()=>k});var a=n(74848),l=n(87448),i=n(26108),r=n(38621),s=n(47990),o=n(96540),d=n(38267);let c={small:"16px",medium:"20px",large:"24px",xlarge:"32px"},u="medium",m=({as:e="span",onClick:t,onFocus:n,tabIndex:a=-1,interactive:l})=>l??!!(n||t||a>-1||["a","button"].includes(e)),p={fontSize:1,height:c.xlarge,lineHeight:c.xlarge,px:3,py:0},g={small:{fontSize:0,height:c.small,lineHeight:c.small,px:1,py:0},medium:{fontSize:0,height:c.medium,lineHeight:c.medium,px:2,py:0},large:{fontSize:0,height:c.large,lineHeight:c.large,px:2,py:0},extralarge:p,xlarge:p},f=d.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-34ef4fe6-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;",""],e=>m(e)?"pointer":"auto",(0,l.yB)("fontWeights.bold"),l.sx),h=o.forwardRef(function({text:e,onRemove:t,id:n,as:l="span",sx:i,size:r=u,...s},o){return(0,a.jsx)(f,{"aria-label":t?`${e}, press backspace or delete to remove`:void 0,id:n?.toString(),as:l,sx:{...g[r],...i},...s,ref:o})});try{h.displayName||(h.displayName="TokenBase")}catch{}let y=(0,d.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-690ded13-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]);try{y.displayName||(y.displayName="TokenTextContainer")}catch{}let b={labelTokenBase:"LabelToken-module__labelTokenBase--v0rBi",labelTokenDeleteButton:"LabelToken-module__labelTokenDeleteButton--VLMDp"},k=(0,o.forwardRef)(({as:e,fontWeight:t,fillColor:n="#999",onRemove:d,id:c,isSelected:p,text:g,size:f=u,hideRemoveButton:k,href:x,onDelete:C,...v},S)=>{let{colorScheme:j}=(0,l.DP)(),I=(0,o.useMemo)(()=>j?.includes("high_contrast"),[j]),N=(0,o.useMemo)(()=>({"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"}),[]),F=(0,o.useMemo)(()=>({"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":I?"0.9":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"}),[I]),_={as:e,href:x},L=m(v)&&!!d&&!k,T=(0,o.useMemo)(()=>{let[e,a,l]=(0,s.Du)(n),[i,r,o]=(0,s.BT)(n);return{"--label-r":String(e),"--label-g":String(a),"--label-b":String(l),"--label-h":String(Math.round(i)),"--label-s":String(Math.round(100*r)),"--label-l":String(Math.round(100*o)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((var(--perceived-lightness) - var(--lightness-threshold)) * -1000), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:k||!d?void 0:0,position:"relative",minWidth:0,overflow:"hidden",...j?.includes("light")?N:F,...t?{fontWeight:t}:{},...p?{background:"light"===j?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":F.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===j?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{}}},[n,k,d,t,j,N,F,p]);return(0,a.jsxs)(h,{onRemove:d,id:c?.toString(),isSelected:p,text:g,size:f,sx:T,...!L?_:{},...v,ref:S,className:C?b.labelTokenBase:void 0,children:[(0,a.jsx)(y,{...L?_:{},children:g}),C&&(0,a.jsx)(i.K,{onClick:e=>{e.stopPropagation(),e.preventDefault(),C()},variant:"invisible",icon:r.XIcon,size:"small","aria-label":"Remove label",className:b.labelTokenDeleteButton})]})});k.displayName="IssueLabelToken"},3047:(e,t,n)=>{n.d(t,{IE:()=>d,Y0:()=>o,kO:()=>r,nB:()=>u,uV:()=>s,vl:()=>c,zo:()=>i});var a=n(98646),l=n(8816);function i(e,t){if(e?.field?.id!==t?.field?.id||!e?.field||!t?.field)return!1;let n=e.field;return"TEXT"===n.dataType||"DATE"===n.dataType?e?.value===t?.value:"NUMBER"===n.dataType?e?.numberValue===t?.numberValue:"SINGLE_SELECT"!==n.dataType||e?.name===t?.name}function r(e,t){let n=t.filter(t=>!e.some(e=>e?.field?.id===t?.field?.id));return{addedFields:n,updatedFields:t.filter(t=>e.some(e=>e?.field?.id===t?.field?.id&&!i(e,t))),removedFields:e.filter(e=>!t.some(t=>t?.field?.id===e?.field?.id))}}function s(e){return e&&e.field?o(e.field,null):e}function o(e,t){let n=(0,a.YQ)(e);switch(n.dataType){case"text":return{field:{...n,dataType:"TEXT"},value:t||""};case"single_select":return{field:{...n,dataType:"SINGLE_SELECT"},value:t};case"date":return{field:{...n,dataType:"DATE"},value:t};case"number":return{field:{...n,dataType:"NUMBER"},value:t}}}function d(e,t){let n=(0,a.YQ)(e);switch(n.dataType){case"text":return{field:{...n,dataType:"TEXT"},value:t};case"single_select":return{field:{...n,dataType:"SINGLE_SELECT"},value:t};case"date":return{field:{...n,dataType:"DATE"},value:t};case"number":{if(null===t||""===t)return{field:{...n,dataType:"NUMBER"},value:null};let e=Number(t);return{field:{...n,dataType:"NUMBER"},value:isNaN(e)?0:e}}}}function c(e,t){switch(e){case"text":return t;case"single_select":return t&&t.id?String(t.id):void 0;case"date":var n;return((n=t)?new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0,0)).toISOString():null)||void 0;case"number":return t?.toString()}}function u(e,t){return"single_select"===e?t&&t.name?String(t.name):void 0:"date"===e?t?(0,l.b)(t):void 0:c(e,t)}},3536:(e,t,n)=>{n.d(t,{I:()=>s,d_:()=>o,wu:()=>r});var a=n(96379),l=n(96540),i=n(4095);function r(e,t){let[n,r]=(0,l.useState)(i.UI);return(0,l.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{r(i.UI);let n=await (0,a.Sr)(e);if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&r(e)}else r(i.Xx)}catch{r(i.Xx)}})(),function(){t=!0}},[e,t]),n}function s(e){let[t,n]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{e&&(async()=>{let t=await (0,a.Sr)(e);try{if(t.ok){let e=await t.json();e&&n(e.data)}}catch{}})()},[e]),t}function o(e,t,n,r){let[s,o]=(0,l.useState)(i.UI),d=(0,l.useRef)([...Array(n)]),c=(0,l.useRef)(t);return(0,l.useEffect)(()=>{if(!e)return;let n=!1;async function l(t){let i=await (0,a.Sr)(`${e}?start_entry=${t}`);if(!n)try{if(i.ok){let e=await i.json();if(e){let t=0;for(let n=c.current;n<e.nextIndex;n++)d.current[n]=e.deferredCommits[t],t++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,o(e),setTimeout(()=>l(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,o(e))}}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{o(e=>({...e,loading:!1,deferredCommits:d.current}))}}return l(t),function(){n=!0}},[e,r,t]),(0,l.useEffect)(()=>{d.current=[],c.current=t},[e,r,t]),s}},3872:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(82075),l=n(40104),i=n(24990),r=n(96540),s=n(98338),o=n(79403);let d=({storageKeyPrefix:e,issueFormRef:t,onCancel:n})=>{let d=(0,i.S)(),c=(0,a.A)("sessionStorage"),u=(0,r.useMemo)(()=>JSON.stringify(""),[]),m=(0,r.useCallback)(async()=>await d({title:s.k.discardConfirmation.title,content:s.k.discardConfirmation.content,confirmButtonContent:s.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:s.k.discardConfirmation.cancel}),[d]);return{onSafeClose:(0,r.useCallback)(async()=>{(!((0,o.m5)(e).some(e=>null!==c.getItem(e)&&c.getItem(e)!==u)||t?.current?.hasChanges())||await m())&&((0,l.D6)((0,o.wK)(e)),t?.current?.clearSessionStorage(),n())},[e,m,c,u,t,n])}}},4095:(e,t,n)=>{n.d(t,{M2:()=>o,NO:()=>d,UI:()=>i,Xx:()=>r,ej:()=>u,xs:()=>c});var a=n(74848),l=n(96540);let i={deferredCommits:[],renameHistory:null,loading:!0},r={deferredCommits:[],renameHistory:null,loading:!1},s=(0,l.createContext)(i);function o({children:e,deferredData:t}){return(0,a.jsx)(s.Provider,{value:t,children:e})}function d(e){let t=(0,l.useContext)(s),n=t.error,a=t.deferredCommits?.find(t=>t?.oid===e);return n&&void 0===a&&(a={oid:e,statusCheckStatus:void 0}),a}function c(){return(0,l.useContext)(s).loading}function u(){return(0,l.useContext)(s).renameHistory}try{s.displayName||(s.displayName="DeferredCommitDataContext")}catch{}try{o.displayName||(o.displayName="DeferredCommitDataProvider")}catch{}},4551:(e,t,n)=>{n.d(t,{n:()=>i,w:()=>r});var a=n(74848),l=n(5524);let i={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},r=({setMenuOpen:e,onSelect:t})=>(0,a.jsx)(a.Fragment,{children:Object.keys(i).map(n=>(0,a.jsx)(l.l.Item,{"aria-label":`Hide comment as ${i[n]}`,onSelect:()=>{t(n),e?.(!1)},children:i[n]},n))});try{r.displayName||(r.displayName="HideCommentActionItems")}catch{}},4559:(e,t,n)=>{n.d(t,{C:()=>r,i:()=>s});var a=n(71315),l=n(69599),i=n(46493);function r(e,t){(0,l.G7)("arianotify_comprehensive_migration")?s(o(e),{...t,element:t?.element??e}):(0,l.G7)("primer_live_region_element")&&t?.element===void 0?(0,i.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):s(o(e),t)}function s(e,t){let{assertive:n,element:r}=t??{};(0,l.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(r||document.body).ariaNotify(e):(0,l.G7)("primer_live_region_element")&&void 0===r?(0,i.iP)(e,{politeness:n?"assertive":"polite"}):function(e,t,n){let l=n??a.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");l&&(l.textContent===e?l.textContent=`${e}\u00A0`:l.textContent=e)}(e,n,r)}function o(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},4788:(e,t,n)=>{n.d(t,{N:()=>DebouncedWorkerManager});var a=n(35750),l=n(18150),i=n(85242),r=n(88243),s=n(16213),o=n(50467),d=new WeakMap,c=new WeakMap,u=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap,f=new WeakSet;let DebouncedWorkerManager=class DebouncedWorkerManager{post(e){if((0,a._)(this,g)&&(0,a._)(this,g).call(this,e))return(0,a._)(this,u)&&clearTimeout((0,a._)(this,u)),(0,r._)(this,f,h).call(this,e);this.idle()?((0,a._)(this,u)&&clearTimeout((0,a._)(this,u)),(0,i._)(this,u,setTimeout(()=>{(0,r._)(this,f,h).call(this,e)},(0,a._)(this,p)))):(0,i._)(this,c,e)}idle(){return!(0,a._)(this,d)}terminate(){(0,a._)(this,m).terminate()}constructor(e,t=200,n){(0,s._)(this,f),(0,l._)(this,d,{writable:!0,value:void 0}),(0,l._)(this,c,{writable:!0,value:void 0}),(0,o._)(this,"onResponse",void 0),(0,l._)(this,u,{writable:!0,value:void 0}),(0,l._)(this,m,{writable:!0,value:void 0}),(0,l._)(this,p,{writable:!0,value:void 0}),(0,l._)(this,g,{writable:!0,value:void 0}),(0,i._)(this,m,e),(0,i._)(this,p,t),(0,i._)(this,g,n),(0,a._)(this,m).onmessage=({data:e})=>{this.onResponse&&this.onResponse(e),(0,a._)(this,c)?((0,r._)(this,f,h).call(this,(0,a._)(this,c)),(0,i._)(this,c,void 0)):(0,i._)(this,d,void 0)}}};function h(e){(0,i._)(this,d,e),(0,a._)(this,m).postMessage(e)}},4889:(e,t,n)=>{n.d(t,{e:()=>b,l:()=>k});var a=n(74848),l=n(83494),i=n(31604),r=n(86877),s=n(99511),o=n(21373),d=n(96540),c=n(16810),u=n(21798),m=n(41848);let p={issuesFieldTextInputContainer:"IssueFieldTextToken-module__issuesFieldTextInputContainer--BYChH",issuesFieldTextError:"IssueFieldTextToken-module__issuesFieldTextError--AZz7r",issuesFieldToolbar:"IssueFieldTextToken-module__issuesFieldToolbar--gb7A0",issuesFieldToolbarActions:"IssueFieldTextToken-module__issuesFieldToolbarActions--gYxXu",actionButton:"IssueFieldTextToken-module__actionButton--YsG8y",issuesFieldText:"IssueFieldTextToken-module__issuesFieldText--WUTvu",noValueContainer:"IssueFieldTextToken-module__noValueContainer--GU_ur"};var g=n(57352),f=n(8645);let h=/^([(['"]*)(.*?)([.,:;!?\])"']*)$/;try{h.displayName||(h.displayName="PUNCTUATION_REGEX")}catch{}let y=e=>(e=>{let{length:t}=e;return t>255?m.k.textValidationMaxLength(t,255):null})(e),b=({initialValue:e,hideDivider:t,validate:n=y,className:l,errorPresent:i=!1,readonly:r,...s})=>{let o=(0,a.jsx)(k,{initialValue:e,validate:n,renderAnchor:(e,t,n)=>(0,a.jsx)(u.X,{ref:t,title:n,readonly:r,buttonProps:e,errorPresent:i}),...s});return(0,a.jsx)(c.w,{sectionHeader:o,hideDivider:t,className:l,children:e?(0,a.jsx)("span",{className:p.issuesFieldText,children:function(e){if(!e)return null;let t=e.split(/(\s+)/);return(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>{let n=`${e}-${t}`;if(!e.trim())return(0,a.jsx)(d.Fragment,{children:e},n);let{cleanText:l,prefix:i,suffix:r}=function(e){let t=e.match(h);if(!t)return{cleanText:e,prefix:"",suffix:""};let[n,a="",l="",i=""]=t;return{cleanText:l,prefix:a,suffix:i}}(e);if(!l)return(0,a.jsx)(d.Fragment,{children:e},n);let s=(0,f.o2)(l),o=(0,f.ml)(s);return(0,f.Y9)(o)&&(0,f.cE)(o)?(0,a.jsxs)(d.Fragment,{children:[i,(0,a.jsx)(g.A,{href:o,rel:"noopener noreferrer",children:s}),r]},n):(0,a.jsx)(d.Fragment,{children:e},n)})})}(e)}):(0,a.jsx)("span",{className:p.noValueContainer,children:m.k.setValue})})},k=({fieldId:e,fieldName:t,initialValue:n,onCommit:c,shouldOpen:u=!1,validate:g=y,inputProps:f,isDraft:h=!1,isNumber:b=!1,renderAnchor:k,overrideWidth:x,onClose:C})=>{let[v,S]=(0,d.useState)(!0),[j,I]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=e=>{j&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[j]);let[N,F]=(0,d.useState)(n),_=(0,d.useMemo)(()=>v?null:g(N),[v,N,g]),L=(0,d.useMemo)(()=>v||!!_,[v,_]),[T,w]=(0,d.useState)(u),A=(0,d.useCallback)(()=>{c(e,b?null:""),I(!1)},[e,b,c]),E=(0,d.useCallback)(()=>{n?(F(n),w(!1),S(!0),I(!1)):A()},[n,A]),D=(0,d.useCallback)(()=>{c(e,N),w(!1),S(!0),I(!1)},[e,c,N]),P=(0,d.useCallback)(()=>w(!0),[]),K=(0,d.useCallback)(()=>{if(C?.(),h)return void A();v||I(!0),w(!1)},[v,h,C,A]),R=(0,d.useMemo)(()=>({commands:{"github:cancel":E,"github:submit-form":L?void 0:D},keys:{"github:cancel":["Escape"],"github:submit-form":["Enter"]}}),[L,E,D]),M=(0,d.useRef)(null),[V,B]=(0,d.useState)("256px");(0,d.useEffect)(()=>{if(T&&M.current){let e=M.current.getBoundingClientRect().width;e>0&&B(`${e}px`)}},[T]);let O=(0,d.useMemo)(()=>j?`${t} (edited)`:t,[t,j]);return(0,a.jsx)(i.T,{open:T,anchorRef:M,renderAnchor:e=>k(e,M,O),onClose:K,onOpen:P,overlayProps:{style:{width:x??V}},children:(0,a.jsxs)(l.tL,{...R,children:[(0,a.jsx)("div",{className:p.issuesFieldTextInputContainer,children:(0,a.jsxs)(r.A,{children:[(0,a.jsx)(r.A.Label,{visuallyHidden:!0,children:m.k.textEditorLabel(t)}),(0,a.jsx)(s.A,{block:!0,value:N,placeholder:m.k.textEditorPlaceholder,onChange:e=>{let{value:t}=e.target;F(t),t===n?S(!0):S(!1)},...f}),_&&(0,a.jsx)(r.A.Validation,{variant:"error",className:p.issuesFieldTextError,children:_})]})}),(0,a.jsx)("div",{className:p.issuesFieldToolbar,role:"toolbar","aria-label":m.k.textEditorToolbarLabel(t),children:(0,a.jsxs)("div",{className:p.issuesFieldToolbarActions,children:[(0,a.jsx)(o.Q,{size:"small",onClick:E,className:p.actionButton,trailingVisual:(0,a.jsx)(l.hh,{commandId:"github:cancel"}),children:m.k.textEditorCancelButton}),(0,a.jsx)(o.Q,{size:"small",variant:"primary",onClick:D,"aria-disabled":L,"aria-label":m.k.textEditorUpdateButtonAriaLabel(t),className:p.actionButton,trailingVisual:(0,a.jsx)(l.hh,{commandId:"github:submit-form",variant:L?"normal":"onPrimary"}),children:m.k.textEditorUpdateButton})]})})]})})};try{b.displayName||(b.displayName="IssueFieldTextEditor")}catch{}try{k.displayName||(k.displayName="IssueFieldTextEditorInternal")}catch{}},5547:(e,t,n)=>{n.d(t,{_:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,n],storageKey:null}],storageKey:null}]},params:{id:"7f65e947ab21dc1572e9b06674ca6cab",metadata:{},name:"updateIssueIssueTypeSharedMutation",operationKind:"mutation",text:null}}}();a.hash="525c7c0b085e2a3347272a3cefbab2c2";var l=n(18312);function i({environment:e,input:t,onError:n,onCompleted:i}){return(0,l.commitMutation)(e,{mutation:a,variables:{input:t},onError:e=>n&&n(e),onCompleted:e=>i&&i(e)})}},5643:(e,t,n)=>{n.d(t,{C:()=>k,$:()=>b});var a=n(74848),l=n(69599),i=n(74563),r=n(19918),s=n(86391),o=n(46377),d=n(83494),c=n(38621),u=n(5839),m=n(50279),p=n(96540),g=n(15220);let f=({onClose:e,returnFocusRef:t})=>(0,a.jsx)(g.l,{"aria-label":r.k.projectItemsLimitReachedDialogLabel,title:r.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:t,width:"large",footerButtons:[{content:r.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,a.jsx)("div",{children:r.k.projectItemsLimitReachedDialogMessage})});try{f.displayName||(f.displayName="ProjectItemsLimitReachedDialog")}catch{}let h=[],y=[];function b({items:e=h,groups:t=y,selectedProjects:n,isDialogOpen:o,handleDialogClose:c,filterValue:g,onCancel:b,onOpenChange:k,onFilterChange:x,anchorElement:C,onSelectionChange:v,insidePortal:S,isLoading:j,title:I,triggerOpen:N}){let F=(0,p.useCallback)(()=>{N||k(!0,"anchor-key-press")},[N,k]),_=(0,p.useRef)(null),L=e.length<=2?"auto":"large",T=(0,s.D)(S,_,L),w=(0,l.G7)("issues_react_select_panel_fullscreen_on_narrow"),A=(0,p.useMemo)(()=>0===e.length,[e.length]),E=(0,p.useMemo)(()=>{let a={renderAnchor:e=>C(e),anchorRef:_,placeholderText:r.k.filterProjects,items:e,selected:n,open:N||!1,onOpenChange:k,onCancel:b,onSelectedChange:v,filterValue:g,onFilterChange:x,showItemDividers:!0,overlayProps:{width:"medium",...T},loading:j,title:I??r.k.selectProjects,message:A?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return t?.length>0&&e.length>0&&(a.groupMetadata=t),a},[T,C,g,e,t,j,b,x,k,v,N,n,A,I]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.ak,{commands:{"item-pickers:open-projects":F}}),(0,a.jsx)(m.g,{flags:{primer_react_select_panel_fullscreen_on_narrow:w},children:(0,a.jsx)(u.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...E})}),o&&(0,a.jsx)(f,{onClose:c,returnFocusRef:_})]})}function k({firstSelectedProjectTitle:e,readonly:t,nested:n,anchorProps:l}){return(0,a.jsx)(o._,{anchorText:r.k.noProjects,sharedPickerMainValue:e,anchorProps:t?void 0:l,ariaLabel:r.k.selectProjects,readonly:t,nested:n,leadingIcon:c.TableIcon,hotKey:void 0})}try{b.displayName||(b.displayName="ProjectPickerBase")}catch{}try{k.displayName||(k.displayName="DefaultProjectPickerAnchor")}catch{}},6923:(e,t,n)=>{n.d(t,{KJ:()=>i,X3:()=>l,g5:()=>r});var a=n(56038);let l=void 0===a.XC,i=!l;function r(){return!!l||!a.XC||!!(a.XC.querySelector('react-app[data-ssr="true"]')||a.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},7808:(e,t,n)=>{n.d(t,{z:()=>WebWorker});var a=n(35750),l=n(18150),i=n(85242),r=n(50467);let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,r._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};var s=new WeakMap,o=new WeakMap;let MainThreadWorker=class MainThreadWorker{async postMessage(e){if((0,a._)(this,s))return;let t={data:(0,a._)(this,o).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,i._)(this,s,!0)}constructor(e){(0,l._)(this,s,{writable:!0,value:!1}),(0,r._)(this,"onmessage",void 0),(0,l._)(this,o,{writable:!0,value:void 0}),(0,i._)(this,o,e)}}},8046:(e,t,n)=>{n.d(t,{hF:()=>W,xR:()=>z,s_:()=>q});var a=n(74848),l=n(69599),i=n(5990),r=n(73189),s=n(82075),o=n(31223),d=n(58615),c=n(96379),u=n(96540);let m={emojiTone:0,pasteUrlsAsPlainText:!1,useMonospaceFont:!1},p=new Map,g="/settings/appearance/viewer-settings";async function f(){try{let e=await (0,c.Sr)(g);if(!e.ok)throw Error(`HTTP ${e.status}`);let t=await e.json(),n=function(e){if(!e||"object"!=typeof e)return null;let t="number"==typeof e.emojiTone?e.emojiTone:m.emojiTone,n="boolean"==typeof e.pasteUrlsAsPlainText?e.pasteUrlsAsPlainText:m.pasteUrlsAsPlainText,a="boolean"==typeof e.useMonospaceFont?e.useMonospaceFont:m.useMonospaceFont;return void 0!==e.emojiTone||void 0!==e.pasteUrlsAsPlainText||void 0!==e.useMonospaceFont?{emojiTone:t,pasteUrlsAsPlainText:n,useMonospaceFont:a}:null}(t);if(!n)throw Error("Invalid response payload");return n}catch(e){throw e}}var h=n(21513),y=n(72511),b=n(38621),k=n(40961);function x({onChange:e,inputValue:t,sourceContentFromDiffLines:n,onInsertSuggestedChange:l,shouldInsertSuggestionOnRender:r,editorRef:s}){let o=`\`\`\`suggestion
${n??""}
\`\`\``,d=()=>{l(),s.current?.focus();let n=""===t?o:`${t}
${o}`;(0,k.flushSync)(()=>{e(n)});let a=document.activeElement;if(!a||!(a instanceof HTMLTextAreaElement))return;let i=n.length-3;a.selectionStart=i-1,a.selectionEnd=i-1};return(0,u.useEffect)(()=>{if(r){let e=window.setTimeout(()=>d());return()=>{window.clearTimeout(e)}}},[]),(0,a.jsx)(i.n.ToolbarButton,{icon:b.FileDiffIcon,"aria-label":"Add a suggestion",onClick:d})}try{x.displayName||(x.displayName="AddSuggestionButton")}catch{}var C=n(16049),v=n(62173);let S={fromPropsSubject:e=>e?"project"===e.type?{subjectId:e.id?.databaseId?.toString(),subjectType:e.type}:{subjectId:e.id?.databaseId?.toString()??e.id?.id,subjectRepoId:e.repository.databaseId,subjectType:"issue_comment"===e.type?"issue":e.type}:{}},j={staleContentWarning:"CommentBox-module__staleContentWarning--i6nrw",commentBoxContainer:"CommentBox-module__commentBoxContainer--yrAth"};var I=n(55255),N=n(91835);function F({onSave:e,validationResult:t,children:n,trailingIcon:l,disabled:i,size:r}){let s=(0,a.jsx)(N.x,{variant:"primary",size:r,onClick:e,disabled:i||!t.isValid,trailingVisual:l&&i?b.AlertFillIcon:null,children:n});return t.isValid?s:(0,a.jsx)(I.A,{text:t.errorMessage,direction:"w","data-testid":"save-button-tooltip",children:s})}try{F.displayName||(F.displayName="SaveButton")}catch{}var _=n(87448),L=n(34164);let T={slashCommandContainer:"SlashCommandsProvider-module__slashCommandContainer--ZPT3l"},w=(0,u.createContext)(null),A=({children:e,subject:t,onInsertText:n,onSave:l})=>{let i=(0,u.useRef)(null),r=(0,u.useRef)(null),[{top:s,left:o},d]=(0,u.useState)({top:0,left:0});(0,u.useEffect)(()=>{let e=i.current;if(!e)return;let t=e?.querySelector("textarea"),n={top:0,left:0};for(;t!==e;){if(null===t)return;n.top+=t.offsetTop,n.left+=t.offsetLeft,t=t.offsetParent instanceof HTMLElement?t.offsetParent:null}d(n)},[]),(0,u.useEffect)(()=>{let e=r.current;if(!e)return;i.current?.querySelector("textarea")&&e.reconnect?.();let t=()=>{e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.()},n=i.current?.querySelector("textarea");return n?.addEventListener("focus",t),()=>{n?.removeEventListener("focus",t)}},[]),(0,u.useEffect)(()=>{let e=r.current;if(!e)return;let t=i.current?.querySelector("textarea")||null,n=new MutationObserver(()=>{let n=i.current?.querySelector("textarea");n&&n!==t&&(t=n,e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.())});return i.current&&n.observe(i.current,{childList:!0,subtree:!0}),()=>{n.disconnect()}},[]),(0,u.useEffect)(()=>{if(!l)return;let e=r.current;if(e)return e.addEventListener("request-submit",l),()=>{e.removeEventListener("request-submit",l)}},[l]);let c=(0,u.useMemo)(()=>({onInsertText:n}),[n]);return(0,a.jsx)(_.az,{ref:i,sx:{"& .js-slash-command-menu":{mt:`${s}px`,ml:`${o}px`}},className:(0,L.$)("js-slash-command-surface",T.slashCommandContainer),children:(0,a.jsx)("slash-command-expander",{ref:r,keys:"/","data-slash-command-url":(e=>{let t=`/${e.repository.nwo}/slash_apps?surface=${function(e){switch(e){case"issue_comment":return"issue_comment";case"issue":return"issue_body";case"pull_request":return"pull_request";case"commit":return"commit"}}(e.type)}`;return e.id&&(t+=`&subject_gid=${e.id.id}`),t})(t),children:(0,a.jsx)(w.Provider,{value:c,children:e})})})},E=()=>{let e=(0,u.useContext)(w);return e?(0,a.jsx)(i.n.ToolbarButton,{icon:b.DiffIgnoredIcon,"aria-label":"Slash commands",onClick:()=>e.onInsertText("/")}):null};try{w.displayName||(w.displayName="SlashCommandButtonContext")}catch{}try{A.displayName||(A.displayName="SlashCommandsProvider")}catch{}try{E.displayName||(E.displayName="SlashCommandsButton")}catch{}let D={isFileUploading:/<!-- Uploading[\s\S]*?-->/},P={staleContentError:"The content you are editing has changed. Please copy your edits and exit the editor.",leaveCommentLabel:"Leave a comment"};var K=n(67702),R=n(70263);function M(e){let t=(0,u.useRef)(void 0);return(0,u.useEffect)(()=>{t.current&&(t.current=void 0)},[e]),(0,u.useCallback)(()=>(t.current||(t.current=e()),t.current),[e])}async function V(e){try{let t=await (0,c.lS)(`/settings/replies${e?`?context=${e}`:""}`);return(await t.json()).map(e=>({name:e.title,content:e.body}))}catch{return[]}}async function B({subjectId:e,subjectType:t,subjectRepoId:n}){let a=e?`/${e}`:"",l="?mention_suggester=1&user_avatar=1";l=n?`${l}&repository_id=${n}`:l;let i=`/suggestions/${t}${a}${l}`,r=await (0,c.lS)(i,{method:"GET"});return await r.json()}async function O(e){try{return(await B(e)).map(e=>"login"in e?{description:e.name,identifier:e.login,avatarUrl:e.avatarUrl,participant:e.participant}:{description:e.description,identifier:e.name,avatarUrl:e.avatarUrl,participant:e.participant})}catch{return[]}}async function U({subjectId:e,subjectType:t,subjectRepoId:n}){let a=e?`/${e}`:"",l=await (0,c.lS)(`/suggestions/${t}${a}?issue_suggester=1&repository_id=${n}`,{method:"GET"});return await l.json()}async function $(e){try{let t=await U(e),n=t.icons;return t.suggestions.map(e=>({id:e.number.toString(),titleText:e.title,titleHtml:e.title,iconHtml:n[e.type]}))}catch{return[]}}let H={mentions:"loading",references:"loading",savedReplies:[]},z=i.n.ActionButton,q=()=>{let e=(0,s.A)("localStorage");return(0,l.G7)("markdown_experience_hybrid_editor")?e.getItem("markdown_editor_selected_view")??"edit":"edit"},W=(0,u.forwardRef)(({"aria-describedby":e,"data-testid":t,label:n,labelledBy:l,showLabel:c,disabled:b=!1,subject:k,viewMode:I,onChangeViewMode:N,value:_,placeholder:L,onChange:T,onSave:w,onCancel:B,validationResult:U,saveButtonText:z="Save",saveButtonTrailingIcon:W=!0,actions:G,footerButtons:Q,contentIsStale:X,fileUploadsEnabled:Y=!0,minHeightLines:J,maxHeightLines:Z,className:ee,onPrimaryAction:et,buttonSize:en,suggestedChangesConfig:ea,markdownErrorMessage:el,teamHovercardsEnabled:ei,setIsFileUploading:er,markdownSuggestionsFetchMethod:es="lazy",lineNumber:eo,filePath:ed,startLineNumber:ec},eu)=>{let em=S.fromPropsSubject(k),ep=k?.type==="project"?k?.id?.databaseId.toString():void 0,[eg,ef]=(0,u.useState)("eager"===es),{mentions:eh,references:ey,emojis:eb,savedReplies:ek}=function(e={},t){let n=(0,R.A)(),a=function({subjectId:e,subjectType:t,subjectRepoId:n}){return M((0,u.useCallback)(()=>t&&("project"===t||n)?O({subjectId:e,subjectType:t,subjectRepoId:n}):Promise.resolve([]),[t,n,e]))}(e),l=function({subjectId:e,subjectType:t,subjectRepoId:n}){return M((0,u.useCallback)(async()=>t&&n?$({subjectId:e,subjectType:t,subjectRepoId:n}):Promise.resolve([]),[e,t,n]))}(e),i=function({subjectType:e}){return M((0,u.useCallback)(()=>V("issue"===e||"pull_request"===e?e:void 0),[e]))}(e),[r,s]=(0,u.useState)(H);(0,u.useEffect)(()=>{let e=async()=>{let[e,t,r]=await Promise.all([a(),l(),i()]);n()&&(e.length||t.length||r.length)&&s({mentions:e,references:t,savedReplies:r})};t&&e()},[a,l,i,n,t]);let o=(0,K.P)(t);return{...r,emojis:o.isPending?"loading":o.data??[]}}(em,eg),ex=(0,v.y)({...em,path:ed,lineNumber:eo,startCommitOid:k?.type==="project"?"":k?.comparison?.startCommitOid,startLineNumber:ec,endCommitOid:k?.type==="project"?"":k?.comparison?.endCommitOid,baseCommitOid:k?.type==="project"?"":k?.comparison?.startCommitOid,subject:k?.type==="project"?void 0:k?.pullRequestNumber}),eC=(0,C.fU)(em.subjectRepoId?.toString(),ep),ev=(0,s.A)("localStorage"),eS=q(),[ej,eI]=(0,u.useState)(I??eS),[eN,eF]=(0,u.useState)(!1),e_=(0,u.useRef)(null);(0,h.T)(eu,e_);let eL=(0,u.useRef)(null),eT=void 0!==k&&"repository"in k&&void 0!==k.repository,ew=eT&&k.repository.slashCommandsEnabled,[eA,eE]=(0,u.useState)(ea?.shouldInsertSuggestedChange??!1);(0,u.useEffect)(()=>(eF(X??!1),()=>{eF(!1)}),[X]);let eD=(0,u.useMemo)(()=>eN?r.l:()=>{w?.(),eI(eS)},[w,eN,eS]),eP=(0,o.M)(eS);(0,u.useEffect)(()=>{eI(eP.current)},[em.subjectRepoId,em.subjectId,eP]),(0,u.useEffect)(()=>{I&&eI(I)},[I]);let eK=(0,u.useCallback)(e=>{eI(e),ev.setItem("markdown_editor_selected_view","preview"===e?"edit":e),N?.(e)},[N,ev]),eR=(0,u.useCallback)(e=>{e_.current?.focus();try{document.execCommand("insertText",!1,e)}catch{}},[e_]),eM=(0,u.useCallback)(()=>{"lazy"!==es||eg||ef(!0)},[eg,es]);eN&&null!==eL.current&&window.scrollY>173&&eL.current.scrollIntoView();let eV=(0,u.useMemo)(()=>D.isFileUploading.test(_),[_]);(0,u.useEffect)(()=>{er&&er(eV)},[eV,er]);let eB=(0,u.useMemo)(()=>e=>(0,u.isValidElement)(e)&&"object"==typeof e&&"symbol"==typeof e.type&&"Symbol(react.fragment)"===String(e.type)?e.props.children:u.Children.toArray(e),[]),eO=(0,u.useMemo)(()=>e=>eB(e).map((e,t)=>(0,u.isValidElement)(e)?(0,u.cloneElement)(e,{key:t,disabled:b||eV}):e),[eB,b,eV]),eU=function(e=!1){let[t,n]=(0,d.M)("user.preferences.viewer-settings",null),[a,l]=(0,u.useState)(!0),[i,r]=(0,u.useState)(!1),s=(0,u.useRef)(!1);e&&(p.clear(),s.current=!1);let o=(0,u.useCallback)(async()=>{let e=p.get(g);try{e||(e=f(),p.set(g,e));let t=await e;n(t),r(!1)}catch{r(!0)}finally{l(!1)}},[n]);return(0,u.useEffect)(()=>{s.current?l(!1):(s.current=!0,o())},[o]),{settings:t||m,loading:a,error:i&&!t}}(!1),e$=(0,a.jsxs)(u.Suspense,{children:[eN&&(0,a.jsx)(y.A,{ref:eL,variant:"danger",className:j.staleContentWarning,children:P.staleContentError}),(0,a.jsxs)(i.n,{"aria-describedby":e,labelledBy:l,disabled:b,value:_,placeholder:void 0!==L?L:P.leaveCommentLabel,emojiSuggestions:eb,emojiTone:eU.settings.emojiTone,mentionSuggestions:eh,referenceSuggestions:ey,viewMode:ej,onChangeViewMode:eK,onChange:T,onInputFocus:eM,onRenderPreview:ex,onUploadFile:Y?eC:void 0,acceptedFileTypes:Y?(0,C.jw)(eT):void 0,onPrimaryAction:()=>{eD(),et?.()},ref:e_,pasteUrlsAsPlainText:eU.settings.pasteUrlsAsPlainText,savedReplies:ek,monospace:eU.settings.useMonospaceFont,minHeightLines:J,maxHeightLines:Z,className:ee,teamHovercardsEnabled:ei,onSavedRepliesOpen:eM,errorMessage:el,children:[(0,a.jsx)(i.n.Label,{visuallyHidden:!c,children:n??"Markdown Editor"}),(0,a.jsxs)(i.n.Actions,{children:[eO(G),B&&(0,a.jsx)(i.n.ActionButton,{variant:"default",size:en,onClick:B,value:"Cancel",children:"Cancel"}),eD&&U&&(0,a.jsx)(F,{onSave:eD,validationResult:U,trailingIcon:W,disabled:b||eV,size:en,children:z})]}),(0,a.jsxs)(i.n.Toolbar,{children:[ea?.showSuggestChangesButton&&(0,a.jsx)(x,{shouldInsertSuggestionOnRender:eA,inputValue:_,onChange:T,sourceContentFromDiffLines:ea?.sourceContentFromDiffLines,editorRef:e_,onInsertSuggestedChange:()=>{ea?.onInsertSuggestedChange(),eE(!1)}}),(0,a.jsx)(i.n.DefaultToolbarButtons,{}),(0,a.jsx)(E,{})]}),Q&&(0,a.jsx)(i.n.Footer,{children:Q})]})]});return(0,a.jsx)("div",{"data-testid":t,className:j.commentBoxContainer,children:ew?(0,a.jsx)(A,{subject:k,onInsertText:eR,onSave:eD,children:e$}):e$})});W.displayName="CommentBox"},8608:(e,t,n)=>{n.d(t,{U:()=>l,Y:()=>a});let a=e=>`## Purpose
Classify the issue into exactly ONE issue type category based on the issue title and content.

## Input
You will receive:
- Issue title
- Issue content
- List of valid issue types

## Valid Issue Types
${e}

## Classification Rules
1. Analyze both title AND content
2. Select ONLY ONE issue type

## Important Notes
- Choose the MOST specific applicable type
- The output must contain exactly ONE value from the valid issue types
- If uncertain between two types, choose the broader category`,l=`# Classifier Agent Instructions
## Input Format
You will receive issue data containing:
- Title
- Content
- Labels (JSON array)

## Task
Analyze the issue title and content to determine the most relevant categories from the provided labels list. Select ALL applicable labels that match the issue's context and purpose.

## Classification Rules
1. Only select labels from the provided labels list
2. Choose ALL relevant labels that apply
3. Labels must directly relate to the issue's:
   - Main topic/purpose
   - Technical area
   - Issue type
4. Exclude labels if you're not highly confident they apply`},8645:(e,t,n)=>{n.d(t,{cE:()=>o,Y9:()=>s,ml:()=>i,o2:()=>r});var a=n(99418);let l={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function i(e){return(e?.startsWith("www.")?"https://":"")+e}let r=e=>a.default.sanitize(e,l),s=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let t=new URL(e,window.location.origin);return["http:","https:"].includes(t.protocol)}catch{return!1}},o=e=>r(e)===e},8816:(e,t,n)=>{n.d(t,{b:()=>l});let a={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function l(e,t={}){return e.toLocaleDateString("en-us",{...a,...t})}},10286:(e,t,n)=>{n.d(t,{k:()=>l,y:()=>a});let a="template-field",l=({id:e,indexOfFormElement:t,value:n,defaultValuesById:l})=>{let i=l&&e?l[e]:void 0;return void 0===i&&l&&void 0!==t&&(i=l[`${a}-${t}`]),i??n??""}},10925:(e,t,n)=>{n.d(t,{H:()=>l});var a=n(76648);function l(e,t){let{csrf_tokens:n}=(0,a.B)();return n?.[e]?.[t]}},10991:(e,t,n)=>{function a(e){let t=document.getElementById("issues-repo-tab-count");if(null===t)return!1;let n=Number(t.title.replace(/\D/g,"")),a=Math.max(n+e,0);return 0===n&&a>0?t.removeAttribute("hidden"):0===a&&t.setAttribute("hidden","true"),t.title=a.toLocaleString(),/^\d*$/.test(t.textContent||"")&&a<=999&&(t.textContent=a.toString()),!0}function l(){a(1)}function i(){a(-1)}n.d(t,{T:()=>i,f:()=>l})},11083:(e,t,n)=>{n.d(t,{X:()=>g,i:()=>c});var a=n(71315),l=n(34095),i=n(99223),r=n(69599),s=n(21067),o=n(70170);let d=[];function c(e,t=!1,n=.5){if(!a.X3&&!0!==(0,r.G7)("browser_stats_disabled")){if(n<0||n>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,s.M3)(),e.staff=g(),e.bundler=i.v,Math.random()<n&&d.push(e),t?p():m()}}let u=null,m=(0,o.n)(async function(){await l.K,null==u&&(u=window.requestIdleCallback(p))},5e3);function p(){if(u=null,!d.length)return;let e=a.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let l of function(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(function(e){let t=e.shift(),n=[t],a=t.length;for(;e.length>0&&a<=65536;){let t=e[0].length;if(a+t<=65536){let l=e.shift();n.push(l),a+=t}else break}return n}(n));return t}(d)){var t=e,n=`{"stats": [${l.join(",")}], "target": "${a.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(t,n)}catch{}}d=[]}}function g(){return!!a.XC?.head?.querySelector('meta[name="user-staff"]')?.content}a.XC?.addEventListener("pagehide",p),a.XC?.addEventListener("visibilitychange",p)},12360:(e,t,n)=>{n.d(t,{C:()=>c});var a=n(74848),l=n(21728),i=n(74807),r=n(38621),s=n(34164);let o={copilotAvatar:"CopilotAvatar-module__copilotAvatar--VK2n9",small:"CopilotAvatar-module__small--OG22P",medium:"CopilotAvatar-module__medium--onZfu",large:"CopilotAvatar-module__large--KgXbi",defaultStyle:"CopilotAvatar-module__defaultStyle--T4PhU"},d={small:{default:12,minimal:16},medium:{default:16,minimal:20},large:{default:24,minimal:32}};function c(e){let t,n,c,u=(0,l.c)(10),{size:m,minimal:p,className:g}=e,f=void 0===m?"small":m,h=void 0!==p&&p,y=void 0===g?"":g,b=h?d[f].minimal:d[f].default,k=o[f],x=!h&&o.defaultStyle;return u[0]!==y||u[1]!==k||u[2]!==x?(t=(0,s.$)(o.copilotAvatar,k,x,y),u[0]=y,u[1]=k,u[2]=x,u[3]=t):t=u[3],u[4]!==b||u[5]!==f?(n="large"===f?(0,a.jsx)(i.N,{animationType:"static",loopAnimation:!0,size:b}):(0,a.jsx)(r.CopilotIcon,{size:b}),u[4]=b,u[5]=f,u[6]=n):n=u[6],u[7]!==t||u[8]!==n?(c=(0,a.jsx)("span",{className:t,"data-testid":"copilot-avatar",role:"img","aria-label":"Copilot avatar",children:n}),u[7]=t,u[8]=n,u[9]=c):c=u[9],c}try{c.displayName||(c.displayName="CopilotAvatar")}catch{}},12931:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(61140),l=n(23149),i=n(97271);let r=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var s=Object.prototype.hasOwnProperty;let o=function(e){if(!(0,l.A)(e))return r(e);var t=(0,i.A)(e),n=[];for(var a in e)"constructor"==a&&(t||!s.call(e,a))||n.push(a);return n};var d=n(38446);let c=function(e){return(0,d.A)(e)?(0,a.A)(e,!0):o(e)}},13083:(e,t,n)=>{function a(e){return`line-${e}`}function l(e,t,n){return`${e}${"left"===t?"L":"R"}${n}`}function i(e){return"DELETION"===e?"left":"right"}function r(e,t=!1,n=!1){if(n)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function s(e){let t=0;if(e)for(let n of e)t=Math.max(t,n?.left??0,n?.right??0);return Math.max(8*t.toString().length+20,40).toString()}n.d(t,{IQ:()=>l,Sq:()=>a,XU:()=>i,c7:()=>s,gK:()=>r})},13771:(e,t,n)=>{n.d(t,{A:()=>a});let a={avatarOuter:"Avatar-module__avatarOuter--waYVs",avatarInner:"Avatar-module__avatarInner--leXLe",avatarLink:"Avatar-module__avatarLink--leRdV",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--SrQQa",activityAvatar:"Avatar-module__activityAvatar--xUQh3",issueViewerAvatar:"Avatar-module__issueViewerAvatar--LY0E0",avatarWithDivider:"Avatar-module__avatarWithDivider--ge7w7",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--XoLX3",avatarWithoutLink:"Avatar-module__avatarWithoutLink--sASpy"}},14307:(e,t,n)=>{n.d(t,{M3:()=>o,Nh:()=>d,Wk:()=>s,i4:()=>i});var a=n(87448),l=n(96540);let i=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],r={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},s=(e="GRAY")=>{let{getPresentationalColor:t}=o();return t(e)},o=()=>{let{theme:e,resolvedColorScheme:t="light"}=(0,a.DP)();return{getPresentationalColor:(0,l.useCallback)((n="GRAY")=>{let a=c(t),l=e?.colorSchemes?.[a]?.colors;if("GRAY"===n)return{bg:l?.canvas?.subtle,fg:l?.fg?.muted,border:l?.border?.default,accent:l?.fg?.subtle};{let e=l?.[r[n]];return{bg:e?.subtle,fg:e?.fg,border:e?.muted,accent:e?.emphasis}}},[e,t])}},d=e=>i.includes(e),c=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e},14406:(e,t,n)=>{n.d(t,{o:()=>d});var a=n(74848),l=n(24990),i=n(96540),r=n(18312),s=n(69487);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:t},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();o.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=e=>e.onUnblock?(0,a.jsx)(u,{...e}):(0,a.jsx)(c,{...e}),c=({contentAuthor:e,organization:t,onClose:n,contentId:d})=>{let c=(0,r.useRelayEnvironment)(),u=(0,i.useCallback)(a=>{"confirm"===a&&function({environment:e,input:{organizationId:t,unblockedUserId:n},onError:a,onCompleted:l}){(0,r.commitMutation)(e,{mutation:o,variables:{input:{organizationId:t,unblockedUserId:n}},onError:e=>a&&a(e),onCompleted:()=>{l?.()}})}({environment:c,input:{unblockedUserId:e.id,organizationId:t.id},onCompleted:()=>(0,s.commitLocalUpdate)(c,e=>{let t=e.get(d);t?.setValue(!0,"pendingUnblock"),t?.setValue(!1,"pendingBlock")})}),n()},[n,c,e.id,t.id,d]);return(0,a.jsxs)(l.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,a.jsx)("strong",{children:e.login})," from ",(0,a.jsx)("strong",{children:t.login}),"?"]})},u=({contentAuthor:e,organization:t,onClose:n,onUnblock:r})=>{let s=(0,i.useCallback)(a=>{"confirm"===a&&r?.(t.login,e.login),n()},[n,r,t.login,e.login]);return(0,a.jsxs)(l.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:s,children:["Are you sure you want to unblock ",(0,a.jsx)("strong",{children:e.login})," from ",(0,a.jsx)("strong",{children:t.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}try{c.displayName||(c.displayName="UnblockUserFromOrgDialogWithRelay")}catch{}try{u.displayName||(u.displayName="UnblockUserFromOrgDialogWithoutRelay")}catch{}},14709:(e,t,n)=>{n.d(t,{N:()=>o,z:()=>d});var a,l=n(74848),i=n(14307),r=n(38621),s=n(87448);function o(e){return"TEXT"===e?r.TypographyIcon:"SINGLE_SELECT"===e?r.SingleSelectIcon:"DATE"===e?r.CalendarIcon:"NUMBER"===e?r.NumberIcon:void 0}let d=e=>function(){let t=i.i4.find(t=>t===e),{bg:n,accent:a}=(0,i.Wk)(t);return(0,l.jsx)(s.az,{sx:{bg:n,borderColor:a,borderWidth:2,borderStyle:"solid",width:12,height:12,borderRadius:8,flexShrink:0}})};try{(a=IssueSingleSelectFieldPickerItemLeadingVisual).displayName||(a.displayName="IssueSingleSelectFieldPickerItemLeadingVisual")}catch{}},14969:(e,t,n)=>{n.d(t,{_:()=>b});var a=n(74848),l=n(43258),i=n(57352),r=n(94236),s=n(5524),o=n(21373),d=n(56149),c=n(15837),u=n(86877),m=n(39183),p=n(15220),g=n(96540),f=n(18312);let h=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:t},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();h.hash="8b252221b8eab001809aa2a2d583cb84";let y={ReportContentRadioLabel:"ReportContentDialog-module__ReportContentRadioLabel--V9lmm",ReportContentContainer:"ReportContentDialog-module__ReportContentContainer--N0pcI",ReportContentSpacing:"ReportContentDialog-module__ReportContentSpacing--CM9Pl",ReportContentTopMargin:"ReportContentDialog-module__ReportContentTopMargin--f_wU_",ReportContentHelpText:"ReportContentDialog-module__ReportContentHelpText--z0X7C",ReportContentSubmitButton:"ReportContentDialog-module__ReportContentSubmitButton--r7_yG",ReportContentFooterSpacing:"ReportContentDialog-module__ReportContentFooterSpacing--Eb8cV",ReportContentDialog:"ReportContentDialog-module__ReportContentDialog--WgQ4X",ReportContentRadioContainer:"ReportContentDialog-module__ReportContentRadioContainer--hWsdC"},b=({owner:e,ownerUrl:t,reportUrl:n,contentId:b,onClose:k,contentType:x="content"})=>{let C=(0,f.useRelayEnvironment)(),{addToast:v}=(0,l.Y6)(),[S,j]=(0,g.useState)("Choose a reason"),[I,N]=(0,g.useState)(!1),[F,_]=(0,g.useState)("admins"),L=(0,g.useCallback)(()=>{var e;N(!0),function({environment:e,input:{reportedContentId:t,reason:n},onError:a,onCompleted:l}){(0,f.commitMutation)(e,{mutation:h,variables:{input:{reportedContent:t,reason:n}},onError:e=>a&&a(e),onCompleted:()=>l&&l()})}({environment:C,input:{reportedContentId:b,reason:"Choose a reason"===(e=S)?"UNSPECIFIED":e},onError(e){v({type:"error",message:`Unable to submit report: ${e}`}),N(!1)},onCompleted(){v({type:"success",message:"Report submitted"}),N(!1),k()}})},[v,b,C,k,S]),T=(0,a.jsxs)("div",{className:y.ReportContentContainer,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{children:["This ",x," violates "]}),(0,a.jsx)(i.A,{inline:!0,href:t,children:`@${e}'s`}),(0,a.jsx)("span",{children:" Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,a.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,a.jsxs)("p",{children:["Choose a reason for reporting this ",x]})]}),(0,a.jsx)("div",{className:y.ReportContentSpacing,children:(0,a.jsxs)(r.W,{children:[(0,a.jsx)(r.W.Button,{children:S}),(0,a.jsx)(r.W.Overlay,{children:(0,a.jsxs)(s.l,{children:[(0,a.jsx)(s.l.Item,{onSelect:()=>j("ABUSE"),children:"Abuse"}),(0,a.jsx)(s.l.Item,{onSelect:()=>j("SPAM"),children:"Spam"}),(0,a.jsx)(s.l.Item,{onSelect:()=>j("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,a.jsxs)("div",{className:y.ReportContentTopMargin,children:[(0,a.jsxs)("div",{className:y.ReportContentHelpText,children:[(0,a.jsx)("span",{children:"Learn more about "}),(0,a.jsx)(i.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,a.jsx)(o.Q,{variant:"danger",onClick:()=>L(),disabled:I,className:y.ReportContentSubmitButton,children:"Report to repository admins"})]})]}),w=(0,a.jsxs)("div",{className:y.ReportContentContainer,children:[(0,a.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,a.jsxs)("div",{className:y.ReportContentFooterSpacing,children:[(0,a.jsxs)("div",{className:y.ReportContentHelpText,children:[(0,a.jsx)("span",{children:"Learn more about "}),(0,a.jsx)(i.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,a.jsx)(o.Q,{variant:"danger",as:"a",href:n,disabled:I,className:y.ReportContentSubmitButton,children:"Report abuse to GitHub support"})]})]});return(0,a.jsx)(d.ZL,{children:(0,a.jsx)(p.l,{title:`Report ${x}`,width:"xlarge",height:"auto",onClose:k,className:y.ReportContentDialog,children:(0,a.jsxs)("div",{className:y.ReportContentRadioContainer,children:[(0,a.jsxs)(c.A,{name:"choiceGroup",onChange:e=>{_(e)},children:[(0,a.jsxs)(c.A.Label,{className:y.ReportContentRadioLabel,children:["Where would you like to report this ",x," to?"]}),(0,a.jsxs)(u.A,{children:[(0,a.jsx)(m.A,{value:"admins",defaultChecked:!0}),(0,a.jsx)(u.A.Label,{children:"To repository admins"})]}),(0,a.jsxs)(u.A,{children:[(0,a.jsx)(m.A,{value:"support"}),(0,a.jsx)(u.A.Label,{children:"To GitHub support"})]})]}),"admins"===F&&T,"support"===F&&w]})})})};try{b.displayName||(b.displayName="ReportContentDialog")}catch{}},15647:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(40367).A)(Object.getPrototypeOf,Object)},16642:(e,t,n)=>{n.d(t,{S:()=>a});let a={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},16790:(e,t,n)=>{n.d(t,{eX:()=>s,xe:()=>o,zq:()=>r});var a=n(74848),l=n(96540);let i=(0,l.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function r({children:e,loggingInfo:t}){return(0,a.jsx)(i.Provider,{value:t,children:e})}function s(){let e=(0,l.useContext)(i);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function o(){return(0,l.useContext)(i)}try{i.displayName||(i.displayName="CommitsLoggingContext")}catch{}try{r.displayName||(r.displayName="CommitsLoggingInfoProvider")}catch{}},16810:(e,t,n)=>{n.d(t,{w:()=>s});var a=n(74848),l=n(87448),i=n(34164);let r={SectionContainer:"Section-module__SectionContainer--bIlEv",headerContentWrapper:"Section-module__headerContentWrapper--OIm9m",emptyText:"Section-module__emptyText--qZ0Bc",hiddenChildrenContainer:"Section-module__hiddenChildrenContainer--X126P",childrenContainer:"Section-module__childrenContainer--bY_oH"};function s({children:e,emptyText:t,sectionHeader:n,sectionFooter:s,hideDivider:o,id:d,sx:c,className:u}){return(0,a.jsxs)(l.az,{"data-testid":d??"sidebar-section",sx:{marginBottom:2*!o,":after":o?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",right:"8px",bg:"border.muted"},...c},className:(0,i.$)(r.SectionContainer,u),children:[(0,a.jsxs)("div",{className:r.headerContentWrapper,children:[n,t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:r.emptyText,children:t}),(0,a.jsx)("div",{className:r.hiddenChildrenContainer,children:e})]})]}),!t&&(0,a.jsx)("div",{className:r.childrenContainer,children:e}),s]})}try{s.displayName||(s.displayName="Section")}catch{}},17831:(e,t,n)=>{n.d(t,{s:()=>g,u:()=>f});var a=n(74848),l=n(17855),i=n(19720),r=n(32050),s=n(71315),o=n(40104),d=n(96540),c=n(79403);function u(e,t,n,a){if(!e)return{projectsToSet:[],milestoneToSet:null};let l=a?.repository?.owner.login===a?.selectedRepository?.owner.login,i=l&&a?.repository?.name===a?.selectedRepository?.name;return{projectsToSet:l&&t.length>0?t:[],milestoneToSet:i&&n?n:null}}var m=n(81724);let p=(0,d.createContext)(null);function g({optionConfig:e,preselectedData:t,children:n}){let{storageKeyPrefix:g,issueCreateArguments:f}=e,{issueTitle:h,issueBody:y}=c.tT.localTitleAndBodyStorageKeys,{issueLabels:b,issueAssignees:k,issueProjects:x,issueMilestone:C,issueIssueType:v,issueIssueFields:S}=c.tT.localStorageMetadataKeys,[j,I]=(0,d.useState)(t?.repository),[N,F]=(0,d.useState)(t?.template),[_,L]=(0,d.useState)(`${g}.${N?.fileName||m.$K}`),T="";if(f?.initialValues?.discussion)T=f?.initialValues?.discussion.title;else if(f?.initialValues?.title)T=f?.initialValues?.title;else if(N){let e,t=(e="",N?.data&&(e=N?.data.title||""),e),n="";f?.initialValues?.appendTitleToTemplate&&(n=` ${f?.initialValues?.appendTitleToTemplate}`),T=[t,n].join("").trimStart()}else f?.initialValues?.appendTitleToTemplate&&(T=f?.initialValues?.appendTitleToTemplate);let[w,A,E]=(0,o.Fo)(h(_),T),D="";if(f?.initialValues?.discussion)D=f?.initialValues?.discussion.formattedBody;else if(f?.initialValues?.body)D=f?.initialValues?.body;else{let e;N&&(e="",N?.data&&(0,m.Al)(N?.data)&&(e=N?.data.body||""),D=e)}let[P,K,R]=(0,o.Fo)(y(_),D),M=[];if(f?.initialValues?.discussion)M=f?.initialValues?.discussion?.labels||[];else if(f?.initialValues?.labels)M=f?.initialValues?.labels;else{let e;N&&(e=[],N?.data&&(e=N?.data.labels?.edges?.flatMap(e=>e?.node?[(0,r.P5)(e?.node)]:[])||[]),M=e)}let[V,B,O]=(0,o.Fo)(b(_),M),U=[];if(f?.initialValues?.assignees)U=f?.initialValues?.assignees;else{let e;N&&(e=[],N?.data&&(e=N?.data.assignees?.edges?.flatMap(e=>e?.node?[(0,i.uX)(e?.node)]:[])||[]),U=e)}let[$,H,z]=(0,o.Fo)(k(_),U),q=(0,d.useMemo)(()=>f?.initialValues?.projects??[],[f?.initialValues?.projects]),W=function(e){let{template:t,projects:n=[],isParentInheritance:a=!1}=e;return(0,d.useMemo)(()=>{let e;if(!a)return n;let l=t?(e=[],t?.data&&(0,m.GQ)(t?.data)&&(e=t.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),e):[];return l.length>0?l:n},[t,n,a])}({template:N,projects:f?.initialValues?.projects??[],isParentInheritance:!!f?.parentIssue}),[G,Q,X]=(0,o.Fo)(x(_),W),Y=(0,d.useMemo)(()=>f?.initialValues?.milestone??null,[f?.initialValues?.milestone]),J=(0,d.useMemo)(()=>Y&&t?.parentIssue?u(!0,[],Y,{repository:t?.repository,selectedRepository:j}).milestoneToSet:Y,[Y,t?.parentIssue,t?.repository,j]),[Z,ee,et]=(0,o.Fo)(C(_),J),en=null;if(f?.initialValues?.type)en=f?.initialValues?.type;else{let e;N&&(e=null,N?.data&&((0,m.GQ)(N?.data)||(0,m.Al)(N?.data))&&(e=N?.data.type||null),en=e)}let[ea,el,ei]=(0,o.Fo)(v(_),en),[er,es]=(0,o.Fo)(S(_),[]),[eo,ed]=(0,d.useState)(!1),[ec,eu]=(0,d.useState)(null),[em,ep]=(0,d.useState)(w),[eg,ef]=(0,d.useState)(P),eh=(0,d.useCallback)(e=>{A(e),ep(e)},[A,ep]),ey=(0,d.useCallback)(e=>{K(e),ef(e)},[K,ef]),eb=(0,d.useCallback)(e=>{H(e),e.some(e=>(0,l.v)(e.login))&&ed(!0)},[H]),ek=(0,d.useCallback)(e=>{eb([]),B([]),es([]);let n=u(!!t?.parentIssue,q,Y,e);Q(n.projectsToSet),ee(n.milestoneToSet)},[eb,B,es,t?.parentIssue,Y,q,Q,ee]),ex=(0,d.useCallback)(()=>{(0,o.D6)((0,c.wK)(_))},[_]),eC=(0,d.useCallback)(()=>{(0,o.D6)((0,c.Zf)(_))},[_]),ev=(0,d.useCallback)(()=>{(0,o.D6)((0,c.bV)(_))},[_]),eS=(0,d.useCallback)(()=>{(0,o.D6)([`config.${c.tT.localStorageKeys.issueCreateMore(g)}`])},[g]),ej=(0,d.useCallback)(()=>{A(""),K(""),ep(""),ef("")},[A,K,ep,ef]),eI=s.fV?.origin??"",eN=j?.nameWithOwner??"",eF=(0,d.useMemo)(()=>`${eI}/${eN}`,[eI,eN]),e_=t?.parentIssue??null,eL=(0,d.useCallback)(e=>{F(e),L(`${g}.${e?.fileName||m.$K}`)},[g]),eT=(0,d.useMemo)(()=>({reinitTitle:E,reinitBody:R,reinitAssignees:z,reinitLabels:O,reinitProjects:X,reinitMilestone:et,reinitIssueType:ei,usedStorageKeyPrefix:_,clearSessionData:ex,clearSessionMetadata:eC,clearSessionTitleAndBody:ev,clearSessionCreateMore:eS,resetMetadata:ek,clearTitleAndBody:ej,setNewTitle:eh,setNewBody:ey,originalTitle:em,setOriginalTitle:ep,originalBody:eg,setOriginalBody:ef,title:w,setTitle:A,body:P,setBody:K,repository:j,setRepository:I,repositoryAbsolutePath:eF,template:N,setTemplate:eL,preselectedRepository:t?.repository,preselectedTemplate:t?.template,labels:V,setLabels:B,assignees:$,setAssignees:eb,projects:G,setProjects:Q,milestone:Z,setMilestone:ee,issueType:ea,setIssueType:el,issueFields:er,setIssueFields:es,parentIssue:e_,isCrossRepositoryDialogOpen:eo,setIsCrossRepositoryDialogOpen:ed,copilotAssignmentAttributes:ec,setCopilotAssignmentAttributes:eu}),[E,R,z,O,X,et,ei,_,ex,eC,ev,eS,ek,ej,eh,ey,em,eg,w,A,P,K,j,eF,N,eL,t?.repository,t?.template,V,B,$,eb,G,Q,Z,ee,ea,el,er,es,e_,eo,ec]);return(0,a.jsx)(p.Provider,{value:eT,children:n})}let f=()=>{let e=(0,d.useContext)(p);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e};try{p.displayName||(p.displayName="IssueCreateDataContext")}catch{}try{g.displayName||(g.displayName="IssueCreateDataContextProvider")}catch{}},17855:(e,t,n)=>{n.d(t,{v:()=>a});function a(e){let t=e.toLocaleLowerCase();return"copilot-swe-agent"===t||"copilot"===t}},18815:(e,t,n)=>{n.d(t,{AE:()=>l,En:()=>a,ek:()=>o,gO:()=>s,jX:()=>i,u4:()=>r});let a=25,l=50,i=64,r=256,s=["issue","pr","pull-request","pull request"],o=10},19720:(e,t,n)=>{n.d(t,{Ir:()=>er,_g:()=>eo,mK:()=>em,fH:()=>ea,uX:()=>en});var a=n(74848);let l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},t={defaultValue:null,kind:"LocalArgument",name:"name"},n={defaultValue:null,kind:"LocalArgument",name:"number"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"query"},i=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],r=[{kind:"Variable",name:"number",variableName:"number"}],s=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},p={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},f={kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e,t,n,a,l],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"CatchField",field:{alias:null,args:s,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[o,d,c,u,m,p,g],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],storageKey:null},to:"RESULT"}],type:"Assignable",abstractKey:"__isAssignable"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,t,n,l,e],kind:"Operation",name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,c,u,m,p,g],type:"Actor",abstractKey:"__isActor"},f],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"},f],storageKey:null},d],storageKey:null}]},params:{id:"d5d76334fbdc19a4d20466060a837669",metadata:{},name:"AssigneePickerSearchAssignableUsersSharedQuery",operationKind:"query",text:null}}}();l.hash="d2141790a7808addaa1568cc651514c9";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"capabilities"},t={defaultValue:null,kind:"LocalArgument",name:"first"},n={defaultValue:null,kind:"LocalArgument",name:"loginNames"},a={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},i={defaultValue:null,kind:"LocalArgument",name:"query"},r=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],s=[{kind:"Variable",name:"capabilities",variableName:"capabilities"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"loginNames",variableName:"loginNames"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},p={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null};return{fragment:{argumentDefinitions:[e,t,n,a,l,i],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"CatchField",field:{alias:null,args:s,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[o,d,c,u,m,p,g],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"},f],storageKey:null},to:"RESULT"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,a,i,n,t,e],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d,c,u,m,p,g],storageKey:null},f],storageKey:null},d],storageKey:null}]},params:{id:"dc39149f5b0808ed7057c07ebb22e923",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",operationKind:"query",text:null}}}();i.hash="f6c4e298b2947d454ba6232c27099acc";let r={kind:"InlineDataFragment",name:"AssigneePickerSharedAssignee"};r.hash="d8c57c253a2f9513f6daa2dbe67a0412";var s=n(53881),o=n(69599),d=n(84363),c=n(24453),u=n(12360),m=n(77430),p=n(67126),g=n(19918),f=n(49275),h=n(38143),y=n(86391),b=n(43258),k=n(46747),x=n(26607),C=n(96540);function v(e,t,n){let a=n.toLowerCase().trim(),l=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(a)),i=t.filter(e=>!l.some(t=>t.id===e.id));return i.sort((e,t)=>e.isCopilot!==t.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(t.login)),l.concat(i)}let S={groupId:"assignees"},j={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},I={Item:"AssigneePickerBase-module__Item--n9KU9"},N=[],F=[];function _({assignees:e=N,suggestions:t=F,searchAssignees:n,onSelectionChange:l,insidePortal:i,anchorElement:r,nested:s,isLoading:d=!1,noAssigneeOption:c,triggerOpen:_,selectionVariant:T="multiple",title:w,maximumAssignees:A=10,name:E="assignee",showNoMatchItem:D=!1,viewer:P,responsiveOnNarrow:K=!1}){let[R,M]=(0,C.useState)(""),[V,B]=(0,C.useState)(void 0),[O,U]=(0,C.useState)(e),$=(0,C.useRef)(R),{addToast:H}=(0,b.Y6)(),z=K||(0,o.G7)("issues_react_select_panel_fullscreen_on_narrow");(0,C.useEffect)(()=>{U(e)},[e]);let q=(0,C.useCallback)(e=>e.login,[]),W=(0,C.useMemo)(()=>{let n=[];if(n=V?v(e,V,R):v(e,e.concat(t.filter(t=>!e.find(e=>e.login===t.login))),R),P){let e=n.findIndex(e=>e.login===P.login);if(-1!==e)n.splice(e,1);else if(V)return n;n.unshift(P)}return!c||c.selected||n.find(e=>e.id===f.v.noAssigneeData.id)||n.unshift(f.v.noAssigneeData),n},[V,P,c,e,R,t]),G=(0,C.useCallback)(t=>0===e.length?j.groupId:e.find(e=>e.id===t.id)?S.groupId:j.groupId,[e]),Q=(0,C.useMemo)(()=>!!(A&&O.length>=A),[O.length,A]),X=(0,C.useCallback)(e=>{let t=O.some(t=>t.id===e.id),n=Q&&!t;if(c&&e.id===f.v.noAssigneeData.id){let t={...c};return t.groupId=G(e),t.disabled=n,t}if(D&&e.id===f.v.noMatchData.id)return{...f.v.noMatchData,groupId:G(e),source:e,text:`${E}:${R}`,className:I.Item,disabled:n};let l=e.isCopilot;return{id:e.id,text:l?g.k.copilotDisplayName:e.login,description:l?g.k.copilotDescription:e.name??"",source:e,groupId:G(e),leadingVisual:()=>l?(0,a.jsx)(u.C,{}):0===e.avatarUrl.length?null:(0,a.jsx)(m.r,{alt:"",src:e.avatarUrl}),trailingVisual:()=>"Bot"===e.__typename?(0,a.jsx)(x.A,{children:"bot"}):null,className:I.Item,disabled:n}},[R,G,E,c,D,Q,O]),Y=(0,C.useCallback)(()=>{B(void 0)},[]),J=(0,C.useCallback)(async e=>{if(""===e)return void B(void 0);try{let t=await n(e),a=$.current;e.trim()===a.trim()&&B(t)}catch{H({type:"error",message:p.S.couldNotSearchAssignees})}},[H,n]),Z=(0,k.d)(e=>J(e),h.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),ee=(0,C.useCallback)(e=>{let t=e.trim();R!==t&&(Z(t),M(e),$.current=t)},[Z,R]),et=(0,C.useCallback)(e=>{let t=new Set(W.map(e=>e.id)),n=new Set(e.map(e=>e.id));U([...e,...O.filter(e=>!t.has(e.id)&&!n.has(e.id))])},[O,W]),en=(0,C.useMemo)(()=>{let t=[],n=W.filter(t=>e.find(e=>e.id===t.id)),a=W.filter(t=>!e.find(e=>e.id===t.id));return n.length>0&&t.push(S),a.length>0&&t.push(j),t},[e,W]),ea=(0,C.useRef)(null),el=(0,C.useMemo)(()=>!D&&0===W.length,[D,W.length]);return(0,a.jsx)("div",{children:(0,a.jsx)(y.O,{items:W,initialSelectedItems:e,loading:d,filterItems:ee,title:w||g.k.assigneesHeader(A),getItemKey:q,triggerOpen:_,convertToItemProps:X,placeholderText:g.k.filterUsers(E),selectionVariant:1===A?"single":T||"multiple",onSelectionChange:l,onLiveSelectionChange:et,onClose:Y,renderAnchor:e=>r(e,ea),groups:en,insidePortal:i,height:"large",width:"medium",nested:s,resultListAriaLabel:"User results",selectPanelRef:ea,notice:A&&Q?{text:g.k.limitWarning(A),variant:"warning"}:void 0,customNoMatchItem:D?{id:f.v.noMatchData.id,avatarUrl:f.v.noMatchData.avatarUrl,login:R}:void 0,improvedNoMatchAccessibility:el,noMatchMessage:el?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,keybindingCommandId:L(E),responsiveOnNarrow:z})})}let L=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{_.displayName||(_.displayName="AssigneePickerBase")}catch{}var T=n(81289),w=n(81709),A=n(97665),E=n(71315),D=n(96379),P=n(47544);async function K({owner:e,repo:t,query:n,count:a,number:l,loginNames:i,capabilities:r}){let s={owner:e,repo:t};n&&(s.query=n),a&&(s.count=a),void 0!==l&&(s.number=l),i&&(s.loginNames=i),r&&r.length>0&&(s.capabilities=r.join(","));let o=(0,P.JF)("assignees",s),d=await (0,D.lS)(o);return await d.json()}var R=n(73049),M=n(43755);function V(){let{currentUser:e}=(0,M.J)();return e}async function B(e,{owner:t,repo:n,query:a,count:l,number:i,loginNames:r,capabilities:s}){return await e.fetchQuery({queryKey:["item_picker","assignees",{owner:t,repo:n,query:a,count:l,number:i,loginNames:r,capabilities:s}],queryFn:async()=>{var e;let o,d,c=await K({owner:t,repo:n,query:a,count:l,number:i,loginNames:r,capabilities:s});return e=(0,R.A)(c).data,d=[],e.repository.suggestedActors?(d=e.repository.suggestedActors.nodes,o=e.repository.suggestedActors.totalCount):e.repository.assignableUsers?(d=e.repository.assignableUsers.nodes,o=e.repository.assignableUsers.totalCount):e.repository.issueOrPullRequest?.suggestedActors&&(d=e.repository.issueOrPullRequest.suggestedActors.nodes),{assignees:d,repositoryId:e.repository.id,totalCount:o}}})}function O({repo:e,owner:t,number:n,assignees:l,suggestions:i,...r}){let[s,o]=(0,C.useState)(!i||0===i.length),[d,c]=(0,C.useState)(0),[u,m]=(0,C.useState)(!1),[p,f]=(0,C.useState)(null),h=(0,A.jE)(),y=(i?.length||0)>0;(0,C.useEffect)(()=>{E.X3||y||(async()=>{try{let a=await B(h,{owner:t,repo:e,query:"",number:n,count:10});f(a),o(!1),m(!1)}catch{m(!0),o(!1)}})()},[d,t,h,e,n,y]);let b=(0,C.useRef)(null),{createFallbackComponent:k}=(0,w.j)({errorMessage:g.k.cantEditItems("assignees"),anchorElement:e=>r.anchorElement(e,b),open:!0}),x=(0,C.useCallback)(async a=>{try{o(!0);let l=await B(h,{owner:t,repo:e,query:a,number:n,count:10});return o(!1),m(!1),l.assignees}catch{return o(!1),m(!0),[]}},[h,t,e,n]),v=i||p?.assignees||[],S=V();return u?k(()=>c(e=>e+1)):(0,a.jsx)(_,{...r,assignees:l,suggestions:v,isLoading:s,searchAssignees:x,viewer:S})}function U({repo:e,owner:t,assignees:n,assigneeTokens:l,suggestions:i,includeAssignableBots:r,includeAuthorableBots:s,maximumAssignees:o,...u}){let[m,p]=(0,C.useState)(!1),[y,b]=(0,C.useState)(!1),[k,x]=(0,C.useState)(0),[v,S]=(0,C.useState)(null),[j,I]=(0,C.useState)(null),[N,F]=(0,C.useState)(null),L=(0,A.jE)(),T=(0,C.useMemo)(()=>(({includeAssignableBots:e,includeAuthorableBots:t})=>{let n=[];return e&&n.push("CAN_BE_ASSIGNED"),t&&n.push("CAN_BE_AUTHOR"),n})({includeAssignableBots:r,includeAuthorableBots:s}),[r,s]),D=l.length>0;(0,C.useEffect)(()=>{!E.X3&&D&&(async()=>{try{p(!0);let n=await B(L,{owner:t,repo:e,query:"",loginNames:l.join(","),count:l.length,capabilities:T});S(n),p(!1),b(!1)}catch{p(!1),b(!0)}})()},[k,t,e,l,T,L,D]);let P=(0,C.useCallback)(async n=>{if(N&&N<=h.t.maximumSuggestedUsers&&j)return p(!1),(0,d.t)({items:[...j,...u.noAssigneeOption?[f.v.noAssigneeData]:[]],filter:n,key:e=>e.login||(u.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`});try{p(!0);let a=await B(L,{owner:t,repo:e,query:n,count:h.t.maximumSuggestedUsers,capabilities:T}),l=a.assignees;return a.totalCount&&""===n.trim()&&F(a.totalCount),u.noAssigneeOption&&(0,c.O)(n,u.noAssigneeOption?.source?.login??"")&&l.unshift({...f.v.noAssigneeData}),p(!1),b(!1),l}catch{return p(!1),b(!0),[]}},[N,j,u.noAssigneeOption,L,t,e,T]),K=(0,C.useMemo)(()=>{let e=[];return n&&n.length>0?e=n:l.length>0&&(e=v?.assignees||[]),u.noAssigneeOption?.selected&&e.unshift(f.v.noAssigneeData),e},[l.length,n,v?.assignees,u.noAssigneeOption?.selected]);(0,C.useEffect)(()=>{(async()=>{I(await P("")),p(!1)})()},[]);let R=(0,C.useMemo)(()=>{let e=(j||[]).find(e=>e.isCopilot),t=[...i||j||[]];return e&&!t.find(e=>e.isCopilot)&&t.unshift(e),t},[j,i]),M=V(),O=(0,C.useRef)(null),{createFallbackComponent:U}=(0,w.j)({errorMessage:g.k.cantEditItems("assignees"),anchorElement:e=>u.anchorElement(e,O),open:!0});return y?U(()=>x(e=>e+1)):(0,a.jsx)(_,{...u,assignees:K,suggestions:R,isLoading:m,searchAssignees:P,maximumAssignees:o,viewer:M})}let $=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";function H({repo:e,owner:t,number:n,anchorElement:l,readonly:i,assignees:r,suggestions:s,...o}){return(0,a.jsx)(T.y,{keybindingCommandId:$(o.name),anchorElement:(e,t)=>l(e,t),createChild:()=>(0,a.jsx)(O,{repo:e,owner:t,number:n,readonly:i,assignees:r,suggestions:s,triggerOpen:!0,anchorElement:l,...o}),insidePortal:o.insidePortal})}function z({anchorElement:e,...t}){return(0,a.jsx)(T.y,{anchorElement:(t,n)=>e(t,n),keybindingCommandId:$(t.name),createChild:()=>(0,a.jsx)(U,{anchorElement:e,triggerOpen:!0,...t}),insidePortal:t.insidePortal})}try{O.displayName||(O.displayName="ItemPickerFetcherForIssue")}catch{}try{U.displayName||(U.displayName="ItemPickerFetcherForRepository")}catch{}try{H.displayName||(H.displayName="AssigneePicker")}catch{}try{z.displayName||(z.displayName="AssigneeRepositoryPicker")}catch{}var q=n(94747);async function W(e){let t=(0,P.R1)(),n={ids:e.ids};return e.applyAssigneeIds&&e.applyAssigneeIds.length>0&&(n.applyAssigneeIds=e.applyAssigneeIds),e.removeAssigneeIds&&e.removeAssigneeIds.length>0&&(n.removeAssigneeIds=e.removeAssigneeIds),(await (0,D.lS)(t,{method:"POST",body:n})).json()}function G({onError:e,onCompleted:t,onMutate:n,issuesToActOn:l,assigneesAppliedToAll:i,assigneesAppliedToSome:r,existingIssueAssignees:s,connectionIds:o,issueNumbers:d,repository:c,...u}){let{mutate:m}=function({onMutate:e}){return(0,q.n)({mutationFn:async({assignees:e,...t})=>{let n=await W(t);return(0,R.A)(n)},onMutate:e})}({onMutate:n}),p=(0,C.useCallback)(n=>{let a=n.filter(e=>!i.some(t=>t.id===e.id)),r=i.filter(e=>!n.some(t=>t.id===e.id));(a.length||r.length)&&m({ids:[...l],applyAssigneeIds:a.map(e=>e.id),removeAssigneeIds:r.map(e=>e.id),assignees:n},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[m,l,i,t,e]);return(0,a.jsx)(z,{...u,onSelectionChange:p,assignees:i,assigneeTokens:[],includeAssignableBots:!0,includeAuthorableBots:!1,responsiveOnNarrow:!0})}try{G.displayName||(G.displayName="BulkIssueAssigneePicker")}catch{}var Q=n(30721),X=n(18312),Y=n(72274);let J=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkMutationSharedMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkMutationSharedMutation",selections:t},params:{id:"8efb615d7267ee969e85942df5a92054",metadata:{},name:"updateIssueAssigneesBulkMutationSharedMutation",operationKind:"mutation",text:null}}}();J.hash="84492e5d1b2df48c5241319563ccba26";var Z=n(69487);function ee(e,t,n,a,l){for(let i of t){if(!e.get(i))return;let t=a[i]?.map(t=>e.get(t));l.applyAssigneeIds.map(a=>{if(n.get(i)?.includes(a))return;let l=e.get(a);l&&t?.filter(e=>e).map(t=>{let n=t&&Z.ConnectionHandler.createEdge(e,t,l,"AssigneeEdge");n&&Z.ConnectionHandler.insertEdgeBefore(t,n)})}),l.removeAssigneeIds.map(e=>{t?.filter(e=>e).map(t=>t&&Z.ConnectionHandler.deleteNode(t,e))})}}var et=n(33987);function en(e){return(0,X.readInlineData)(ei,e)}async function ea(e,t){let{owner:n,repo:a,assignees:l,capabilities:i}=t,r=await (0,Q.SD)({environment:e,query:el,variables:{owner:n,name:a,loginNames:l.join(",")??[],first:l.length??0,capabilities:i}}).toPromise();return r?.repository?.suggestedActors?.ok?(r?.repository?.suggestedActors?.value.nodes??[]).filter(e=>!!e).map(e=>en(e)):[]}let el=i,ei=r;function er(e){return(0,o.G7)("item_picker_assignee_tsq_migration")?(0,a.jsx)(H,{...e}):(0,a.jsx)(es,{...e})}function es({anchorElement:e,...t}){return(0,a.jsx)(T.y,{anchorElement:(t,n)=>e(t,n),createChild:()=>(0,a.jsx)(eu,{anchorElement:(t,n)=>e(t,n),triggerOpen:!0,...t}),insidePortal:t.insidePortal,keybindingCommandId:ef(t.name)})}function eo(e){return(0,o.G7)("item_picker_assignee_tsq_migration")?(0,a.jsx)(z,{...e}):(0,a.jsx)(ed,{...e})}function ed({anchorElement:e,...t}){return(0,a.jsx)(T.y,{anchorElement:(t,n)=>e(t,n),keybindingCommandId:ef(t.name),createChild:()=>(0,a.jsx)(ec,{anchorElement:e,triggerOpen:!0,...t})})}function ec({repo:e,owner:t,assignees:n,assigneeTokens:l,suggestions:i,maximumAssignees:r,includeAssignableBots:s,includeAuthorableBots:o,...u}){let m=(0,X.useRelayEnvironment)(),[g,y]=(0,C.useState)(!1),[b,k]=(0,C.useState)(null),[x,v]=(0,C.useState)(null),[S,j]=(0,C.useState)(null),I=(0,C.useMemo)(()=>(0,et.M)({includeAssignableBots:s,includeAuthorableBots:o}),[s,o]),N=l.length>0;(0,C.useEffect)(()=>{!E.X3&&N&&(y(!0),(0,Q.SD)({environment:m,query:el,variables:{owner:t,name:e,loginNames:l.join(","),first:l.length,capabilities:I}}).subscribe({next:e=>{k(e??null),y(!1)},error:()=>{y(!1)}}))},[m,t,e,l,s,o,I,N]);let F=(0,C.useCallback)(n=>S&&S<=h.t.maximumSuggestedUsers&&x?(y(!1),(0,d.t)({items:[...x,...u.noAssigneeOption?[f.v.noAssigneeData]:[]],filter:n,key:e=>e.login||(u.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`})):new Promise((a,l)=>{y(!0),(0,X.fetchQuery)(m,el,{owner:t,name:e,query:n,first:h.t.maximumSuggestedUsers,capabilities:I}).subscribe({next:e=>{if(null!==e&&e.repository?.suggestedActors?.ok){let t=(e.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,X.readInlineData)(ei,e)]:[]);e.repository?.suggestedActors?.value.totalCount&&""===n.trim()&&j(e.repository.suggestedActors.value.totalCount),u.noAssigneeOption&&(0,c.O)(n,u.noAssigneeOption?.source?.login??"")&&t.unshift({...f.v.noAssigneeData}),y(!1),a(t)}else l(Error(p.S.couldNotSearchAssignees))},error:e=>{l(e),y(!1)}})}),[S,x,u.noAssigneeOption,m,t,e,I]),L=(0,C.useMemo)(()=>{let e=[];return n&&n.length>0?e=n:l.length>0&&(e=(b?.repository?.suggestedActors?.ok&&b?.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,X.readInlineData)(ei,e)]:[])),u.noAssigneeOption?.selected&&e.unshift(f.v.noAssigneeData),e},[l.length,n,b?.repository?.suggestedActors,u.noAssigneeOption?.selected]);(0,C.useEffect)(()=>{(async()=>{v(await F("")),y(!1)})()},[]);let T=(0,C.useMemo)(()=>{let e=(x||[]).find(e=>e.isCopilot),t=[...i||x||[]];return e&&!t.find(e=>e.isCopilot)&&t.unshift(e),t},[x,i]),w=(0,Y.u)();return(0,a.jsx)(_,{...u,assignees:L,suggestions:T,isLoading:g,searchAssignees:F,maximumAssignees:r,viewer:w})}function eu({number:e,owner:t,repo:n,assignees:i,suggestions:r,maximumAssignees:s,...o}){let d=(0,X.useRelayEnvironment)(),c=(r?.length||0)>0,[u,m]=(0,C.useState)(!c),[g,f]=(0,C.useState)(null);(0,C.useEffect)(()=>{E.X3||c||(0,Q.SD)({environment:d,query:l,variables:{owner:t,name:n,number:e,query:"",first:10}}).subscribe({next:e=>{f(e??null),m(!1)},error:()=>{m(!1)}})},[d,t,n,e,c]);let h=r||(g?.repository?.issueOrPullRequest?.suggestedActors?.ok&&g?.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,X.readInlineData)(ei,e)]:[]),y=(0,C.useCallback)(a=>new Promise((i,r)=>{(0,X.fetchQuery)(d,l,{owner:t,name:n,number:e,first:10,query:a}).subscribe({next:e=>{null!==e&&e.repository?.issueOrPullRequest?.suggestedActors?.ok?i((e.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,X.readInlineData)(ei,e)]:[])):r(Error(p.S.couldNotSearchAssignees))},error:e=>{r(e)}})}),[d,e,t,n]),b=(0,Y.u)();return(0,a.jsx)(_,{...o,isLoading:u,assignees:i,suggestions:h,searchAssignees:y,maximumAssignees:s,viewer:b})}function em(e){return(0,o.G7)("item_picker_assignee_tsq_migration")?(0,a.jsx)(ep,{...e}):(0,a.jsx)(eg,{...e})}function ep({connectionIds:e,existingIssueAssignees:t,issuesToActOn:n,...l}){let i=(0,X.useRelayEnvironment)(),r=(0,C.useCallback)(a=>{i.commitUpdate(l=>{if(a.applyAssigneeIds&&a.applyAssigneeIds.length>0&&a.assignees){let e=a.applyAssigneeIds,t=a.assignees.filter(t=>e.includes(t.id));for(let e of t){let t=l.get(e.id)||l.create(e.id,e.__typename);for(let[n,a]of Object.entries({id:e.id,login:e.login,name:e.name,avatarUrl:e.avatarUrl,__typename:e.__typename,isCopilot:e.isCopilot,profileResourcePath:e.profileResourcePath}))null!=a&&t.setValue(a,n)}}ee(l,n,t,e,{applyAssigneeIds:a.applyAssigneeIds||[],removeAssigneeIds:a.removeAssigneeIds||[]})})},[e,i,t,n]);return(0,a.jsx)(G,{...l,issuesToActOn:n,existingIssueAssignees:t,connectionIds:e,onMutate:r})}function eg({issuesToActOn:e,assigneesAppliedToAll:t,assigneesAppliedToSome:n,existingIssueAssignees:l,connectionIds:i,onError:r,onCompleted:d,repository:c,issueNumbers:u,externalReturnFocusRef:m,...p}){let g=(0,X.useRelayEnvironment)(),[f,h]=(0,C.useState)(!1),[y,b]=(0,C.useState)(0),k=(0,o.G7)("issues_copilot_cross_repo_assign"),x=(0,C.useMemo)(()=>t.some(e=>e.isCopilot),[t]),v=k&&!x,S=(0,C.useMemo)(()=>{let a=[...t,...n].find(e=>e.isCopilot)?.id;return a?e.reduce((e,t,n)=>{let i=(l.get(t)||[]).some(e=>e===a),r=u[n];return i||"number"!=typeof r||e.push(r),e},[]):[...u]},[t,n,l,u,e]),j=(0,C.useCallback)(n=>{let a=n.filter(e=>!t.some(t=>t.id===e.id)),s=t.filter(e=>!n.some(t=>t.id===e.id));if(!a.length&&!s.length)return;let o={applyAssigneeIds:a.map(e=>e.id),removeAssigneeIds:s.map(e=>e.id)};!function({environment:e,optimisticUpdateIds:t,existingIssueAssignees:n,connectionIds:a,input:{ids:l,applyAssigneeIds:i,removeAssigneeIds:r},onCompleted:s,onError:o}){let d={applyAssigneeIds:i,removeAssigneeIds:r},c={ids:l,...d};(0,X.commitMutation)(e,{mutation:J,variables:{input:c},updater:e=>ee(e,t,n,a,d),optimisticUpdater:e=>ee(e,t,n,a,d),onCompleted:e=>s&&s(e),onError:e=>o&&o(e)})}({...{environment:g,optimisticUpdateIds:e,existingIssueAssignees:l,connectionIds:i,onError:e=>{r?.(e)}},input:{ids:[...e],...o},onCompleted:({updateIssuesBulk:e})=>{d?.(e?.jobId||void 0)}})},[t,i,g,l,e,d,r]),I=(0,C.useCallback)(()=>{h(!0),b(e=>e+1)},[]),N=(0,C.useCallback)(e=>{let t=e.find(e=>e.isCopilot),n=e.filter(e=>!e.isCopilot);t&&v?(I(),j(n)):j(e)},[j,v,I]),F=v&&f,_=(0,C.useMemo)(()=>({name:p.repo,owner:{login:p.owner}}),[p.repo,p.owner]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo,{...p,responsiveOnNarrow:!0,assignees:t,assigneeTokens:[],onSelectionChange:N,includeAssignableBots:!0,includeAuthorableBots:!1},`bulk-assignee-picker-${y}`),F&&S.length>0&&(0,a.jsx)(s.B,{isOpen:f,onClose:()=>h(!1),repository:_,issueNumbers:S,onAssignmentComplete:()=>{h(!1),d?.()},returnFocusRef:m})]})}let ef=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{er.displayName||(er.displayName="AssigneePicker")}catch{}try{es.displayName||(es.displayName="AssigneePickerRelay")}catch{}try{eo.displayName||(eo.displayName="AssigneeRepositoryPicker")}catch{}try{ed.displayName||(ed.displayName="AssigneeRepositoryPickerRelay")}catch{}try{ec.displayName||(ec.displayName="AssigneeRepositoryPickerInternal")}catch{}try{eu.displayName||(eu.displayName="AssigneePickerInternal")}catch{}try{em.displayName||(em.displayName="BulkIssuesAssigneePicker")}catch{}try{ep.displayName||(ep.displayName="BulkIssuesAssigneePickerTsqWithRelayWrapper")}catch{}try{eg.displayName||(eg.displayName="BulkIssuesAssigneePickerRelay")}catch{}},19976:(e,t,n)=>{n.d(t,{Jg:()=>c,nq:()=>m,uP:()=>p.u,$e:()=>y,P3:()=>f,wj:()=>b,l4:()=>j,Qe:()=>k,Ah:()=>N});var a=n(74848),l=n(21728),i=n(34164),r=n(73017),s=n(13083);let o=e=>{let t,n,o,d,c,u,m,p,g,f,h=(0,l.c)(34),{dragging:y,isHighlighted:b,isLeftColumn:k,colSpan:x,line:C,lineAnchor:v}=e,S=C.html,j="";if(["ADDITION","DELETION"].includes(C.type)&&["+","-"].includes(S[0])){let e;j=S[0],h[0]!==S?(e=S.slice(1),h[0]=S,h[1]=e):e=h[1],S=e}let I=y&&b,N=k&&"HUNK"!==C.type;h[2]!==I||h[3]!==N?(t=(0,i.$)("diff-text-cell",{"border-left color-border-accent-emphasis":I,"border-right":N}),h[2]=I,h[3]=N,h[4]=t):t=h[4],h[5]!==v?(n=v?(0,s.Sq)(v):void 0,h[5]=v,h[6]=n):n=h[6],h[7]!==b||h[8]!==C.type?(o=(0,s.gK)(C.type,!1,b),h[7]=b,h[8]=C.type,h[9]=o):o=h[9],h[10]!==o?(d={backgroundColor:o},h[10]=o,h[11]=d):d=h[11];let F=j,_="ADDITION"===C.type,L="DELETION"===C.type;h[12]!==_||h[13]!==L?(c=(0,i.$)("diff-text syntax-highlighted-line",{addition:_,deletion:L}),h[12]=_,h[13]=L,h[14]=c):c=h[14];let T=e.lineChild,w="HUNK"===C.type;h[15]!==w?(u=(0,i.$)("diff-text-inner",{"color-fg-muted":w}),h[15]=w,h[16]=u):u=h[16];let A="CONTEXT"===C.type?"-7px":void 0;return h[17]!==A?(m={marginLeft:A},h[17]=A,h[18]=m):m=h[18],h[19]!==S||h[20]!==u||h[21]!==m?(p=(0,a.jsx)(r.$6,{className:u,html:S,style:m}),h[19]=S,h[20]=u,h[21]=m,h[22]=p):p=h[22],h[23]!==j||h[24]!==e.lineChild||h[25]!==p||h[26]!==c?(g=(0,a.jsxs)("code",{"data-code-marker":F,className:c,children:[T,p]}),h[23]=j,h[24]=e.lineChild,h[25]=p,h[26]=c,h[27]=g):g=h[27],h[28]!==x||h[29]!==g||h[30]!==t||h[31]!==n||h[32]!==d?(f=(0,a.jsx)("td",{className:t,colSpan:x,id:n,style:d,children:g}),h[28]=x,h[29]=g,h[30]=t,h[31]=n,h[32]=d,h[33]=f):f=h[33],f};try{o.displayName||(o.displayName="DiffText")}catch{}let d=e=>{let t,n,r,o,d,c,u,m,p,g,f,h,y,b=(0,l.c)(30);b[0]!==e?({ariaLabel:t,children:n,hasExpanderButton:o,lineType:u,colSpan:r,interactiveProps:d,isHighlighted:c,...m}=e,b[0]=e,b[1]=t,b[2]=n,b[3]=r,b[4]=o,b[5]=d,b[6]=c,b[7]=u,b[8]=m):(t=b[1],n=b[2],r=b[3],o=b[4],d=b[5],c=b[6],u=b[7],m=b[8]),b[9]!==n?(p=(0,a.jsx)("code",{className:"pr-2",children:n}),b[9]=n,b[10]=p):p=b[10];let k=p;if(d){let e;b[11]!==t||b[12]!==d||b[13]!==k?(e=(0,a.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:k}),b[11]=t,b[12]=d,b[13]=k,b[14]=e):e=b[14],k=e}let x=d?void 0:t,C=!!d;b[15]!==o||b[16]!==C?(g=(0,i.$)("diff-line-number",{"has-expander":o,clickable:C}),b[15]=o,b[16]=C,b[17]=g):g=b[17];let v=r||1;return b[18]!==c||b[19]!==u?(f=(0,s.gK)(u,!0,c),b[18]=c,b[19]=u,b[20]=f):f=b[20],b[21]!==f?(h={backgroundColor:f},b[21]=f,b[22]=h):h=b[22],b[23]!==m||b[24]!==x||b[25]!==g||b[26]!==v||b[27]!==h||b[28]!==k?(y=(0,a.jsx)("td",{"aria-label":x,"data-line-number":!0,className:g,colSpan:v,style:h,...m,children:k}),b[23]=m,b[24]=x,b[25]=g,b[26]=v,b[27]=h,b[28]=k,b[29]=y):y=b[29],y};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,n,i,r,s=(0,l.c)(28),{dragging:c,isHighlighted:u,isLeftColumn:m,isSplit:p,lineAnchor:g,line:f,lineChild:h,onLineNumberClick:y}=e,b="CONTEXT"===f.type||"INJECTED_CONTEXT"===f.type,k="ADDITION"!==f.type,x=k||!p,C="DELETION"!==f.type,v=C&&!b||!p,S=p&&b?m?f.left:f.right:f.left;return s[0]!==S||s[1]!==u||s[2]!==f.left||s[3]!==f.right||s[4]!==f.type||s[5]!==y||s[6]!==k||s[7]!==x?(t=x&&(0,a.jsx)(d,{ariaLabel:`Line ${k?f.left?.toString():f.right?.toString()}`,lineType:f.type,interactiveProps:y?{onClick:y}:null,isHighlighted:u,children:k&&S}),s[0]=S,s[1]=u,s[2]=f.left,s[3]=f.right,s[4]=f.type,s[5]=y,s[6]=k,s[7]=x,s[8]=t):t=s[8],s[9]!==u||s[10]!==f.left||s[11]!==f.right||s[12]!==f.type||s[13]!==y||s[14]!==C||s[15]!==v?(n=v&&(0,a.jsx)(d,{ariaLabel:`Line ${C?f.right?.toString():f.left?.toString()}`,lineType:f.type,interactiveProps:y?{onClick:y}:null,isHighlighted:u,children:C&&f.right}),s[9]=u,s[10]=f.left,s[11]=f.right,s[12]=f.type,s[13]=y,s[14]=C,s[15]=v,s[16]=n):n=s[16],s[17]!==c||s[18]!==u||s[19]!==m||s[20]!==f||s[21]!==g||s[22]!==h?(i=(0,a.jsx)(o,{dragging:c,isHighlighted:u,isLeftColumn:m,line:f,lineAnchor:g,lineChild:h}),s[17]=c,s[18]=u,s[19]=m,s[20]=f,s[21]=g,s[22]=h,s[23]=i):i=s[23],s[24]!==t||s[25]!==n||s[26]!==i?(r=(0,a.jsxs)(a.Fragment,{children:[t,n,i]}),s[24]=t,s[25]=n,s[26]=i,s[27]=r):r=s[27],r};try{c.displayName||(c.displayName="DiffLinePart")}catch{}let u={DiffPlaceholderSVG:"DiffPlaceholder-module__DiffPlaceholderSVG--zRrf1"};function m(){let e,t,n=(0,l.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,a.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("svg",{"aria-hidden":"true",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",className:u.DiffPlaceholderSVG,children:(0,a.jsxs)("defs",{children:[e,(0,a.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,a.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,a.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,a.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,a.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,a.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),n[1]=t):t=n[1],t}try{m.displayName||(m.displayName="DiffPlaceholder")}catch{}var p=n(88098);n(91618);var g=n(38621);function f(e){let t,n,i,r=(0,l.c)(10),{currentLine:s,hunkButton:c,isLeftColumn:u,isSplit:m}=e;if(m&&!u)return null;r[0]!==s.type||r[1]!==c||r[2]!==m?(t=c?(0,a.jsx)(d,{colSpan:m?1:2,hasExpanderButton:!0,lineType:s.type,children:c}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{lineType:s.type,children:(0,a.jsx)(g.KebabHorizontalIcon,{})}),!m&&(0,a.jsx)(d,{lineType:s.type,children:(0,a.jsx)(g.KebabHorizontalIcon,{})})]}),r[0]=s.type,r[1]=c,r[2]=m,r[3]=t):t=r[3];let p=m?3:void 0;return r[4]!==s||r[5]!==p?(n=(0,a.jsx)(o,{isHighlighted:!1,isLeftColumn:!0,colSpan:p,line:s}),r[4]=s,r[5]=p,r[6]=n):n=r[6],r[7]!==t||r[8]!==n?(i=(0,a.jsxs)(a.Fragment,{children:[t,n]}),r[7]=t,r[8]=n,r[9]=i):i=r[9],i}try{f.displayName||(f.displayName="HunkHeaderDiffLine")}catch{}function h(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,a.jsx)(g.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{h.displayName||(h.displayName="HunkKebabIcon")}catch{}function y(e){let t,n,r,s=(0,l.c)(5),{isLeftColumn:o}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(d,{lineType:"EMPTY"}),s[0]=t):t=s[0],s[1]!==o?(n=(0,i.$)("empty-diff-line",{"border-right":o}),s[1]=o,s[2]=n):n=s[2],s[3]!==n?(r=(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)("td",{className:n,colSpan:1})]}),s[3]=n,s[4]=r):r=s[4],r}try{y.displayName||(y.displayName="EmptyDiffLine")}catch{}function b(e){let t,n,i,r,s,o,d,c,u=(0,l.c)(15);return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Original file line number"}),(0,a.jsx)("th",{scope:"col",children:"Original file line"}),(0,a.jsx)("th",{scope:"col",children:"Diff line number"}),(0,a.jsx)("th",{scope:"col",children:"Diff line change"})]})}),u[0]=t):t=u[0],u[1]!==e.lineWidth?(n=(0,a.jsx)("col",{width:e.lineWidth}),u[1]=e.lineWidth,u[2]=n):n=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("col",{}),u[3]=i):i=u[3],u[4]!==e.lineWidth?(r=(0,a.jsx)("col",{width:e.lineWidth}),u[4]=e.lineWidth,u[5]=r):r=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("col",{}),u[6]=s):s=u[6],u[7]!==n||u[8]!==r?(o=(0,a.jsxs)("colgroup",{children:[n,i,r,s]}),u[7]=n,u[8]=r,u[9]=o):o=u[9],u[10]!==e.children?(d=(0,a.jsx)("tbody",{children:e.children}),u[10]=e.children,u[11]=d):d=u[11],u[12]!==o||u[13]!==d?(c=(0,a.jsxs)(a.Fragment,{children:[t,o,d]}),u[12]=o,u[13]=d,u[14]=c):c=u[14],c}try{b.displayName||(b.displayName="SplitDiffTable")}catch{}function k(e){let t,n,i,r,s,o,d,c=(0,l.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Original file line number"}),(0,a.jsx)("th",{scope:"col",children:"Diff line number"}),(0,a.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(n=(0,a.jsx)("col",{width:e.lineWidth}),i=(0,a.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=n,c[3]=i):(n=c[2],i=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("col",{width:"100%"}),c[4]=r):r=c[4],c[5]!==n||c[6]!==i?(s=(0,a.jsxs)("colgroup",{children:[n,i,r]}),c[5]=n,c[6]=i,c[7]=s):s=c[7],c[8]!==e.children?(o=(0,a.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=o):o=c[9],c[10]!==s||c[11]!==o?(d=(0,a.jsxs)(a.Fragment,{children:[t,s,o]}),c[10]=s,c[11]=o,c[12]=d):d=c[12],d}try{k.displayName||(k.displayName="UnifiedDiffTable")}catch{}let x={diffTextCell:"UnifiedDiffLines-module__diffTextCell--y7sIw",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--PwOTu",diffHunkText:"UnifiedDiffLines-module__diffHunkText--nwvt0",diffTextInner:"UnifiedDiffLines-module__diffTextInner--z42oB",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--XE3qq",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--GBB6F",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--mmCob",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--Ls6hS",unifiedDiffLines:"UnifiedDiffLines-module__unifiedDiffLines--UDm5a"};function C(e){let t,n,i,r,o=(0,l.c)(9),{line:d,children:c}=e;return o[0]!==d.type?(t=(0,s.gK)(d.type,!0),o[0]=d.type,o[1]=t):t=o[1],o[2]!==t?(n={backgroundColor:t,textAlign:"center"},o[2]=t,o[3]=n):n=o[3],o[4]!==c?(i=(0,a.jsx)("code",{children:c}),o[4]=c,o[5]=i):i=o[5],o[6]!==n||o[7]!==i?(r=(0,a.jsx)("td",{className:x.diffLineNumber,style:n,children:i}),o[6]=n,o[7]=i,o[8]=r):r=o[8],r}function v(e){let t,n,s,o=(0,l.c)(4),{line:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(h,{}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.$)(x.diffTextInner,"color-fg-muted"),o[1]=n):n=o[1];let c=d.html;return o[2]!==c?(s=(0,a.jsx)("td",{colSpan:4,className:x.diffHunkCell,valign:"top",children:(0,a.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,a.jsx)("code",{className:x.diffHunkText,children:(0,a.jsx)(r.$6,{className:n,html:c})})]})}),o[2]=c,o[3]=s):s=o[3],s}function S(e){let t,n,o,d=(0,l.c)(13),{line:c}=e,u="HUNK"===c.type,m="ADDITION"!==c.type,p="DELETION"!==c.type,g="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,f=!!g;return d[0]!==u||d[1]!==c?(t=u&&(0,a.jsx)(v,{line:c}),d[0]=u,d[1]=c,d[2]=t):t=d[2],d[3]!==u||d[4]!==c||d[5]!==g||d[6]!==m||d[7]!==f||d[8]!==p?(n=!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{line:c,children:m&&c.left}),(0,a.jsx)(C,{line:c,children:p&&c.right}),(0,a.jsx)("td",{className:x.diffTextCell,style:{backgroundColor:(0,s.gK)(c.type,!1)},children:(0,a.jsxs)("code",{className:(0,i.$)("ADDITION"===c.type&&x.syntaxHighlightedAdditionLine,"DELETION"===c.type&&x.syntaxHighlightedDeletionLine),children:[f&&(0,a.jsx)("span",{className:x.diffTextMarker,children:g}),(0,a.jsx)(r.$6,{className:x.diffTextInner,html:c.html,style:{backgroundColor:(0,s.gK)(c.type,!1)}})]})})]}),d[3]=u,d[4]=c,d[5]=g,d[6]=m,d[7]=f,d[8]=p,d[9]=n):n=d[9],d[10]!==t||d[11]!==n?(o=(0,a.jsxs)("tr",{children:[t,n]}),d[10]=t,d[11]=n,d[12]=o):o=d[12],o}function j(e){let t,n,r,s,o=(0,l.c)(14),{className:d,lines:c,lineWidth:u,tabSize:m}=e;if(o[0]!==c||o[1]!==m){let e;o[3]!==m?(e=(e,t)=>(0,a.jsx)(S,{line:e,tabSize:m},t),o[3]=m,o[4]=e):e=o[4],t=c.map(e),o[0]=c,o[1]=m,o[2]=t}else t=o[2];let p=t;return o[5]!==d?(n=(0,i.$)(x.unifiedDiffLines,d,"tab-size"),o[5]=d,o[6]=n):n=o[6],o[7]!==p||o[8]!==u?(r=(0,a.jsx)(k,{lineWidth:u,children:p}),o[7]=p,o[8]=u,o[9]=r):r=o[9],o[10]!==n||o[11]!==r||o[12]!==m?(s=(0,a.jsx)("table",{className:n,"data-tab-size":m,children:r}),o[10]=n,o[11]=r,o[12]=m,o[13]=s):s=o[13],s}try{C.displayName||(C.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{S.displayName||(S.displayName="UnifiedDiffRow")}catch{}try{j.displayName||(j.displayName="UnifiedDiffLines")}catch{}function I(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function N({startDiffSide:e,endDiffSide:t,originalStartLine:n,originalEndLine:a}){return e&&t&&"number"==typeof n&&"number"==typeof a?0===n&&1===a&&e===t?"-1 to +1":e===t&&n===a?`${I(e)}${n}`:`${I(e)}${n} to ${I(t)}${a}`:""}},20177:(e,t,n)=>{n.d(t,{Y:()=>a});let a={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},20263:(e,t,n)=>{n.d(t,{BC:()=>o,JU:()=>c,Pk:()=>s});var a=n(74848),l=n(87448),i=n(99418),r=n(96540);let s=u(l.az),o=u(l.EY),d=(0,r.forwardRef)((e,t)=>(0,a.jsx)("div",{ref:t,...e}));d.displayName="Div";let c=u(d);function u(e){let t=(0,r.forwardRef)((t,n)=>{let{sanitizedHTML:l,props:r}=function(e){let{html:t,domPurifyConfig:n,...a}=e,l={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:i.default.sanitize(t,l),props:a}}(t);return(0,a.jsx)(e,{ref:n,...r,dangerouslySetInnerHTML:{__html:l}})});return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{c.displayName||(c.displayName="UnsafeHTMLDiv")}catch{}},20403:(e,t,n)=>{n.d(t,{S:()=>l});var a=n(25407);function l(e,{isCopilot:t=!1,tracking:n=!0}={}){return t?function(e,{tracking:t=!0}={}){let n={"data-hovercard-url":(0,a._nf)({bot_slug:e}),"data-hovercard-type":"copilot"};return t?i(n):n}(e,{tracking:n}):function(e,{tracking:t=!0}={}){let n={"data-hovercard-url":(0,a.dCN)({owner:e}),"data-hovercard-type":"user"};return t?i(n):n}(e,{tracking:n})}function i(e){return{...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"}}},20459:(e,t,n)=>{n.d(t,{E:()=>o,s:()=>i});var a=n(66661),l=n(96760);function i(e){if(!e)return e;let t=e.split(`
`),n="";for(let e of t)n=n.concat(`> ${e}
`);return n}let r=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,s=e=>{let t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),n=t.nextNode();for(;n;)n instanceof HTMLElement&&r(n)&&n.remove(),n=t.nextNode()};function o(e,t,n){if(!e)return;let i=e.querySelector((0,l.Sp)(l.mU.markdownBody)),r=new a.g("",s);t&&i.contains(t.anchorNode)&&i.contains(t.range.startContainer)&&i.contains(t.range.endContainer)&&!t.range.collapsed&&""!==t.range.toString().trim()?r.range=t.range:r.select(i),n&&(r.processSelectionTextFn=e=>{for(let t of n.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let n=t[1],a=t[2],l=t[3];if(!n||!a||!l)continue;let i=`${n}${a}${l.split(")")[0]})`,r=e.split(a);if(r.length<2)continue;let s=r[0]?.match(/!\[[^[]+$/),o=r[1]?.split(")")[0],d=`${s}${a}${o})`;e=e.replaceAll(d,i)}return e});let o=(0,l.tD)();if(o){let e=o?.querySelector("textarea"),t=o?.querySelector("button");if(e)return r.insert(e),e.value;if(t)return r.quotedText}}},20622:(e,t,n)=>{n.d(t,{u:()=>a});let a={baseComparisonInfo:"base_comparison_info",changeGroups:"change_groups",codeButton:"code_button",codeowners:"codeowners",commits:"commits",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",convertToDraft:"convert_to_draft",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",dismissReview:"dismiss_review",enableAutoMerge:"enable_auto_merge",generateChangeGroups:"generate_change_groups",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitCopilotGroupsFeedback:"submit_copilot_groups_feedback",submitReview:"submit_review",submitSuggestedChanges:"apply_suggestions",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateShowChangeGroupsPreference:"update_show_change_groups_preference",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",addSuggestionToBatch:"add_suggestion_to_batch",removeSuggestionFromBatch:"remove_suggestion_from_batch",discardSuggestionBatch:"discard_suggestion_batch"}},21052:(e,t,n)=>{n.d(t,{N:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=["orderBy"];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:t,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerAssignedLabels"},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:t,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[n,{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:a,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:a,filters:i,handle:"connection",key:"LabelPickerLabel_labels",kind:"LinkedHandle",name:"labels"},{alias:null,args:a,filters:i,handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"b961175013649b3ccab1f37ef8ab4117",metadata:{},name:"setLabelsForLabelableRelayMutation",operationKind:"mutation",text:null}}}();a.hash="2e1af78830e66ce4f38c9225b2337b75";var l=n(18312);function i({environment:e,input:{labelableId:t,labels:n,labelableTypeName:i},clientMutationId:r,onError:s,onCompleted:o}){return(0,l.commitMutation)(e,{mutation:a,variables:{input:{labelableId:t,labelIds:n.map(e=>e.id),clientMutationId:r}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:i,__isNode:"true",__isLabelable:"true",id:t,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:n.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>s&&s(e),onCompleted:e=>o&&o(e)})}},21067:(e,t,n)=>{let a;function l(){if(!a)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return a}function i(){return a?.locale??"en-US"}function r(){return!!l().login}function s(){return l().login}n.d(t,{JK:()=>i,M3:()=>r,_$:()=>l,cj:()=>s}),!function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{a=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},21798:(e,t,n)=>{n.d(t,{X:()=>m});var a=n(74848),l=n(38621),i=n(21373),r=n(11196),s=n(87448),o=n(34164),d=n(96540),c=n(41848);let u={SectionHeaderTitle:"SectionHeader-module__SectionHeaderTitle--TxSJL",editButton:"SectionHeader-module__editButton--pMar1",screenReaderText:"SectionHeader-module__screenReaderText--O1ZJ0"},m=(0,d.forwardRef)(({id:e,title:t,buttonProps:n,headingProps:{as:d="h3",...m}={},readonly:p,errorPresent:g,...f},h)=>{let y=p?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...f.sx}:{width:"100%",position:"relative",display:"flex",alignItems:"center",...f.sx},b=(0,a.jsxs)(s.az,{sx:y,children:[(0,a.jsx)(s.DZ,{id:e,as:d,sx:{position:p?"relative":"absolute",...m},className:u.SectionHeaderTitle,children:t}),!p&&(0,a.jsxs)(i.Q,{ref:h,...n,variant:"invisible",size:"small",trailingAction:()=>g?(0,a.jsx)(l.AlertIcon,{className:"fgColor-danger"}):(0,a.jsx)(l.GearIcon,{}),block:!0,className:u.editButton,"aria-describedby":g?`error-message-${e}`:void 0,children:[(0,a.jsx)("span",{className:(0,o.$)("sr-only",u.screenReaderText),children:c.k.editFieldValueLabel(t)}),g&&(0,a.jsx)("span",{id:`error-message-${e}`,className:"sr-only",children:c.k.errorUpdatingIssueField})]})]});return g&&!p?(0,a.jsx)(r.m,{text:c.k.errorUpdatingIssueField,children:b}):b});m.displayName="SectionHeader"},21935:(e,t,n)=>{n.d(t,{c:()=>c,y:()=>u});var a,l=n(74848),i=n(73189),r=n(25407),s=n(96379),o=n(96540);let d=(0,o.createContext)({comments:[],addComment:i.l,deleteComment:i.l,updateComment:i.l,loadMore:i.l,retry:i.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:t=[],commentCount:n=0,canLoadMore:a=!1,subscribed:i=!1,providerState:c="initial",repo:u,commitOid:m}){let[p,g]=(0,o.useState)(t),[f,h]=(0,o.useState)(n),[y,b]=(0,o.useState)(a),[k,x]=(0,o.useState)(c),[C,v]=(0,o.useState)(i);(0,o.useEffect)(()=>{h(n),g(t),b(a),v(i),x(c)},[c]);let S=(0,o.useCallback)(async e=>{x("loading");let t=await (0,s.Sr)((0,r.Mo3)({owner:u.ownerLogin,repo:u.name,commitOid:m,beforeCommentId:e}));if(t.ok){let n=await t.json();e?g(e=>[...n.comments,...e]):g(n.comments),x("loaded"),h(n.count),v(n.subscribed),b(n.canLoadMore)}else x("error")},[u.ownerLogin,u.name,m]),j=(0,o.useCallback)(()=>{let e=p[0];e&&y&&S(e.id.toString())},[y,p,S]),I=(0,o.useCallback)(e=>{g([...p,e]),h((f??0)+1)},[p,f]),N=(0,o.useCallback)(e=>{g(p.filter(t=>t.id!==e)),h((f??0)-1)},[p,f]),F=(0,o.useCallback)(e=>{g(p.map(t=>t.id===e.id?e:t))},[p]),_=(0,o.useMemo)(()=>({addComment:I,canLoadMore:y,comments:p,count:f,deleteComment:N,loadMore:j,retry:S,subscribed:C,providerState:k,updateComment:F}),[I,y,p,f,N,S,j,k,C,F]);return(0,l.jsx)(d.Provider,{value:_,children:e})}function u(){let e=(0,o.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(a=DiscussionComments).displayName||(a.displayName="DiscussionComments")}catch{}},22031:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(52851),l=n(52528);let i=function(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var d=t[s],c=i?i(n[d],e[d],d,n,e):void 0;void 0===c&&(c=e[d]),r?(0,l.A)(n,d,c):(0,a.A)(n,d,c)}return n}},23490:(e,t,n)=>{n.d(t,{iF:()=>v});var a=n(74848);let l={kind:"InlineDataFragment",name:"IssueFieldPickerIssueField"};l.hash="31d854fea63dea594c796cfb9821b91c";let i=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"}],kind:"Fragment",metadata:{connection:[{count:"issueFieldsPageSize",cursor:null,direction:"forward",path:["issueFields"]}]},name:"IssueFieldPickerPaginated",selections:[{alias:"issueFields",args:null,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"__Organization_issueFields_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueFieldPickerIssueField",selections:[{kind:"InlineFragment",selections:e,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:e,type:"IssueFieldNumber",abstractKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}}();i.hash="8a6dd6e5fd4fe5d70ead8019af2bbe61";let r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"},t={defaultValue:null,kind:"LocalArgument",name:"name"},n=[{kind:"Variable",name:"login",variableName:"name"}],a=[{kind:"Variable",name:"first",variableName:"issueFieldsPageSize"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=[l,{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IssueFieldPickerQuery",selections:[{alias:null,args:n,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{args:[{kind:"Variable",name:"issueFieldsPageSize",variableName:"issueFieldsPageSize"}],kind:"FragmentSpread",name:"IssueFieldPickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"IssueFieldPickerQuery",selections:[{alias:null,args:n,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:a,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"issueFields",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIssueFields"},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:a,filters:null,handle:"connection",key:"Organization_issueFields",kind:"LinkedHandle",name:"issueFields"},l],storageKey:null}]},params:{id:"dadedc2e94c39085c4fdd2fe515621a9",metadata:{},name:"IssueFieldPickerQuery",operationKind:"query",text:null}}}();r.hash="9a4fe5cc933711b34b06c8deb4838e9d";var s=n(18815),o=n(19918),d=n(86391),c=n(81289),u=n(81709),m=n(30721),p=n(71315),g=n(11083),f=n(26607),h=n(57352),y=n(96540),b=n(18312),k=n(14709);let x=(0,g.X)(),C=(0,a.jsxs)("div",{className:"IssueFieldPicker-module__footer--mYJzU",children:[(0,a.jsx)(f.A,{variant:"success",children:"Preview"}),(0,a.jsx)(h.A,{href:x?"https://github-grid.enterprise.slack.com/archives/C0969KWTU01":"https://github.com/orgs/community/discussions/175366",children:"Share feedback"})]});function v({anchorElement:e,...t}){return(0,a.jsx)(c.y,{anchorElement:t=>e(t),createChild:()=>(0,a.jsx)(S,{anchorElement:(t,n)=>e(t,n),...t}),insidePortal:t.insidePortal,keybindingCommandId:"item-pickers:open-fields"})}function S({owner:e,anchorElement:t,...n}){let l=(0,b.useRelayEnvironment)(),[i,d]=(0,y.useState)(!0),[c,g]=(0,y.useState)(0),[f,h]=(0,y.useState)(!1),[k,x]=(0,y.useState)(null);(0,y.useEffect)(()=>{p.X3||(0,m.SD)({environment:l,query:r,variables:{name:e,issueFieldsPageSize:s.AE}}).subscribe({next:e=>{x(e.organization??null),d(!1),h(!1)},error:()=>{h(!0),d(!1)}})},[l,c,e]);let{createFallbackComponent:C}=(0,u.j)({errorMessage:o.k.cantEditItems("fields"),anchorElement:t,open:!0});return f?C(()=>g(e=>e+1)):(0,a.jsx)(j,{owner:e,fields:k,isLoading:i,anchorElement:t,...n})}function j({title:e=o.k.fieldsHeader,width:t="medium",fields:n,fieldsSet:r,onSelectionChange:s,insidePortal:c,anchorElement:u,isLoading:m,nested:p,notice:g}){let[f,h]=(0,y.useState)(""),x=(0,b.useFragment)(i,n),v=(0,y.useMemo)(()=>(x?.issueFields?.edges?.flatMap(e=>e?.node?[(0,b.readInlineData)(l,e.node)]:[])||[]).filter(e=>!!e&&(!(r.length>0)||!e.name||-1===r.indexOf(e.name))),[x,r]),S=(0,y.useMemo)(()=>f?v.filter(e=>e.name&&e.name.toLowerCase().indexOf(f.toLowerCase())>=0):v,[v,f]),j=(0,y.useCallback)(e=>{h(e)},[]),I=(0,y.useCallback)(e=>e.id||"",[]),N=(0,y.useId)(),F=(0,y.useCallback)(e=>({id:e.id||N,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,k.N)(e.dataType||"TEXT"),source:e}),[N]),_=(0,y.useRef)(null),L=(0,y.useMemo)(()=>0===S.length,[S.length]);return(0,a.jsx)(d.O,{loading:m,items:S,initialSelectedItems:[],filterItems:j,title:e,getItemKey:I,convertToItemProps:F,placeholderText:"Filter fields",selectionVariant:"single",onSelectionChange:s,renderAnchor:e=>u(e,_),insidePortal:c,height:"large",width:t,nested:p,resultListAriaLabel:"Issue Fields results",triggerOpen:!0,secondaryAction:C,notice:g,selectPanelRef:_,keybindingCommandId:"item-pickers:open-fields",improvedNoMatchAccessibility:L,noMatchMessage:L?{title:"No issue fields were found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}try{C.displayName||(C.displayName="SECONDARY_ACTION")}catch{}try{v.displayName||(v.displayName="IssueFieldPicker")}catch{}try{S.displayName||(S.displayName="IssueFieldPickerFetcher")}catch{}try{j.displayName||(j.displayName="ItemPickerWrapper")}catch{}},24453:(e,t,n)=>{n.d(t,{O:()=>l});var a=n(59403);let l=(e,t)=>(0,a.dt)(e,t)>a.IP},24550:(e,t,n)=>{n.d(t,{t:()=>p});var a,l=n(74848),i=n(38621),r=n(57352),s=n(87448),o=n(10095),d=n(96540),c=n(99223),u=n(34164);let m={ContributorFooterContainer:"ContributorFooter-module__ContributorFooterContainer--lDUwn"};function p({contributingFileUrl:e,securityPolicyUrl:t,codeOfConductFileUrl:n,supportFileUrl:a,sx:p,className:g}){return!(0,c.k)()&&(e||t||n||a)?(0,l.jsxs)(s.az,{"data-testid":"contributor-footer",sx:p,className:(0,u.$)(m.ContributorFooterContainer,g),children:[(0,l.jsx)(o.A,{icon:i.InfoIcon}),(0,l.jsxs)("div",{"data-testid":"contributor-footer-text",children:[(0,l.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),(0,l.jsx)("span",{children:(0,l.jsx)(()=>{let i=[];if(e&&i.push((0,l.jsx)(r.A,{underline:!0,href:e,children:"contributing guidelines"})),t&&i.push((0,l.jsx)(r.A,{underline:!0,href:t,children:"security policy"})),n&&i.push((0,l.jsx)(r.A,{underline:!0,href:n,children:"code of conduct"})),a&&i.push((0,l.jsx)(r.A,{underline:!0,href:a,children:"Support"})),1===i.length)return(0,l.jsx)(l.Fragment,{children:i.pop()});let s=i.pop();return(0,l.jsxs)(l.Fragment,{children:[i.map((e,t)=>(0,l.jsxs)(d.Fragment,{children:[e,(0,l.jsx)("span",{children:t!==i.length-1?", ":" "})]},t)),(0,l.jsxs)("span",{children:["and ",s]})]})},{})}),(0,l.jsx)("span",{children:"."})]})]}):null}try{p.displayName||(p.displayName="ContributorFooter")}catch{}try{(a=Links).displayName||(a.displayName="Links")}catch{}},24967:(e,t,n)=>{n.d(t,{e:()=>i});var a=n(74848),l=n(81945);function i(){return(0,a.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,a.jsx)(l.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{i.displayName||(i.displayName="ReactionViewerLoading")}catch{}},25556:(e,t,n)=>{n.d(t,{m:()=>f});var a=n(74848),l=n(11683),i=n(96540),r=n(56149),s=n(87448),o=n(34164);let d=n(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-a45d872d-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,s.yB)("fonts.normal"),(0,s.yB)("colors.fg.onEmphasis"),(0,s.yB)("colors.neutral.emphasisPlus"),(0,s.yB)("radii.2"),(0,s.yB)("space.3"),(0,s.yB)("space.3"),(0,s.yB)("space.3"),(0,s.yB)("space.3"),s.sx),c=()=>()=>void 0,u=()=>!1,m=()=>!0,p=(0,i.forwardRef)(function({direction:e="n",className:t,text:n,noDelay:l,align:s,wrap:p,open:g=!1,portalProps:f={},...h},y){let b=(0,i.useSyncExternalStore)(c,m,u),k=(0,o.$)(t,`tooltipped-${e}`,s&&`tooltipped-align-${s}-2`,l&&"tooltipped-no-delay",p&&"tooltipped-multiline",g&&"tooltipped-open");return b?(0,a.jsx)(r.ZL,{...f,children:(0,a.jsx)(d,{ref:y,role:"tooltip","aria-label":n,"data-visible-text":n||h["aria-label"],...h,sx:{position:"fixed",zIndex:1,...h.sx},className:k})}):null});try{p.displayName||(p.displayName="ControlledTooltip")}catch{}var g=n(65787);let f=(0,i.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:n,anchorSide:r,anchorOffset:s,alignmentOffset:o,allowOutOfBounds:d,...c},u){let m=(0,i.useRef)(null);(0,i.useImperativeHandle)(u,()=>m.current);let f=(0,i.useRef)({left:0,top:0}),h=(0,i.useSyncExternalStore)((0,i.useCallback)(n=>{if(!m.current||!e.current||!t)return()=>void 0;let a=(0,g.U)(e.current);return a?.addEventListener("scroll",n),()=>{a?.removeEventListener("scroll",n)}},[e,t]),(0,i.useCallback)(()=>{if(!m.current||!e.current)return f.current;let t=(0,l.uG)(m.current,e.current,{align:n??"center",side:r??"outside-top",alignmentOffset:o??0,anchorOffset:s??0,allowOutOfBounds:d});return(t.left!==f.current.left||t.top!==f.current.top)&&(f.current=t),f.current},[e,o,s,n,r,d]),(0,i.useCallback)(()=>f.current,[]));return(0,a.jsx)(p,{...c,ref:m,open:t,style:{position:"absolute",...h,...c.style}})});try{f.displayName||(f.displayName="PortalTooltip")}catch{}},25779:(e,t,n)=>{n.d(t,{v:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneRelayMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneRelayMutation",selections:n},params:{id:"15f7936034547bc129d53f9c6b14fba9",metadata:{},name:"updateIssueMilestoneRelayMutation",operationKind:"mutation",text:null}}}();a.hash="253dc6aa9f06016bb138f16bb1697b39";var l=n(18312);function i({environment:e,input:{issueId:t,milestone:n,clientMutationId:i},onError:r,onCompleted:s}){return(0,l.commitMutation)(e,{mutation:a,variables:{input:{id:t,milestoneId:n?n.id:null,clientMutationId:i}},optimisticResponse:{updateIssue:{issue:{id:t,milestone:n?{id:n.id,title:n.title,closed:n.closed,dueOn:n.dueOn,progressPercentage:n.progressPercentage,url:n.url,closedAt:n.closedAt}:null}}},onError:e=>r&&r(e),onCompleted:e=>s&&s(e)})}},25983:(e,t,n)=>{n.d(t,{n:()=>c});var a=n(74848),l=n(57352),i=n(87448),r=n(96540);let s={issueTypeTokenContainer:"IssueTypeToken-module__issueTypeTokenContainer--u7mnl",tokenText:"IssueTypeToken-module__tokenText--jTqtr",token:"IssueTypeToken-module__token--QZUId"};var o=n(11196),d=n(34164);let c=({name:e,color:t,href:n,getTooltipText:c,size:m,sx:p,className:g})=>{let f=(0,r.useRef)(null),[h,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>y(u(f.current)),[y,f]);let b=(0,a.jsx)(l.A,{href:n,children:(0,a.jsx)(i.ou,{className:(0,d.$)(s.token,g),"data-color":t,ref:f,sx:p,text:(0,a.jsx)("span",{className:s.tokenText,children:e})})}),k=c(h);return(0,a.jsx)("div",{className:s.issueTypeTokenContainer,"data-size":m,children:k?(0,a.jsx)(o.m,{text:k,children:b}):b})},u=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{c.displayName||(c.displayName="IssueTypeToken")}catch{}},26052:(e,t,n)=>{n.d(t,{v:()=>s});var a=n(74848),l=n(21728),i=n(96540),r=n(68245);function s(e){let t,n=(0,l.c)(5),{login:s,profileName:o}=e;if("name_handle"===(0,i.useContext)(r._)&&o?.trim()){let e;return n[0]!==s||n[1]!==o?(e=(0,a.jsxs)(a.Fragment,{children:[o," (",s,")"]}),n[0]=s,n[1]=o,n[2]=e):e=n[2],e}return n[3]!==s?(t=(0,a.jsx)(a.Fragment,{children:s}),n[3]=s,n[4]=t):t=n[4],t}try{s.displayName||(s.displayName="ProfileReference")}catch{}},26156:(e,t,n)=>{n.d(t,{v:()=>I,S:()=>j});var a=n(74848),l=n(69599),i=n(77430),r=n(25407),s=n(26052),o=n(38621),d=n(57352),c=n(62935),u=n(26607),m=n(87448),p=n(34164),g=n(96540),f=n(96901),h=n(46173),y=n(29554),b=n(13771),k=n(41248),x=n(40846);let C=({viewerDidAuthor:e,subjectType:t})=>(0,a.jsx)(x.C,{viewerDidAuthor:e,ariaLabel:f.k.commentSubjectAuthor(e??!1,t??"comment"),label:f.k.commentAuthor,testId:h.Y.commentSubjectAuthor});try{C.displayName||(C.displayName="CommentSubjectAuthor")}catch{}var v=n(85757);let S=({createdAt:e,owner:t,viewerDidAuthor:n})=>{let l=new Date(e),i=l.toLocaleString("default",{month:"long"}),r=f.k.sponsor(t,`${i} ${l.getFullYear()}`);return(0,a.jsx)(x.C,{label:f.k.sponsorBadge,ariaLabel:r,testId:h.Y.sponsorLabel,viewerDidAuthor:n})};try{S.displayName||(S.displayName="SponsorsBadge")}catch{}let j={Bot:"Bot",Mannequin:"Mannequin",User:"User"};function I({actions:e,comment:t,commentAuthorType:n,commentAuthorSlug:i,commentAuthorLogin:I,commentAuthorProfileName:F,isMinimized:_=!1,avatarUrl:L,lastEditedByMessage:T,editHistoryComponent:w,additionalHeaderMessage:A,sx:E,viewerDidAuthor:D=!1,userAvatar:P,commentSubjectAuthorLogin:K,commentSubjectType:R,isReply:M=!1,headingProps:{as:V,...B}={as:"h3"},id:O,forceInlineAvatar:U,containerStyle:$,originalDiffPathUri:H,isOutdated:z,hideProfileLink:q=!1}){let W,G=$||M?{}:{backgroundColor:D?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:D?"accent.muted":"border.default",borderBottomWidth:+!_,py:U?[1,1,2,2]:1,pr:1,pl:3,...E},Q=t.pendingMinimizeReason??t.minimizedReason,X=!!Q||t.isHidden,Y=new Date(t.createdAt),J=n===j.Bot,Z=n===j.Mannequin,ee=J&&("Copilot"===I&&!!i||"copilot-swe-agent"===I),et=Z||q?void 0:`/${J?"apps/":""}${i??I}`,en=ee?"Copilot":I;W=ee?(0,r._nf)({bot_slug:i??I}):Z?void 0:(0,r.dCN)({owner:I});let ea=(0,a.jsxs)(a.Fragment,{children:[A&&(0,a.jsx)("span",{className:y.A.HeaderMutedText,children:A}),(0,a.jsxs)("span",{className:y.A.HeaderMutedText,children:[(0,a.jsx)(d.A,{href:z?function(e){if(!e)return;let t=new URL(e,window.location.origin);return t.searchParams.set("new_files_changed","true"),t.toString()}(H):t.url,"data-turbo":z?"false":"true",className:y.A.HeaderLink,children:(0,a.jsxs)(c.A,{date:Y,children:["on ",Y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),t.createdViaEmail&&(0,a.jsx)("span",{children:` ${f.k.sentViaEmail}`}),t.viaApp&&(0,a.jsxs)("span",{children:[" ","\u2013 with"," ",(0,a.jsx)(d.A,{inline:!0,href:t.viaApp.url,children:t.viaApp.name})]})]}),X&&(0,a.jsxs)("span",{className:y.A.HeaderMutedTextNoEllipsis,children:[" ","\xb7"," ",Q?(0,a.jsxs)("span",{children:[f.k.hiddenCommentWithReason," ",Q.replace(/_/g,"-").toLowerCase()]}):(0,a.jsx)("span",{children:f.k.hiddenComment})]}),T&&!X&&(0,a.jsx)(g.Suspense,{children:T})]});return(0,a.jsx)(m.az,{id:O,sx:{...G},"data-testid":h.Y.commentHeader,className:y.A.ActivityHeaderContainer,children:(0,a.jsxs)(m.az,{className:(0,p.$)(y.A.activityHeader,y.A.ActivityHeaderGridLayout),sx:{paddingBottom:T||U?0:"var(--base-size-6, 6px)"},children:[(0,a.jsx)(V,{...B,className:"sr-only",children:(0,a.jsxs)(a.Fragment,{children:[ee?"Copilot":I," ",M?"replied":"commented"," ",(0,a.jsxs)(c.A,{date:Y,children:["on ",Y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]})}),(0,a.jsx)(m.az,{className:(0,p.$)(U?"":b.A.avatarInner,y.A.AvatarContainer),sx:{display:U?"flex":["flex","flex","none","none"]},children:P??(0,a.jsx)(N,{avatarUrl:L,login:I,isCopilot:ee,isHidden:X,hovercardUrl:W,profileUrl:et})}),(0,a.jsxs)("div",{className:(0,p.$)(y.A.narrowViewportWrapper,y.A.CommentHeaderContentContainer),"data-testid":h.Y.commentHeaderLeftSideItems,children:[(0,a.jsxs)("div",{className:y.A.TitleContainer,children:[et?(0,a.jsx)(d.A,{href:et,"data-testid":h.Y.avatarLink,"data-hovercard-url":W,className:(0,p.$)(y.A.AuthorName,y.A.AuthorLink,X?"color-fg-muted":"color-fg-default"),children:(0,l.G7)("render_user_display_name")?(0,a.jsx)(s.v,{login:en,profileName:F}):en}):(0,a.jsx)("span",{"data-testid":h.Y.avatarName,"data-hovercard-url":W,className:(0,p.$)(y.A.AuthorName,X?"color-fg-muted":"color-fg-default"),children:(0,l.G7)("render_user_display_name")?(0,a.jsx)(s.v,{login:en,profileName:F}):en}),(J||Z)&&(0,a.jsx)(u.A,{variant:"secondary",className:"ml-1",children:f.k.authorLabel(J,ee)})]}),(0,a.jsx)("div",{className:(0,p.$)(y.A.footer,y.A.FooterContainer),children:ea})]}),(0,a.jsxs)("div",{"data-testid":h.Y.commentHeaderRightSideItems,className:(0,p.$)(y.A.narrowViewportWrapper,y.A.ActionsContainer),children:[w&&(0,a.jsx)("div",{className:y.A.EditsContainer,children:w}),(0,a.jsxs)("div",{className:y.A.BadgesContainer,children:[(0,a.jsxs)("div",{className:y.A.BadgesGroupContainer,children:[t.state?.toUpperCase()==="PENDING"&&(0,a.jsx)(x.C,{leadingElement:(0,a.jsx)(o.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",className:y.A.CommentHeaderBadge}),!X&&!_&&t.authorToRepoOwnerSponsorship&&t.authorToRepoOwnerSponsorship.isActive&&(0,a.jsx)(S,{createdAt:t.authorToRepoOwnerSponsorship.createdAt,owner:t.repository.owner.login,viewerDidAuthor:D}),!X&&!_&&t.showSpammyBadge&&(0,a.jsx)(v.b,{}),!t.repository.isPrivate&&!X&&!_&&(0,a.jsx)(k.m,{association:t.authorAssociation,viewerDidAuthor:D,org:t.repository.owner.login,repo:t.repository.name}),I===K&&(0,a.jsx)(C,{viewerDidAuthor:D,subjectType:R})]}),(0,a.jsx)("div",{className:y.A.ActionsButtonsContainer,children:e})]})]})]})})}function N({avatarUrl:e,login:t,isHidden:n,isCopilot:l,hovercardUrl:r,profileUrl:s}){let o=(0,a.jsx)(i.r,{src:e,alt:l?"Copilot":`@${t}`,size:24,square:l,className:n?b.A.hiddenActivityAvatar:b.A.activityAvatar});return s?(0,a.jsx)(d.A,{href:s,className:b.A.avatarLink,"data-hovercard-url":r,"aria-label":l?"Copilot":`@${t}'s profile`,children:o}):(0,a.jsx)("div",{className:b.A.avatarWithoutLink,"data-hovercard-url":r,children:o})}try{I.displayName||(I.displayName="ActivityHeader")}catch{}try{N.displayName||(N.displayName="DefaultAvatar")}catch{}},28014:(e,t,n)=>{n.d(t,{B:()=>c,r:()=>d});var a=n(74848),l=n(73189),i=n(96540);let r=(0,i.createContext)({comments:[],addComments:l.l,findInlineComment:()=>void 0,findInlineCommentWithRelay:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,updateInlineCommentMapWithNewComment:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function s(e){return e.reduce((e,t)=>(e.set(`${t.path}::${t.position}`,t),e),new Map)}function o(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let a=new Map;for(let t in e[n])e[n].hasOwnProperty(t)&&a.set(Number(t),e[n][Number(t)]);t.set(n,a)}return t}function d({children:e,initialFiles:t,initialExpandedThreadId:n,initialInlineComments:l}){let[d,c]=(0,i.useState)(()=>l?Object.values(l).flatMap(e=>Array.from(Object.values(e).flat())):[]),[u,m]=(0,i.useState)(t??[]),[p,g]=(0,i.useState)(()=>t?s(t):new Map),[f,h]=(0,i.useState)(()=>l?o(l):new Map),y=(0,i.useCallback)((e,t,n,a)=>{if(a){let a=f.get(e)?.get(t)??[];a=a.concat(n);let l=f.get(e)?.set(t,a);h(f.set(e,l??new Map)??f)}else{let a=f.get(e)?.set(t,n);h(f.set(e,a??new Map)??f)}},[f]);(0,i.useEffect)(()=>{m(t??[]),g(t?s(t):new Map),h(l?o(l):new Map),c(l?Object.values(l).flatMap(e=>Array.from(Object.values(e).flat())):[])},[t,l]);let b=(0,i.useCallback)((e,t,n)=>{let a=e.map(e=>e.id),l=d.filter(e=>!a.includes(e.id)),i=u.filter(e=>e.path!==t||e.position!==parseInt(n)),r={path:t,position:parseInt(n),count:e.length,threads:[{id:`${t}::${n}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...l,...e]),m([...i,r]),g(s([...i,r])),y(t,parseInt(n),e,!1)},[u,d,y]),k=(0,i.useCallback)(e=>{if(e)return d.find(t=>t.id===e)},[d]),x=(0,i.useCallback)(e=>d.find(t=>t.relayId===e),[d]),C=(0,i.useCallback)(e=>{let t=0;for(let n of u)n.path===e&&(t+=n.count);return t},[u]),v=(0,i.useCallback)((e,t)=>p.get(`${e}::${t}`),[p]),S=(0,i.useCallback)((e,t)=>f.get(e)?.get(t),[f]),j=(0,i.useMemo)(()=>({comments:d,addComments:b,findInlineComment:k,findInlineCommentWithRelay:x,getCommentCountByPath:C,getThreadDataByPathAndPosition:v,getInlineCommentInfoByPathAndPosition:S,updateInlineCommentMapWithNewComment:y,initialExpandedThreadId:n}),[b,d,k,x,C,v,S,y,n]);return(0,a.jsx)(r.Provider,{value:j,children:e})}function c(){let e=(0,i.useContext)(r);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{r.displayName||(r.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},29554:(e,t,n)=>{n.d(t,{A:()=>a});let a={activityHeader:"ActivityHeader-module__activityHeader--WiwzD",footer:"ActivityHeader-module__footer--ssKOW",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--k4ncm",edits:"ActivityHeader-module__edits--WkfqY",HeaderMutedText:"ActivityHeader-module__HeaderMutedText--aJAo0",HeaderLink:"ActivityHeader-module__HeaderLink--fStdK",HeaderMutedTextNoEllipsis:"ActivityHeader-module__HeaderMutedTextNoEllipsis--zWavP",ActivityHeaderContainer:"ActivityHeader-module__ActivityHeaderContainer--fKwFm",ActivityHeaderGridLayout:"ActivityHeader-module__ActivityHeaderGridLayout--Jwd78",AvatarContainer:"ActivityHeader-module__AvatarContainer--p2vAR",CommentHeaderContentContainer:"ActivityHeader-module__CommentHeaderContentContainer--OOrIN",TitleContainer:"ActivityHeader-module__TitleContainer--pa99A",AuthorName:"ActivityHeader-module__AuthorName--Im5nP",AuthorLink:"ActivityHeader-module__AuthorLink--D7Ojk",FooterContainer:"ActivityHeader-module__FooterContainer--FHEpM",ActionsContainer:"ActivityHeader-module__ActionsContainer--Ebsux",EditsContainer:"ActivityHeader-module__EditsContainer--aMWsI",BadgesContainer:"ActivityHeader-module__BadgesContainer--lAU4a",BadgesGroupContainer:"ActivityHeader-module__BadgesGroupContainer--thmDS",CommentHeaderBadge:"ActivityHeader-module__CommentHeaderBadge--ZOgwo",ActionsButtonsContainer:"ActivityHeader-module__ActionsButtonsContainer--L7GUK"}},30107:(e,t,n)=>{n.d(t,{PH:()=>eq,le:()=>eG,ym:()=>ez,nf:()=>eW});var a=n(74848);let l=function(){var e={count:null,cursor:null,direction:"forward",path:["projectItemsNext"]},t={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},n={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:"projectItemsNext",args:[{kind:"Literal",name:"allowSameEnterprise",value:!0},{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[a,{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},i],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[e,e]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[t,n,a,r,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[t,n,a,r,l],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"}}();l.hash="aa1087bc958c9976db83d919e693e720";var i=n(73580),r=n(99892),s=n(75202),o=n(43258),d=n(38621),c=n(5524),u=n(21373),m=n(96540),p=n(18312),g=n(69487);let f={couldNotUpdateProjects:"Could not update projects",projectsUnavailable:"Projects are currently unavailable",tryAgainLater:"Please try again later"};var h=n(93513);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:t,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[n],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:t,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[n,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}}}();y.hash="b546b455603fb197fd8347b4cec2351a";var b=n(2495),k=n(16810),x=n(21798);let C=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null}}();C.hash="d514f44f54887c87d0f242aa077953b2";let v={ProjectItemSectionContainer:"ProjectItemSection-module__ProjectItemSectionContainer--BQnwM"},S=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],o={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},g=[l,r,u,m,p],f={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:g,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:g,storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},k=[l],x={kind:"InlineFragment",selections:k,type:"Node",abstractKey:"__isNode"},C={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l,d],type:"ProjectV2Field",abstractKey:null},x],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[n,a,l],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[n,a,l,r,{alias:null,args:s,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l,o,d,c],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[l,o,d,c,f],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[l,o,d,c,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[l,h,d,y,b,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},x],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:s,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l,C,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[l,C,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[l,C,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:k,type:"ProjectV2SingleSelectField",abstractKey:null},x],storageKey:null},h,d,y,b],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l,d,f],type:"ProjectV2IterationField",abstractKey:null},x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},r,u,m,p],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:s,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"241d243a15a751aa4668f46296a39636",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}}}();S.hash="b0347ba7355910f2a5163bb08004baef";var j=n(57352);let I=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:t,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[n],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:t,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}}}();I.hash="774df17c4810f952c016355065fbcd6c";let N={restoreLink:"ProjectItemSectionFieldList-module__restoreLink--npi95"},F=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[e,t,n,a,{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[e,t,n,a,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[e,t,n,a,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null}}();F.hash="9e108cec835ef8bbd41e623d8601e11b";let _=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[e],n=[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"ProjectV2Field",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:n,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:n,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null}}();_.hash="6064e6f5025ede2958816599a371f827";var L=n(34164);let T={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};T.hash="77aee2b1b5d211b322b848ac87e2ca19";let w={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};w.hash="137f1e064b5aa98d4b4aa184ee4db814";var A=n(83463);let E=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},l=[n],i={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:l,storageKey:null},r=[{kind:"Literal",name:"name",value:"Status"}],s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={kind:"InlineFragment",selections:[s],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={kind:"InlineFragment",selections:l,type:"Node",abstractKey:"__isNode"},m={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,s],type:"ProjectV2Field",abstractKey:null},u],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},y=[n,p,g,f,h];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:t,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[n,a,i,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[o],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:t,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[n,a,i,{alias:null,args:d,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,m,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[n,m,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[n,m,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:l,type:"ProjectV2SingleSelectField",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,s,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:y,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:y,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},p,g,f,h],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:d,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[c,o,u],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function D({environment:e,input:t,onError:n,onCompleted:a}){return(0,p.commitMutation)(e,{mutation:E,variables:{input:t},optimisticUpdater:e=>(function(e,t){let n=`${p.ConnectionHandler.getConnectionID(t.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,a=e.get(n);a&&a.getLinkedRecords("edges")?.map((e,n)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===t.fieldId){let e=a.getLinkedRecords("edges")||[];e.splice(n,1),a.setLinkedRecords(e,"edges")}})})(e,t),onError:e=>n&&n(e),onCompleted:e=>a&&a(e)})}E.hash="1cc97421540c4997953175725e1f92c9";let P=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n=[{kind:"Literal",name:"name",value:"Status"}],a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={kind:"InlineFragment",selections:[a],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},i=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[s],d={kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"},c={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,a],type:"ProjectV2Field",abstractKey:null},d],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},f=[s,u,m,p,g];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:t,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[l],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:t,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:o,type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,a,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:f,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:f,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},u,m,p,g],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:i,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[r,l,d],storageKey:'fieldValueByName(name:"Status")'},s],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function K({environment:e,input:t,onError:n,onCompleted:a}){return(0,p.commitMutation)(e,{mutation:P,variables:{input:t},optimisticUpdater:e=>(function(e,t){let n=`${p.ConnectionHandler.getConnectionID(t.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,a=e.get(n);if(!a)return;let l=(a.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let n=e.getLinkedRecord("field");return!!n&&n.getDataID()===t.fieldId});if(l)switch(l.getType()){case"ProjectV2ItemFieldTextValue":l.setValue(t.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":l.setValue(t.value.number,"number");break;case"ProjectV2ItemFieldDateValue":l.setValue(t.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!t.value.singleSelectOptionId)return;let n=e.get(t.value.singleSelectOptionId);if(!n)return;for(let e of(l.setValue(t.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))l.setValue(n.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!t.value.iterationId)return;let n=e.get(t.value.iterationId);if(!n)return;for(let e of(l.setValue(t.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))l.setValue(n.getValue(e),e)}}})(e,t),onError:e=>n&&n(e),onCompleted:e=>a&&a(e)})}P.hash="de3a39d4584b64ead2a58f140d26d900";var R=n(8816),M=n(73189),V=n(26108),B=n(87448);let O={FieldListLi:"ProjectsSections-module__FieldListLi--wheLp",FieldListUl:"ProjectsSections-module__FieldListUl--nweud",FieldListLiText:"ProjectsSections-module__FieldListLiText--zEDBh",FieldListInternal:"ProjectsSections-module__FieldListInternal--NLirt",ListFieldWrapper:"ProjectsSections-module__ListFieldWrapper--XmHs2",ListFieldWrapperText:"ProjectsSections-module__ListFieldWrapperText--cXqRk",FieldBasisAuto:"ProjectsSections-module__FieldBasisAuto--kiwmO",FieldWrapperInputContainer:"ProjectsSections-module__FieldWrapperInputContainer--Vem8C",FieldWrapperLabel:"ProjectsSections-module__FieldWrapperLabel--EzGZt"},U={metadataFieldButton:"FieldWrapper-module__metadataFieldButton--qr7tn",fieldContentContainer:"FieldWrapper-module__fieldContentContainer--UA6kk",fieldValueText:"FieldWrapper-module__fieldValueText--CgERg",fieldPlaceholderText:"FieldWrapper-module__fieldPlaceholderText--qU9l7"};function $({children:e,onClick:t,anchorProps:n,disabled:l,isStatusField:i=!1,placeholder:r}){return(0,a.jsx)(B.az,{as:l?void 0:"button","aria-label":l?"Field is not editable":r,onClick:l?M.l:t,sx:{py:i?1:"var(--control-medium-paddingBlock)",minHeight:i?"var(--control-small-size)":"var(--control-xsmall-size)",...l?{paddingLeft:"6px",paddingRight:"6px"}:{"&:hover":{backgroundColor:"actionListItem.default.hoverBg"}}},className:U.metadataFieldButton,...n,children:(0,a.jsx)("div",{className:U.fieldContentContainer,children:e})})}let H=(0,m.forwardRef)(function({name:e,placeholder:t,value:n,input:l,inputRef:i,anchorProps:r,showInput:s,setShowInput:o,canUpdate:c=!0,isStatusField:u=!1,onCommit:p=M.l},g){let f=(0,m.useRef)(null),h=(0,m.useId)(),y=(0,m.useCallback)(e=>{!r&&c?o(!0):r?.onClick&&r.onClick(e)},[r,c,o]);(0,m.useEffect)(()=>{!0===s&&i&&i.current&&i.current.focus()},[i,s]);let b=(0,L.$)(O.ListFieldWrapperText,u&&O.FieldBasisAuto);return(0,a.jsx)("span",{ref:g||f,className:O.ListFieldWrapper,children:s?(0,a.jsxs)("label",{className:O.FieldWrapperLabel,children:[(0,a.jsx)("p",{className:b,children:e}),(0,a.jsxs)("span",{className:O.FieldWrapperInputContainer,children:[l,(0,a.jsx)(V.K,{"aria-label":"Update","data-testid":"commit",size:"small",icon:d.CheckIcon,onClick:()=>{p(),o(!1)},disabled:!c})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{id:h,className:b,children:e}),(0,a.jsx)($,{isStatusField:u,anchorProps:{...r,"aria-describedby":h},onClick:y,placeholder:"string"==typeof t?t:void 0,disabled:!c,children:n?(0,a.jsx)("span",{className:U.fieldValueText,children:n}):(0,a.jsx)("span",{className:U.fieldPlaceholderText,children:t})})]})})});try{$.displayName||($.displayName="MetadataButton")}catch{}try{H.displayName||(H.displayName="FieldWrapper")}catch{}function z({viewerCanUpdate:e,itemId:t,projectId:n,field:l,value:i,onIssueUpdate:r}){let s=(0,p.useRelayEnvironment)(),o=(0,p.useFragment)(w,l),d=(0,p.useFragment)(T,i),c=o.id,u=o.name,g=d?new Date(d.date):null,f=g?(0,R.b)(g):"No date",[y,b]=(0,m.useState)(g),[k,x]=(0,m.useState)(!1),C=(0,m.useCallback)(e=>{b(e),e?K({environment:s,input:{fieldId:c,itemId:t,projectId:n,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:r}):D({environment:s,input:{fieldId:c,itemId:t,projectId:n},onCompleted:r})},[s,c,t,r,n]),v=(0,m.useCallback)(e=>(0,a.jsx)(H,{showInput:k,setShowInput:x,anchorProps:e,placeholder:h.k.emptySections.datePlaceholder,value:f||h.k.emptySections.noValue(u),name:u}),[f,u,k]);return e?(0,a.jsx)(A.DatePicker,{variant:"single",showClearButton:!0,value:y,onChange:C,anchor:v}):(0,a.jsx)(H,{showInput:k,setShowInput:x,placeholder:h.k.emptySections.noValue(u),canUpdate:!1,name:u,value:f})}try{z.displayName||(z.displayName="DateField")}catch{}let q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};q.hash="57212d5c33092763cd6c9ea8afef0615";let W=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:t,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null}}();W.hash="1820eb43fb63bb62abf4c8f24979732c";let G={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};G.hash="28591c2749a30e9b111acd7e77a057f9";var Q=n(86391),X=n(73017),Y=n(84929);let J={IterationItemContainer:"IterationItem-module__IterationItemContainer--DDoTl",iterationTitleContainer:"IterationItem-module__iterationTitleContainer--Dlq2Q",iterationDateRange:"IterationItem-module__iterationDateRange--V5IVr",currentIndicator:"IterationItem-module__currentIndicator--vXDTT"};function Z({startDate:e,durationInDays:t,titleHTML:n}){var l,i;let r=new Date,s=(0,Y.H)(e),o=(l=s,i=t,new Date(l.getTime()+(i-1)*864e5)),d=s<=r&&r<=o,c=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,a.jsxs)("div",{className:J.IterationItemContainer,children:[(0,a.jsx)("div",{className:J.iterationTitleContainer,children:(0,a.jsx)(X.JR,{html:n})}),(0,a.jsx)(a.Fragment,{children:"\u2022 "}),(0,a.jsxs)("span",{className:J.iterationDateRange,children:[`${c(s)} - ${c(o)}`," ",d&&(0,a.jsx)(a.Fragment,{children:"\u2022 "})]}),d&&(0,a.jsx)("span",{className:J.currentIndicator,children:"Current"})]})}try{Z.displayName||(Z.displayName="IterationItem")}catch{}let ee={groupId:"completed",header:{title:"Completed",variant:"filled"}},et={groupId:"active",header:{title:"Active",variant:"filled"}};function en({viewerCanUpdate:e,itemId:t,projectId:n,field:l,value:i,onIssueUpdate:r}){let[s,o]=(0,m.useState)(!1),d=(0,p.useRelayEnvironment)(),c=(0,p.useFragment)(W,l),u=(0,p.useFragment)(q,i),g=c.id,f=c.name,[y,b]=(0,m.useState)(""),k=(0,m.useCallback)(e=>{1===e.length?K({environment:d,input:{fieldId:g,itemId:t,projectId:n,value:{iterationId:e[0].id}},onCompleted:r}):0===e.length&&D({environment:d,input:{fieldId:g,itemId:t,projectId:n},onCompleted:r}),o(!1)},[d,g,t,n,r]),x=(0,m.useCallback)(e=>{b(e)},[]),C=(0,m.useMemo)(()=>{let e=(c.configuration?.iterations||[]).concat(c.configuration?.completedIterations||[]).map(e=>(0,p.readInlineData)(G,e));return y?e.filter(e=>e.title.toLowerCase().indexOf(y.toLowerCase())>=0):e},[c.configuration?.completedIterations,c.configuration?.iterations,y]),v=(0,m.useMemo)(()=>new Set((c.configuration?.completedIterations||[]).map(e=>(0,p.readInlineData)(G,e).id)),[c.configuration?.completedIterations]),S=(0,m.useMemo)(()=>{let e=c.configuration?.iterations||[],t=c.configuration?.completedIterations||[];return e.concat(t).map(e=>(0,p.readInlineData)(G,e)).filter(e=>e.id===u?.iterationId)},[c.configuration?.completedIterations,c.configuration?.iterations,u?.iterationId]),j=(0,m.useCallback)(e=>({id:e.id,children:(0,a.jsx)(Z,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:v.has(e.id)?ee.groupId:et.groupId}),[v]),I=(0,m.useCallback)(e=>(0,a.jsx)(H,{showInput:s,setShowInput:o,anchorProps:e,placeholder:h.k.emptySections.iterationPlaceholder,value:u?(0,a.jsx)(Z,{startDate:u.startDate,durationInDays:u.duration,titleHTML:u.titleHTML}):null,name:f}),[f,s,u]),N=(0,m.useMemo)(()=>v.size>0?[et,ee]:[et],[v.size]);return e?(0,a.jsx)(Q.O,{items:C,groups:N,initialSelectedItems:S,filterItems:x,getItemKey:e=>e.id,convertToItemProps:j,placeholderText:h.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:k,renderAnchor:I,height:"large"}):(0,a.jsx)(H,{showInput:s,setShowInput:o,value:u?(0,a.jsx)(Z,{startDate:u.startDate,durationInDays:u.duration,titleHTML:u.titleHTML}):null,placeholder:h.k.emptySections.noValue(f),canUpdate:!1,name:f})}try{en.displayName||(en.displayName="IterationField")}catch{}let ea={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};ea.hash="ac86c256f18719392417c8d6f6be4c01";let el={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};el.hash="aa7c72083a9ec843850d1089ba1ddda3";var ei=n(66718),er=n(99511),es=n(29295);let eo={errorMessagePointer:"NumberField-module__errorMessagePointer--OzQjU",numberInput:"NumberField-module__numberInput--niEAY"};function ed({viewerCanUpdate:e,itemId:t,projectId:n,field:l,value:i,onIssueUpdate:r}){let[s,o]=(0,m.useState)(!1),d=(0,m.useRef)(null),c=(0,p.useRelayEnvironment)(),u=(0,p.useFragment)(el,l),g=(0,p.useFragment)(ea,i),f=u.id,y=u.name,b=g?.number?.toString()??"",[k,x]=(0,m.useState)(b),[C,v]=(0,m.useState)(void 0),S=(0,m.useCallback)(()=>{C?(x(b),v(void 0)):K({environment:c,input:{fieldId:f,itemId:t,projectId:n,value:{number:""===k?null:(0,ei.$J)(k)}},onCompleted:r})},[k,c,f,C,t,r,b,n]),j=(0,m.useCallback)(e=>{v((0,ei.Ge)(e.target.value)),x(e.currentTarget.value)},[]),I=(0,m.useCallback)(e=>{"Enter"===e.key&&(S(),o(!1)),"Escape"===e.key&&(e.stopPropagation(),d.current&&(x(b),d.current.blur(),o(!1)))},[S,b]);return e?(0,a.jsx)(H,{showInput:s,setShowInput:o,value:k,name:y,placeholder:h.k.emptySections.numberPlaceholder,inputRef:d,onCommit:S,input:(0,a.jsxs)("div",{children:[(0,a.jsx)(er.A,{"data-testid":"number-field-input",ref:d,size:"small",type:"number",onChange:j,onKeyDown:I,value:k,className:eo.numberInput}),(0,a.jsx)(es.A,{caret:"top-left",open:!!C,children:(0,a.jsx)(es.A.Content,{className:eo.errorMessagePointer,children:(0,a.jsx)("span",{children:C})})})]})}):(0,a.jsx)(H,{showInput:s,setShowInput:o,placeholder:h.k.emptySections.noValue(y),canUpdate:!1,value:k,name:y})}try{ed.displayName||(ed.displayName="NumberField")}catch{}let ec={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};ec.hash="46251798d3a30836a6711ecaa3cc54e8";let eu={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};eu.hash="be640a30fa15271b4fa34e75d3ddb9b1";let em=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[e,t,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},e,t,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null}}();em.hash="7609e6b1ac2a8d003401b9f85fcd3e61";let ep={overflow:"hidden",cursor:"inherit","> span":{overflow:"hidden",textOverflow:"ellipsis"}},eg={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}},ef={optionContent:"SingleSelectField-module__optionContent--xJjmm",VerifiedHTMLText:"SingleSelectField-module__VerifiedHTMLText--zOUZc",statusPlaceholder:"SingleSelectField-module__statusPlaceholder--VhnZp",selectedValueContainer:"SingleSelectField-module__selectedValueContainer--kmRuq"};var eh=n(14307);let ey={Token:"SingleSelectToken-module__Token--FOSN8",colorIndicator:"SingleSelectToken-module__colorIndicator--mFcTC"},eb=({inputName:e,inputColor:t})=>{let n=(0,eh.Wk)(t);return(0,a.jsx)(B.ou,{sx:{bg:n.bg,color:n.fg,borderColor:n.border,":hover":{bg:n.bg,color:n.fg,borderColor:n.border},...eg},size:"medium",text:e,className:ey.Token})},ek=({inputColor:e})=>{let{bg:t,accent:n}=(0,eh.Wk)(e);return(0,a.jsx)(B.az,{sx:{bg:t,borderColor:n},className:ey.colorIndicator})};try{eb.displayName||(eb.displayName="SingleSelectToken")}catch{}try{ek.displayName||(ek.displayName="SingleSelectLeadingVisual")}catch{}function ex({viewerCanUpdate:e,itemId:t,projectId:n,field:l,value:i,onIssueUpdate:r,isStatusField:s}){let[o,c]=(0,m.useState)(!1),u=(0,p.useRelayEnvironment)(),g=(0,p.useFragment)(em,l),f=(0,p.useFragment)(ec,i),y=g.id,b=g.name,[k,x]=(0,m.useState)(""),C=(0,m.useCallback)(e=>{1===e.length?K({environment:u,input:{fieldId:y,itemId:t,projectId:n,value:{singleSelectOptionId:e[0].optionId}},onCompleted:r}):0===e.length&&D({environment:u,input:{fieldId:y,itemId:t,projectId:n},onCompleted:r}),c(!1)},[u,y,t,r,n]),v=(0,m.useCallback)(e=>{x(e)},[]),S=(0,m.useMemo)(()=>{let e=(g.options||[]).map(e=>(0,p.readInlineData)(eu,e));return k?e.filter(e=>e.name.toLowerCase().indexOf(k.toLowerCase())>=0):e},[g.options,k]),j=(0,m.useMemo)(()=>(g.options||[]).map(e=>(0,p.readInlineData)(eu,e)).filter(e=>e.optionId===f?.optionId),[g.options,f?.optionId]),I=(0,m.useCallback)(e=>({id:e.optionId,children:(0,a.jsxs)("div",{className:ef.optionContent,children:[(0,a.jsx)(X.JR,{html:e.nameHTML}),(0,a.jsx)(X.JR,{html:e.descriptionHTML,className:ef.VerifiedHTMLText})]}),source:e,leadingVisual:()=>(0,a.jsx)(ek,{inputColor:e.color})}),[]),N=(0,m.useCallback)(e=>(0,a.jsx)(H,{showInput:o,setShowInput:c,name:b,isStatusField:s,placeholder:s?(0,a.jsxs)("div",{className:ef.statusPlaceholder,children:[h.k.emptySections.status,(0,a.jsx)(d.TriangleDownIcon,{})]}):(0,a.jsx)(a.Fragment,{children:h.k.emptySections.singleSelectFilterPlaceholder}),value:f?.name&&f?.color?(0,a.jsxs)("div",{className:ef.selectedValueContainer,children:[(0,a.jsx)(eb,{inputName:f.name,inputColor:f.color}),s&&(0,a.jsx)(d.TriangleDownIcon,{})]}):null,anchorProps:e}),[b,s,o,f?.color,f?.name]);if(!e)return(0,a.jsx)(H,{showInput:o,setShowInput:c,canUpdate:!1,name:b,placeholder:h.k.emptySections.noValue(b),value:f?.name?(0,a.jsx)(B.ou,{sx:(f.name,eg),size:"large",text:f.name}):null,isStatusField:s});return(0,a.jsx)(Q.O,{items:S,initialSelectedItems:j,filterItems:v,getItemKey:e=>e.optionId,convertToItemProps:I,placeholderText:h.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:C,renderAnchor:N,height:"large"})}try{ex.displayName||(ex.displayName="SingleSelectField")}catch{}let eC={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};eC.hash="69f479d8a39d90ca27cb126efa7b738b";let ev={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};ev.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var eS=n(71315),ej=n(94236),eI=n(8645);let eN={projectTextInput:"TextField-module__projectTextInput--XPyxL"};function eF({viewerCanUpdate:e,itemId:t,projectId:n,field:l,value:i,onIssueUpdate:r}){let s=(0,p.useRelayEnvironment)(),o=(0,m.useRef)(null),u=(0,p.useFragment)(ev,l),g=(0,p.useFragment)(eC,i),f=u.id,h=u.name,[y,b]=(0,m.useState)(!1),[k,x]=(0,m.useState)(g?.text??""),C=(0,m.useCallback)(()=>{K({environment:s,input:{fieldId:f,itemId:t,projectId:n,value:{text:k}},onCompleted:r})},[s,f,t,n,k,r]),v=(0,m.useCallback)(e=>{x(e.target.value)},[]),S=(0,m.useCallback)(e=>{"Enter"===e.key&&(C(),b(!1)),"Escape"===e.key&&(e.stopPropagation(),o.current&&(x(g?.text??""),o.current.blur(),b(!1)))},[C,g?.text]),[I,N]=(0,m.useState)(!1),F=(0,m.useRef)(null),_=(0,m.useCallback)(e=>()=>eS.cg?.open((0,eI.ml)(e),"_blank","noreferrer"),[]),L=(0,m.useCallback)(()=>b(!0),[b]),T=(0,m.useCallback)(()=>N(!0),[N]),w=(0,m.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),T())},[T]),A=(0,m.useCallback)(t=>e&&t.preventDefault(),[e]),E=(0,m.useMemo)(()=>k.split(/(\s+)/),[k]),[D,P,R]=(0,m.useMemo)(()=>{let e=[],t=!1;return[E.map((n,l)=>{let i=(0,eI.o2)(n),r=(0,eI.ml)(i);return(0,eI.Y9)(r)&&(0,eI.cE)(r)?(t=!0,e.push(n),(0,a.jsx)(j.A,{tabIndex:0,href:(0,eI.ml)(n),onKeyDown:w,onClick:A,target:"_blank",children:n},`text-field-link-${l}`)):n}),t,e]},[E,A,w]),M=P?{onClick:T}:void 0,V=(0,a.jsx)(ej.W,{open:I,onOpenChange:e=>N(e),anchorRef:F,children:(0,a.jsx)(ej.W.Overlay,{width:"small",children:(0,a.jsx)(c.l,{children:(0,a.jsxs)(c.l.Group,{children:[R?.map((e,t)=>(0,a.jsxs)(c.l.Item,{onSelect:_(e),role:"button",children:[(0,a.jsx)(c.l.LeadingVisual,{children:(0,a.jsx)(d.LinkIcon,{})}),e]},t)),e&&(0,a.jsxs)(c.l.Item,{onSelect:L,role:"button",children:[(0,a.jsx)(c.l.LeadingVisual,{children:(0,a.jsx)(d.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H,{ref:F,value:D,anchorProps:M,name:h,placeholder:"Enter text\u2026",inputRef:o,showInput:y,setShowInput:b,onCommit:C,input:(0,a.jsx)(er.A,{"data-testid":"text-field-input",ref:o,size:"small",onChange:v,onKeyDown:S,value:k,className:eN.projectTextInput})}),V]}):(0,a.jsx)(H,{showInput:y,setShowInput:b,placeholder:`No ${h}`,canUpdate:!1,value:D,name:h})}try{eF.displayName||(eF.displayName="TextField")}catch{}function e_({projectItem:e,onIssueUpdate:t}){let n=(0,p.useFragment)(F,e),{fieldValues:l}=(0,p.useFragment)(_,n),i=(0,m.useMemo)(()=>(n?.project.fields?.edges||[]).map(e=>{if(!e?.node||e.node.isIssueField||"Status"===e.node.name)return;let a=e.node,i=a.dataType,r=a.id,s=(l?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===r)||null,o={key:r,viewerCanUpdate:!n.isArchived&&n.project.viewerCanUpdate,itemId:n.id,projectId:n.project.id,field:a,value:s,onIssueUpdate:t};switch(i){case"SINGLE_SELECT":return(0,m.createElement)(ex,{...o,key:o.key});case"TEXT":return(0,m.createElement)(eF,{...o,key:o.key});case"DATE":return(0,m.createElement)(z,{...o,key:o.key});case"NUMBER":return(0,m.createElement)(ed,{...o,key:o.key});case"ITERATION":return(0,m.createElement)(en,{...o,key:o.key})}}).filter(e=>void 0!==e),[n.project.fields?.edges,n.project.viewerCanUpdate,n.project.id,n.isArchived,n.id,l?.edges,t]);return 0===i.length?(0,a.jsx)(a.Fragment,{children:" "}):(0,a.jsx)("ul",{className:(0,L.$)(O.FieldListUl,O.FieldListInternal),children:i.map((e,t)=>(0,a.jsx)("li",{className:O.FieldListLi,children:e},`project-field-${t}`))})}try{e_.displayName||(e_.displayName="ProjectItemSectionFields")}catch{}var eL=n(41057);function eT(){return(0,a.jsx)("ul",{className:O.FieldListUl,children:(0,a.jsxs)("li",{style:{margin:"0 2 2 3"},children:[(0,a.jsx)(ew,{}),(0,a.jsx)(ew,{}),(0,a.jsx)(ew,{})]})})}function ew(){return(0,a.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:5,width:"100%",marginTop:2},children:[(0,a.jsx)(eL.Q,{height:"md",width:"25%"}),(0,a.jsx)(eL.Q,{height:"md",width:"40%"})]})}try{eT.displayName||(eT.displayName="ProjectItemSectionFieldsLoading")}catch{}try{ew.displayName||(ew.displayName="ProjectFieldLoading")}catch{}function eA(e){return(0,a.jsx)(m.Suspense,{fallback:(0,a.jsx)(eT,{}),children:(0,a.jsx)(eE,{...e})})}function eE({isArchived:e,projectItemId:t,projectId:n,onIssueUpdate:l}){let i=(0,p.useRelayEnvironment)(),{addToast:r}=(0,o.Y6)(),{node:s}=(0,p.useLazyLoadQuery)(S,{id:t}),d=(0,m.useCallback)(()=>{!function({environment:e,input:t,onError:n,onCompleted:a}){(0,p.commitMutation)(e,{mutation:I,variables:{input:t},onError:e=>n&&n(e),onCompleted:e=>a&&a(e)})}({environment:i,input:{projectId:n,itemId:t},onCompleted:()=>{r({type:"success",message:h.k.archivedSuccess})},onError:()=>{r({type:"error",message:h.k.archivedError})}})},[i,n,t,r]);if(!s||!s.project)return null;let c=e&&s.project.viewerCanUpdate;return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)("ul",{className:O.FieldListUl,children:(0,a.jsx)("li",{className:O.FieldListLi,children:(0,a.jsxs)("span",{className:O.FieldListLiText,children:[h.k.archivedDescription,"\xa0",(0,a.jsx)(j.A,{onClick:d,className:N.restoreLink,children:"Restore"})]})})}),(0,a.jsx)(e_,{onIssueUpdate:l,projectItem:s})]})}try{eA.displayName||(eA.displayName="ProjectItemSectionFieldList")}catch{}try{eE.displayName||(eE.displayName="ProjectItemSectionFieldListInternal")}catch{}let eD=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Literal",name:"name",value:"Status"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null}}();eD.hash="7d5cd0d9d7271a8e8f19cce6e01dac52";var eP=n(51802),eK=n(69497),eR=n(10095);let eM={ProjectItemSectionViewContainer:"ProjectItemSectionView-module__ProjectItemSectionViewContainer--Pjx02",projectTitleText:"ProjectItemSectionView-module__projectTitleText--AeMlK",truncatedProjectTitle:"ProjectItemSectionView-module__truncatedProjectTitle--rFO6B",projectLinkContainer:"ProjectItemSectionView-module__projectLinkContainer--aLELu",projectLink:"ProjectItemSectionView-module__projectLink--su_OB",Truncate:"ProjectItemSectionView-module__Truncate--CxV2L",statusFieldContainer:"ProjectItemSectionView-module__statusFieldContainer--yap_1"};function eV({projectItem:e,setOpen:t,open:n,isProjectOpen:l}){let{id:i,project:r,fieldValueByName:s,isArchived:o}=(0,p.useFragment)(eD,e);return(0,a.jsxs)("div",{className:eM.ProjectItemSectionViewContainer,children:[l?(0,a.jsxs)("span",{className:eM.projectTitleText,children:[(0,a.jsx)(eR.A,{icon:r.template?d.ProjectTemplateIcon:d.TableIcon}),(0,a.jsx)("span",{className:eM.truncatedProjectTitle,children:r.title})]}):(0,a.jsx)("div",{className:eM.projectLinkContainer,children:(0,a.jsxs)(j.A,{href:r.url,hoverColor:"accent.fg",underline:!1,tabIndex:0,className:eM.projectLink,children:[(0,a.jsx)(eR.A,{icon:r.template?d.ProjectTemplateIcon:d.TableIcon}),(0,a.jsx)(eK.A,{title:r.title,"data-testid":eP.Y.projectTitle,className:eM.Truncate,children:r.title})]})}),(0,a.jsxs)("div",{className:eM.statusFieldContainer,children:[r.field&&void 0!==s&&(0,a.jsx)(ex,{viewerCanUpdate:r.viewerCanUpdate&&!o,itemId:i,projectId:r.id,field:r.field,value:s,isStatusField:!0}),(0,a.jsx)(V.K,{variant:"invisible",onClick:()=>{t(!n)},size:"small",icon:n?d.ChevronUpIcon:d.ChevronDownIcon,"aria-label":n?h.k.hideMoreProjectFields:h.k.showMoreProjectFields,"aria-expanded":n})]})]})}try{eV.displayName||(eV.displayName="ProjectItemSectionView")}catch{}function eB({projectItem:e,onIssueUpdate:t,isOpen:n=!1}){let[l,i]=(0,m.useState)(n),r=(0,p.useFragment)(C,e);return(0,a.jsxs)("div",{className:v.ProjectItemSectionContainer,children:[(0,a.jsx)(eV,{projectItem:r,open:l,setOpen:i,onIssueUpdate:t,isProjectOpen:n}),l&&(0,a.jsx)(eA,{projectItemId:r.id,projectId:r.project.id,isArchived:r.isArchived,onIssueUpdate:t})]})}try{eB.displayName||(eB.displayName="ProjectItemSection")}catch{}let eO={projectActionList:"ProjectsSection-module__projectActionList--VG9Tr",ActionList_LinkItem:"ProjectsSection-module__ActionList_LinkItem--fZc7M",projectItemsContainer:"ProjectsSection-module__projectItemsContainer--XwAWz",toggleClosedProjectsButton:"ProjectsSection-module__toggleClosedProjectsButton--E9nMY"},eU=()=>(0,a.jsx)(b.h,{title:h.k.sectionTitles.projects}),e$=(0,m.forwardRef)((e,t)=>(0,a.jsx)(x.X,{ref:t,id:e.id,title:h.k.sectionTitles.projects,buttonProps:e}));e$.displayName="ProjectsSectionHeader";let eH=({sectionHeader:e,hasItems:t,children:n})=>(0,a.jsx)(k.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:t?void 0:h.k.emptySections.projects,children:n}),ez=()=>(0,a.jsx)(k.w,{id:"projects-section-fallback",sectionHeader:(0,a.jsx)(b.h,{title:f.projectsUnavailable}),emptyText:f.tryAgainLater}),eq=({owner:e,repo:t,projects:n,readonly:l,onSelectionChange:r,...o})=>{let d="create-issue-sidebar-projects-section-heading",u=l?(0,a.jsx)(eU,{}):(0,a.jsx)(i.wX,{pickerId:"create-issue-projects-picker",owner:e,repo:t,selectedProjects:n,readonly:l,onSave:r,anchorElement:e=>(0,a.jsx)(e$,{...e,id:d}),...o});return(0,a.jsx)(s.t,{fallback:(0,a.jsx)(ez,{}),children:(0,a.jsx)(eH,{sectionHeader:u,hasItems:n.length>0,children:n.length>0&&(0,a.jsx)(c.l,{"aria-labelledby":d,variant:"full",className:eO.projectActionList,children:n.map(e=>(0,a.jsx)(c.l.LinkItem,{href:e.url,className:eO.ActionList_LinkItem,children:e.title},e.id))})})})},eW=l;function eG(e){let t=(0,p.useFragment)(eW,e.issueOrPullRequest);return t.projectItemsNext?(0,a.jsx)(eQ,{projectsSectionData:t,...e}):(0,a.jsx)(ez,{})}let eQ=({projectsSectionData:e,allowedProjectOwner:t,onIssueUpdate:n,insideSidePanel:l,selectedProjectId:s,readonly:c})=>{let{addToast:b}=(0,o.Y6)(),k=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),x=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[C,v]=(0,m.useState)(!1),{viewerCanUpdateMetadata:S,viewerCanUpdate:j,repository:I}=e,N=c||!(S||j)||I?.isArchived,F=e.id||"",_=k.length>0||x.length>0,L=g.ConnectionHandler.getConnectionID(F,"ProjectSection_projectItemsNext",{allowedOwner:t}),T=(0,p.useRelayEnvironment)(),w=(0,m.useCallback)(e=>{let t=e.filter(e=>!k.some(t=>t.project.id===e.id)),a=k.filter(t=>!e.some(e=>e.id===t.project.id)),l=!1;for(let e of t)(0,r.Z)({environment:T,connectionId:L,projectId:e.id,issueId:F,onError:()=>l=!0,onCompleted:n});for(let e of a)!function({environment:e,connectionId:t,projectId:n,itemId:a,onError:l,onCompleted:i}){(0,p.commitMutation)(e,{mutation:y,variables:{input:{itemId:a,projectId:n},connections:[t]},onError:e=>l&&l(e),onCompleted:e=>i&&i(e)})}({environment:T,connectionId:L,projectId:e.project.id,itemId:e.id,onError:()=>l=!0,onCompleted:n});l&&b({type:"error",message:f.couldNotUpdateProjects})},[b,L,T,F,n,k]),A=(0,m.useMemo)(()=>k.map(e=>e.project),[k]),E=x.length,D=(0,m.useMemo)(()=>!e.repository||N?(0,a.jsx)(eU,{}):(0,a.jsx)(i.wX,{pickerId:`edit-issue-projects-picker-${F}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:A,readonly:N,onSave:w,anchorElement:e=>(0,a.jsx)(e$,{...e}),insidePortal:l}),[F,e.repository,N,w,A,l]);return e.repository&&e.number?(0,a.jsx)(eH,{sectionHeader:D,hasItems:_,children:(0,a.jsxs)("div",{className:eO.projectItemsContainer,children:[k.map(e=>(0,a.jsx)(eB,{onIssueUpdate:n,projectItem:e,isOpen:s===e.project.id},e.id)),E>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Q,{variant:"invisible",trailingVisual:C?d.ChevronUpIcon:d.ChevronDownIcon,onClick:()=>v(!C),"aria-label":h.k.showClosedProjects,className:eO.toggleClosedProjectsButton,children:`${E} closed project${E>1?"s":""}`}),C&&x.map(e=>(0,a.jsx)(eB,{onIssueUpdate:n,projectItem:e,isOpen:s===e.project.id},e.id))]})]})}):null};try{eU.displayName||(eU.displayName="ReadonlyProjectsSectionHeader")}catch{}try{eH.displayName||(eH.displayName="ProjectsSection")}catch{}try{ez.displayName||(ez.displayName="ProjectsSectionFallback")}catch{}try{eq.displayName||(eq.displayName="CreateIssueProjectsSection")}catch{}try{eG.displayName||(eG.displayName="EditIssueProjectsSection")}catch{}try{eQ.displayName||(eQ.displayName="EditIssueProjectsSectionInternal")}catch{}},30459:(e,t,n)=>{n.d(t,{S:()=>o,s:()=>s});var a=n(21728),l=n(96540),i=n(53419),r=n(49936);function s(){let e,t,n=(0,a.c)(6),s=(0,l.useContext)(r.I);if(!s)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:o,category:d,metadata:c}=s;n[0]!==o||n[1]!==d||n[2]!==c?(e=(e,t,n)=>{let a={react:!0,app_name:o,category:d,...c};(0,i.BI)(e,{...a,...void 0===n?{}:n,target:t})},n[0]=o,n[1]=d,n[2]=c,n[3]=e):e=n[3];let u=e;return n[4]!==u?(t={sendAnalyticsEvent:u},n[4]=u,n[5]=t):t=n[5],t}function o(){let e,t,n=(0,a.c)(4),{sendAnalyticsEvent:l}=s();n[0]!==l?(e=e=>{l("analytics.click",void 0,void 0===e?{}:e)},n[0]=l,n[1]=e):e=n[1];let i=e;return n[2]!==i?(t={sendClickAnalyticsEvent:i},n[2]=i,n[3]=t):t=n[3],t}},30617:(e,t,n)=>{n.d(t,{X:()=>o});var a=n(78314),l=n(25407),i=n(76648),r=n(96379),s=n(96540);function o(){let e=(0,a.t)(),{commit:t}=(0,i.B)(),n=`/${(0,l.QU3)(e.ownerLogin)}/${(0,l.QU3)(e.name)}/commit_comment`,o=`${n}/create`,d=(0,s.useCallback)(async(e,n,a)=>{let l=new FormData;l.append("commit_id",t.oid),l.append("comment[body]",e),n&&a&&(l.append("path",n),l.append("position",a.toString()));let i=await (0,r.DI)(o,{method:"POST",body:l});return i.ok?{error:null,comment:(await i.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[t.oid,o]),c=(0,s.useCallback)(async(e,t)=>{let a=new FormData;a.append("_method","put"),a.append("commit_comment[id]",t.id.toString()),a.append("commit_comment[body]",e),a.append("commit_comment[bodyVersion]",t.bodyVersion);let l=await (0,r.DI)(n,{method:"POST",body:a});if(!l.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await l.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[n]),u=(0,s.useCallback)(async e=>{let t=new FormData;return(t.append("_method","delete"),t.append("commit_comment[id]",e),(await (0,r.DI)(n,{method:"POST",body:t})).ok)?"success":"error"},[n]),m=(0,s.useCallback)(async(e,t)=>{let a=new FormData;return(a.append("_method","put"),a.append("classifier",t),(await (0,r.DI)(`${n}/${e}/minimize`,{method:"POST",body:a,headers:{Accept:"application/json"}})).ok)?"success":"error"},[n]),p=(0,s.useCallback)(async e=>{let t=new FormData;return(t.append("_method","put"),(await (0,r.DI)(`${n}/${e}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)?"success":"error"},[n]),g=(0,s.useMemo)(()=>({repository:{databaseId:e.id,nwo:`${e.ownerLogin}/${e.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:t.oid}}),[e.id,e.name,e.ownerLogin,t.oid]);return(0,s.useMemo)(()=>({addComment:d,commentBoxSubject:g,editComment:c,deleteComment:u,hideComment:m,unhideComment:p}),[d,u,c,m,p,g])}},31993:(e,t,n)=>{n.d(t,{j:()=>a});function a(e){return e}},32050:(e,t,n)=>{n.d(t,{CH:()=>el,tJ:()=>ed,P5:()=>en});var a=n(74848);let l=function(){var e={defaultValue:100,kind:"LocalArgument",name:"count"},t={defaultValue:"",kind:"LocalArgument",name:"labelNames"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},l={defaultValue:!1,kind:"LocalArgument",name:"shouldQueryByNames"},i=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],r={kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}},s=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"names",variableName:"labelNames"},r],o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[o,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],c={alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null};return{fragment:{argumentDefinitions:[e,t,n,a,l],kind:"Fragment",metadata:null,name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:s,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:d,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,l,t,e],kind:"Operation",name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[o,{alias:null,args:[{kind:"Literal",name:"first",value:100},r],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:s,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[c],storageKey:null}]}],storageKey:null}]},params:{id:"032cc1a404c4f68efb677301b816ee01",metadata:{},name:"LabelPickerQuery",operationKind:"query",text:null}}}();l.hash="63736b0c6bccf3471afe03b6d8b6a3b2";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"query"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},l=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"query",variableName:"query"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[r,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,n,a],kind:"Fragment",metadata:null,name:"LabelPickerSearchQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:s,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,a,n,e],kind:"Operation",name:"LabelPickerSearchQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:"333d28f33fdb9cce58fd191174d5e4f5",metadata:{},name:"LabelPickerSearchQuery",operationKind:"query",text:null}}}();i.hash="1d380fd2b03ec1012648965c94699afe";let r=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,a,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:l,filters:["orderBy"],handle:"connection",key:"LabelPickerLabel_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"0633bc3316e383c68b8cf79758253709",metadata:{},name:"LabelPickerAssignedLabelsQuery",operationKind:"query",text:null}}}();r.hash="913da4adbea561cc55a5e5355cc02714",function(){var e=["labels"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:r,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__LabelPickerLabel_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__LabelPickerLabel_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}().hash="913da4adbea561cc55a5e5355cc02714";let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},l=[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerClientQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:l,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerClientQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:l,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"39780e01dde8a3c435960c74c76b0ba6",metadata:{},name:"LabelPickerClientQuery",operationKind:"query",text:null}}}();s.hash="7765624716d622d8f677df004c2a670c";let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerPreloadedLabelsQuery",selections:n,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerPreloadedLabelsQuery",selections:n},params:{id:"834992656808ef6fba2920df5479f602",metadata:{},name:"LabelPickerPreloadedLabelsQuery",operationKind:"query",text:null}}}();o.hash="edb65b2751abeabdf19ed5a4dab31b52";let d=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerLabelsListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerLabelsListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"dd253efb71afb3e7681cf8d9409ec239",metadata:{},name:"LabelPickerLabelsListPaginationQuery",operationKind:"query",text:null}}}();d.hash="6e58281c1b256885408a0b411feffa8e";let c=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:d,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerLabelsPaginated",selections:[e,{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}}();c.hash="6e58281c1b256885408a0b411feffa8e";let u={kind:"InlineDataFragment",name:"LabelPickerLabel"};u.hash="588236f5485d473e68f4a74b65c0b653";var m=n(69599),p=n(19918),g=n(49275),f=n(38143),h=n(81289),y=n(81709),b=n(84363),k=n(67126);let x={labelPageSuffix:"/issues/labels"};var C=n(86391),v=n(73017),S=n(71315),j=n(43258),I=n(46747),N=n(38621),F=n(5839),_=n(96540);let L={labelNameText:"LabelPickerBase-module__labelNameText--wVmPP",labelColorBox:"LabelPickerBase-module__labelColorBox--PSuNK",labelPickerContainer:"LabelPickerBase-module__labelPickerContainer--cqqGL",labelPickerItem:"LabelPickerBase-module__labelPickerItem--gTZua"},T=[],w={groupId:"labels"},A={groupId:"favorite",header:{title:"Favorite",variant:"filled"}},E={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},D={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function P({labels:e,suggestions:t=T,totalNumberOfLabels:n,copilotSuggestedLabels:l,favoriteLabelIds:i,searchLabels:r,onSelectionChange:s,insidePortal:o,anchorElement:d,nested:c=!1,triggerOpen:u=!0,initialFilter:h,owner:y,repo:P,showEditLabelsButton:R=!0,noLabelOption:M,title:V,showNoMatchItem:B=!1,canCreateLabel:O,repositoryId:U,isLoading:$=!1,setIsLoading:H,onCreate:z}){let q=(0,m.G7)("issues_react_remove_labels_loading"),W=(0,m.G7)("issues_react_select_panel_fullscreen_on_narrow"),[G,Q]=(0,_.useState)(""),X=(0,_.useRef)(new Set),[Y,J]=(0,_.useState)(!1),[Z,ee]=(0,_.useState)(t),{addToast:et}=(0,j.Y6)(),en=`${y}/${P}`;(0,_.useEffect)(()=>{ee(t)},[t]);let ea=r&&n>t.length,el=(0,_.useMemo)(()=>e.slice().sort((e,t)=>e.name.localeCompare(t.name)),[e]),ei=(0,_.useMemo)(()=>{if(!G){let n=q?Z:t,a=[...el],i=(l??[]).filter(t=>!e.find(e=>e.id===t.id)),r=n.filter(t=>!e.find(e=>e.id===t.id)&&!i.find(e=>e.id===t.id));return a.push(...i,...r),a.slice(0,f.t.labelsInitialLoadCount)}let n=new Map;for(let e of Z)n.set(e.id,e);for(let e of l??[])n.has(e.id)||n.set(e.id,e);let a=Array.from(n.values());return(0,b.t)({items:a,filter:G,key:e=>e.name,secondaryKey:e=>`${e.name} ${e.description}`}).slice(0,f.t.labelsInitialLoadCount)},[G,Z,q,t,el,l,e]),er=(0,_.useCallback)(async e=>{if(!q&&""===e){ee(t),J(!1);return}if(q&&X.current.has(e))return void J(!1);if(r){J(!0);try{ee(q?K([...Z,...await r(e)]):await r(e))}catch{et({type:"error",message:k.S.couldNotSearchLabels})}finally{J(!1),q&&X.current.add(e)}}},[q,r,t,Z,et]),es=(0,I.d)(e=>er(e),f.t.pickerDebounceTime),eo=(0,_.useCallback)(e=>{let n=e.trim();if(G!==n&&ea){J(!0),es(n),Q(e);return}0!==t.length&&Q(e)},[es,G,ea,t.length]),ed=(0,_.useCallback)(e=>e.id,[]),ec=(0,_.useCallback)((e,t,n)=>{n.preventDefault(),n.stopPropagation(),U&&z&&H&&(H(!0),z({repositoryId:U,color:t.color,name:t.name},{onError:()=>{et({type:"error",message:k.S.couldNotCreateLabel}),H(!1)},onSuccess:e=>{e&&ee([{...e,__isNew__:!0},...Z]),H(!1)}}))},[et,Z,z,U,H]),eu=(0,_.useCallback)(t=>{let n;if(M&&t.id===g.v.noLabelsData.id){let e={...M};return e.groupId=e.selected?w.groupId:E.groupId,e}if(t.id===G)return{id:t.id,description:t.description||void 0,descriptionVariant:"block",source:t,text:`Create new label: "${t.name}"`,trailingVisual:N.PlusIcon,className:L.labelPickerItem,onAction:(e,n)=>ec(e,t,n)};let r=(l??[]).some(e=>e.id===t.id),s=(i??[]).some(e=>e===t.id);return n=e.find(e=>e.id===t.id)?w.groupId:s?A.groupId:r?D.groupId:E.groupId,{id:t.id,description:t.description??void 0,descriptionVariant:"block",children:(0,a.jsx)(v.JR,{html:t.nameHTML,className:L.labelNameText}),source:t,groupId:n,leadingVisual:()=>(0,a.jsx)("div",{style:{background:`#${t.color}`,borderColor:`#${t.color}`},className:L.labelColorBox})}},[M,G,l,i,e,ec]),em=(0,_.useMemo)(()=>{let t=[];return e.length>0&&t.push(w),(i??[]).some(t=>!e.some(e=>e.id===t))&&t.push(A),(l??[]).some(t=>!e.some(e=>e.id===t.id)&&i?.indexOf(t.id)===-1)&&t.push(D),ei.length>0&&ei.length-e.length>0&&t.push(E),t},[e,i,l,ei.length]),ep=(0,_.useMemo)(()=>{if(!en||!S.XC?.location)return;let e=S.XC.location.origin;return`${e}/${en}${x.labelPageSuffix}`},[en]),eg=(0,_.useCallback)(e=>{S.XC?.location?.href&&R&&ep&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),S.XC.location.href=ep))},[ep,R]),ef=(0,_.useRef)(null),eh=(0,_.useMemo)(()=>{let e=!Y&&!G&&0===ei.length,t=!(B&&O&&!Y)&&!!G&&0===ei.length;return e||t},[Y,G,ei.length,B,O]);return(0,a.jsx)("div",{className:L.labelPickerContainer,children:(0,a.jsx)(C.O,{loading:q?$:$||Y,items:ei,initialSelectedItems:e,title:V||p.k.labelsHeader,filterItems:eo,getItemKey:ed,convertToItemProps:eu,placeholderText:"Filter labels",selectionVariant:0===ei.length?"single":"multiple",onSelectionChange:s,renderAnchor:e=>d(e,ef),groups:G?void 0:em,insidePortal:o,height:"large",width:"medium",nested:c,resultListAriaLabel:"Label results",triggerOpen:u,initialFilter:h,selectPanelRef:ef,keybindingCommandId:"item-pickers:open-labels",eventsTag:"label",customNoMatchItem:O&&B&&G&&!Y?{id:G,color:"aaaaaa",name:G,nameHTML:G,description:void 0,url:""}:void 0,suppressNoMatchItem:!0,improvedNoMatchAccessibility:eh,noMatchMessage:eh?{title:"No labels were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,secondaryAction:R?(0,a.jsx)(F.X.SecondaryActionLink,{onClick:eg,href:ep,size:"small",children:p.k.editLabels}):void 0,responsiveOnNarrow:W})})}let K=e=>e.filter((e,t,n)=>n.findIndex(t=>t.id===e.id)===t);try{P.displayName||(P.displayName="LabelPickerBase")}catch{}var R=n(97665),M=n(96379),V=n(47544);async function B({owner:e,repo:t,query:n,count:a,labelNames:l}){let i={owner:e,repo:t};n&&(i.query=n),a&&(i.count=a),l&&l.length>0&&(i.labelNames=l.join(","));let r=(0,V.JF)("labels",i),s=await (0,M.lS)(r);return await s.json()}function O(e,t){let n=e.map(e=>e.replace(/^"/,"").replace(/"$/,""));return t.filter(e=>n.includes(e.name))}var U=n(73049),$=n(94747);async function H(e){let t=(0,V.kP)("labels");return(await (0,M.lS)(t,{method:"POST",body:e})).json()}async function z(e,{owner:t,repo:n,query:a,count:l,labelNames:i}){return await e.fetchQuery({queryKey:["item_picker","labels",{owner:t,repo:n,query:a,count:l,labelNames:i}],queryFn:async()=>{var e;let r,s=await B({owner:t,repo:n,query:a,count:l,labelNames:i});return e=(0,U.A)(s).data,r=e.repository.labelsByNames?.nodes,i&&i.length>0&&r&&(r=O(i,r)),{labels:e.repository.labels.nodes,repositoryId:e.repository.id,totalCount:e.repository.labels.totalCount,labelsByNames:r}}})}function q({repo:e,owner:t,labels:n,labelNames:l,preloadedLabels:i,noLabelOption:r,...s}){let o=i&&!!i.labels?.length,[d,c]=(0,_.useState)(!o),[u,m]=(0,_.useState)(0),[f,h]=(0,_.useState)(!1),[b,k]=(0,_.useState)(()=>{if(o){let e=l?O(l,i.labels):void 0;return{repositoryId:i.repositoryId,labels:l?e||[]:i.labels,totalCount:i.totalCount,labelsByNames:e}}return null}),[x,C]=(0,_.useState)(()=>o&&l?O(l,i.labels):n),v=(0,R.jE)(),{mutate:j}=(0,$.n)({mutationFn:async e=>{let t=await H(e);return(0,U.A)(t).data.createLabel.label}});(0,_.useEffect)(()=>{S.X3||o||(async()=>{try{let n=await z(v,{owner:t,repo:e,query:"",labelNames:l});k(n),l&&l.length>0&&C(n.labelsByNames||[]),c(!1),h(!1)}catch{h(!0),c(!1)}})()},[u,t,v,e,l,o]);let I=(0,_.useRef)(null),{createFallbackComponent:N}=(0,y.j)({errorMessage:p.k.cantEditItems("labels"),anchorElement:e=>s.anchorElement(e,I),open:!0}),F=(0,_.useCallback)(async n=>(await z(v,{owner:t,repo:e,query:n})).labels,[v,t,e]),L=(0,_.useCallback)((e,{onSuccess:t,onError:n})=>{j(e,{onSuccess:t,onError:n})},[j]),T=(0,_.useMemo)(()=>{let e=b?.labels??[];return r?[g.v.noLabelsData,...e]:e},[b?.labels,r]),w=(0,_.useMemo)(()=>{let e=l?x:n;return r?.selected&&!e.find(e=>e.id===g.v.noLabelsData.id)?[g.v.noLabelsData,...e]:e},[x,l,n,r?.selected]);return f?N(()=>m(e=>e+1)):(0,a.jsx)(P,{repo:e,owner:t,repositoryId:b?.repositoryId??"",labels:w,suggestions:T,totalNumberOfLabels:b?.totalCount??0,isLoading:d,setIsLoading:c,searchLabels:F,onCreate:L,noLabelOption:r,...s})}function W({repo:e,owner:t,anchorElement:n,readonly:l,labels:i,labelNames:r,noLabelOption:s,...o}){return(0,a.jsx)(h.y,{keybindingCommandId:"item-pickers:open-labels",anchorElement:(e,t)=>n(e,t),createChild:()=>(0,a.jsx)(q,{repo:e,owner:t,readonly:l,initialFilter:"",labels:i,labelNames:r,triggerOpen:!0,anchorElement:n,noLabelOption:s,...o}),insidePortal:o.insidePortal})}try{q.displayName||(q.displayName="ItemPickerFetcher")}catch{}try{W.displayName||(W.displayName="LabelPicker")}catch{}async function G(e){let t=(0,V.R1)(),n={ids:e.ids,addedLabelIds:e.addedLabelIds,removedLabelIds:e.removedLabelIds};return(await (0,M.lS)(t,{method:"POST",body:n})).json()}function Q({onError:e,onCompleted:t,onMutate:n,issuesToActOn:l,labelAppliedToAll:i,...r}){let{mutate:s}=function({onMutate:e}){return(0,$.n)({mutationFn:async({labels:e,...t})=>{let n=await G(t);return(0,U.A)(n)},onMutate:e})}({onMutate:n}),o=(0,_.useCallback)(n=>{let a=n.filter(e=>!i.some(t=>t.id===e.id)),r=i.filter(e=>!n.some(t=>e.id===t.id));s({ids:[...l],addedLabelIds:a.map(e=>e.id),removedLabelIds:r.map(e=>e.id),labels:n},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,l,i,t,e]);return(0,a.jsx)(W,{labels:i,onSelectionChange:o,...r})}try{Q.displayName||(Q.displayName="BulkIssueLabelPicker")}catch{}var X=n(30721),Y=n(18312);let J=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateLabelPayload",kind:"LinkedField",name:"createLabel",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createItemPickerLabelMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createItemPickerLabelMutation",selections:t},params:{id:"bc7b927fba23b36d639f0645f0dbc924",metadata:{},name:"createItemPickerLabelMutation",operationKind:"mutation",text:null}}}();J.hash="433349a516ae22925f3be8a399d79a08";let Z=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateItemPickerIssueLabelsBulkMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateItemPickerIssueLabelsBulkMutation",selections:t},params:{id:"2f33471869924b1bbd6ec2c6bf95109d",metadata:{},name:"updateItemPickerIssueLabelsBulkMutation",operationKind:"mutation",text:null}}}();Z.hash="e6891282752f0b5e823ec352dabb65d6";var ee=n(69487);function et(e,t,n,a,l){for(let i of t){if(!e.get(i))return;let t=a[i]?.map(t=>e.get(t));for(let a of l.applyLabelIds){if(n.get(i)?.includes(a))return;let l=e.get(a);if(!l)return;t?.filter(e=>e).map(t=>{let n=t&&ee.ConnectionHandler.createEdge(e,t,l,"LabelEdge");n&&ee.ConnectionHandler.insertEdgeBefore(t,n)})}for(let e of l.removeLabelIds)t?.filter(e=>e).map(t=>t&&ee.ConnectionHandler.deleteNode(t,e))}}function en(e){return(0,Y.readInlineData)(ea,e)}let ea=u;function el(e){return(0,m.G7)("item_picker_label_tsq_migration")?(0,a.jsx)(ei,{...e}):(0,a.jsx)(er,{...e})}function ei({connectionIds:e,existingIssueLabels:t,issuesToActOn:n,...l}){let i=(0,Y.useRelayEnvironment)(),r=(0,_.useCallback)(a=>{i.commitUpdate(l=>{if(a.addedLabelIds.length>0&&a.labels){let e=a.labels.filter(e=>a.addedLabelIds.includes(e.id));for(let t of e){let e=l.get(t.id)||l.create(t.id,"Label");for(let[n,a]of Object.entries({id:t.id,color:t.color,name:t.name,nameHTML:t.nameHTML,description:t.description,url:t.url}))null!=a&&e.setValue(a,n)}}et(l,n,t,e,{applyLabelIds:a.addedLabelIds,removeLabelIds:a.removedLabelIds})})},[e,i,t,n]),s=es(l.owner,l.repo);return(0,a.jsx)(Q,{...l,issuesToActOn:n,onMutate:r,preloadedLabels:s})}function er({issuesToActOn:e,existingIssueLabels:t,labelAppliedToAll:n,connectionIds:l,onCompleted:i,onError:r,...s}){let o=(0,Y.useRelayEnvironment)(),d=(0,_.useCallback)(a=>{let s=a.filter(e=>!n.some(t=>t.id===e.id)),d=n.filter(e=>!a.some(t=>e.id===t.id)),c={applyLabelIds:s.map(e=>e.id),removeLabelIds:d.map(e=>e.id)};!function({environment:e,optimisticUpdateIds:t,existingIssueLabels:n,connectionIds:a,input:{ids:l,applyLabelIds:i,removeLabelIds:r},onCompleted:s,onError:o}){let d={applyLabelIds:i,removeLabelIds:r},c={ids:l,...d};(0,Y.commitMutation)(e,{mutation:Z,variables:{input:c},updater:e=>et(e,t,n,a,d),optimisticUpdater:e=>et(e,t,n,a,d),onCompleted:e=>s&&s(e),onError:e=>o&&o(e)})}({...{environment:o,optimisticUpdateIds:e,existingIssueLabels:t,connectionIds:l,onError:e=>{r?.(e)}},input:{ids:[...e],...c},onCompleted:({updateIssuesBulk:e})=>{i?.(e?.jobId||void 0)}})},[l,o,t,e,n,i,r]);return(0,a.jsx)(ed,{labels:n,onSelectionChange:d,showEditLabelsButton:!1,...s})}function es(e,t){let n=(0,Y.useClientQuery)(o,{owner:e,repo:t});return(0,_.useMemo)(()=>{if(!n?.repository?.labels?.nodes?.length||!n?.repository?.id)return;let e=(n.repository.labels.nodes||[]).flatMap(e=>e?[e]:[]);return{repositoryId:n.repository.id,labels:e,totalCount:n.repository.labels.totalCount||0}},[n])}function eo(e){let t=es(e.owner,e.repo);return(0,a.jsx)(W,{...e,preloadedLabels:t})}function ed(e){return(0,m.G7)("item_picker_label_tsq_migration")?(0,a.jsx)(eo,{...e}):(0,a.jsx)(ec,{...e})}function ec({anchorElement:e,showEditLabelsButton:t,...n}){return(0,a.jsx)(h.y,{anchorElement:(t,n)=>e(t,n),createChild:()=>(0,a.jsx)(eu,{anchorElement:e,showEditLabelsButton:t,...n}),insidePortal:n.insidePortal,keybindingCommandId:"item-pickers:open-labels"})}function eu({repo:e,owner:t,labels:n,labelNames:r,onSelectionChange:o,canCreateLabel:d,...c}){let u=(0,Y.useRelayEnvironment)(),[m,h]=(0,_.useState)(0),[b,k]=(0,_.useState)(!1),[x,C]=(0,_.useState)(null),[v,j]=(0,_.useState)(n),I=(0,Y.useClientQuery)(s,{owner:t,repo:e}),N=!!I?.repository?.labels?.nodes?.length,[F,L]=(0,_.useState)(!N);(0,_.useEffect)(()=>{if(!S.X3)if(N){if(r){let e=r.map(e=>e.replace(/^"/,"").replace(/"$/,""));j((I.repository?.labels?.nodes||[]).flatMap(t=>{if(!t)return[];let n=(0,Y.readInlineData)(ea,t);return e.includes(n.name)?[n]:[]}))}}else(0,X.SD)({environment:u,query:l,variables:{owner:t,repo:e,shouldQueryByNames:r&&r.length>0,labelNames:r?.join(","),count:f.t.labelsInitialLoadCount}}).subscribe({next:e=>{C(e.repository??null),r&&e.repository?.labelsByNames&&j((e.repository?.labelsByNames.nodes||[]).flatMap(e=>e?[(0,Y.readInlineData)(ea,e)]:[])),L(!1),k(!1)},error:()=>{k(!0)}})},[u,m,r,t,e,N,I]);let T=(0,_.useCallback)(n=>new Promise((a,l)=>{(0,Y.fetchQuery)(u,i,{query:n,owner:t,repo:e,count:f.t.labelsPageSize}).subscribe({next:e=>{null!==e&&a((e.repository?.labels?.nodes||[]).flatMap(e=>e?[(0,Y.readInlineData)(ea,e)]:[]))},error:e=>{l(e)}})}),[u,t,e]),w=(0,_.useRef)(null),{createFallbackComponent:A}=(0,y.j)({errorMessage:p.k.cantEditItems("labels"),anchorElement:e=>c.anchorElement(e,w),open:!0}),E=(0,_.useMemo)(()=>{let e=r?v:n;return c.noLabelOption?.selected&&!e.find(e=>e.id===g.v.noLabelsData.id)&&e.unshift(g.v.noLabelsData),e},[v,r,n,c.noLabelOption?.selected]);return b?A(()=>h(m+1)):(0,a.jsx)(em,{repo:e,owner:t,paginatedKey:x,isLoading:F,setIsLoading:L,labels:E,canCreateLabel:d,onSelectionChange:o,searchLabels:T,preloadedData:N?I?.repository:void 0,...c})}function em({labels:e,copilotSuggestedLabels:t,favoriteLabelIds:n,searchLabels:l,paginatedKey:i,isLoading:r,setIsLoading:s,onSelectionChange:o,insidePortal:d,anchorElement:u,nested:m=!1,triggerOpen:p=!0,initialFilter:f,showEditLabelsButton:h=!0,noLabelOption:y,title:b,showNoMatchItem:k=!1,preloadedData:x,canCreateLabel:C,repo:v,owner:S,readonly:j}){let I=(0,Y.useFragment)(c,i),N=x?.id||I?.id,F=x?.labels?.totalCount||I?.labels?.totalCount||0,L=(0,_.useMemo)(()=>{let e=(x?.labels?.nodes||I?.labels?.nodes||[]).flatMap(e=>e?[(0,Y.readInlineData)(ea,e)]:[]);return y&&e.unshift(g.v.noLabelsData),e},[I,y,x]),T=(0,Y.useRelayEnvironment)(),w=(0,_.useCallback)((e,t)=>{N&&function({environment:e,input:t,onError:n,onCompleted:a}){(0,Y.commitMutation)(e,{mutation:J,variables:{input:t},onError:e=>n&&n(e),onCompleted:e=>a&&a(e)})}({environment:T,input:e,onError:t.onError,onCompleted:e=>{let n=e?.createLabel?.label;n?t.onSuccess(n):t.onSuccess(null)}})},[T,N]);return(0,a.jsx)(P,{labels:e,suggestions:L,totalNumberOfLabels:F,copilotSuggestedLabels:t,favoriteLabelIds:n,searchLabels:l,onSelectionChange:o,insidePortal:d,anchorElement:u,nested:m,triggerOpen:p,initialFilter:f,showEditLabelsButton:h,noLabelOption:y,title:b,showNoMatchItem:k,canCreateLabel:C,repositoryId:N,isLoading:r,setIsLoading:s,onCreate:w,repo:v,owner:S,readonly:j})}try{el.displayName||(el.displayName="BulkIssuesItemPickerLabel")}catch{}try{ei.displayName||(ei.displayName="BulkIssuesItemPickerLabelTsqWithRelayWrapper")}catch{}try{er.displayName||(er.displayName="BulkIssuesItemPickerLabelRelay")}catch{}try{eo.displayName||(eo.displayName="LabelPickerTsqWithRelayWrapper")}catch{}try{ed.displayName||(ed.displayName="LabelPicker")}catch{}try{ec.displayName||(ec.displayName="LabelPickerRelay")}catch{}try{eu.displayName||(eu.displayName="ItemPickerFetcher")}catch{}try{em.displayName||(em.displayName="ItemPickerWrapper")}catch{}},33643:(e,t,n)=>{n.d(t,{C:()=>o});var a=n(96912),l=n(72471),i=n(26320),r=n(79639),s=n(9802);function o(e){if(!(0,a.f)(e))return"";let t=(0,l.GP)(e,"h:mm a");return(0,i.c)(e)?`${t} today`:(0,r.P)(e)?`${t} yesterday`:(0,s.e)(e)?`${t} on ${(0,l.GP)(e,"MMMM d")}`:`${t} on ${(0,l.GP)(e,"MMMM d, yyyy")}`}},33987:(e,t,n)=>{n.d(t,{M:()=>a,i:()=>l});let a=({includeAssignableBots:e,includeAuthorableBots:t})=>{let n=[];return e&&n.push("CAN_BE_ASSIGNED"),t&&n.push("CAN_BE_AUTHOR"),n},l=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},34095:(e,t,n)=>{n.d(t,{G:()=>l,K:()=>i});var a=n(71315);let l=a.XC?.readyState==="interactive"||a.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{a.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),i=a.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{a.cg?.addEventListener("load",e)})},34535:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(96540);function l({focusRowRef:e,mouseRowRef:t}){let[n,l]=a.useState(!1);return a.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&l(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{l(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{l(!1)}}},[e,t]),n}},34745:(e,t,n)=>{n.d(t,{f:()=>Z});var a=n(74848),l=n(44569),i=n(71315),r=n(96459),s=n(35073),o=n(96540),d=n(97174),c=n(76214);let u={panel:"CommitGroup-module__panel--Agk7V"};var m=n(4559),p=n(99896),g=n(2970),f=n(98994),h=n(43617),y=n(4929),b=n(95378),k=n(73017),x=n(30459),C=n(54571),v=n(16790),S=n(4095),j=n(48926),I=n(25407),N=n(66108),F=n(38621),_=n(21373),L=n(26108),T=n(55255),w=n(11196),A=n(68534),E=n(1117);let D=o.memo(P);function P({repo:e,oid:t}){let n=`browse-repo-${(0,A.F)(t)}`,{sendAnalyticsEvent:l}=(0,x.s)(),{loggingPrefix:i,loggingPayload:r}=(0,v.xe)(),s=(0,v.eX)();return(0,a.jsx)(T.A,{"aria-label":"Browse repository at this point",id:n,direction:"sw",children:(0,a.jsx)("a",{"aria-labelledby":n,href:(0,I.IO9)({repo:e,action:"tree",commitish:t}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{s&&l(`${i}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",r)},children:(0,a.jsx)(F.CodeIcon,{})})})}let K=o.memo(R);function R({repo:e,oid:t,path:n}){if(!n)return null;let l=`view-code-${(0,A.F)(t)}`;return(0,a.jsx)(T.A,{"aria-label":"View code at this point",id:l,direction:"sw",children:(0,a.jsx)("a",{"aria-labelledby":l,href:(0,I.nD_)({owner:e.ownerLogin,repo:e.name,commitish:t,filePath:n}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,a.jsx)(F.FileCodeIcon,{})})})}function M({commitUrl:e,oid:t,softNavToCommit:n}){let l={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,a.jsx)(T.A,{"aria-label":"View commit details",direction:"s",children:n?(0,a.jsx)(_.Q,{as:N.N,to:e,...l,children:(0,A.F)(t)}):(0,a.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...l,children:(0,a.jsx)("span",{className:"Button-content",children:(0,a.jsx)("span",{className:"Button-label color-fg-muted",children:(0,A.F)(t)})})})})}function V({showDescription:e,setShowDescription:t,oid:n}){let l=(0,A.F)(n),i=`show-description-${l}`,r=`${!e?"Show":"Hide"} description for ${l}`;return(0,a.jsx)(w.m,{id:i,text:r,"aria-label":r,children:(0,a.jsx)(L.K,{icon:F.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":i,"aria-pressed":e,"aria-expanded":e,onClick:n=>{n.preventDefault(),t(!e)}})})}function B({count:e,repo:t,oid:n}){if(!e)return null;let l=`comment-count-${(0,A.F)(n)}`;return(0,a.jsx)(T.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:l,direction:"sw",children:(0,a.jsx)("a",{"aria-labelledby":l,href:`${(0,I.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:n})}#${E.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,a.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,a.jsx)(F.CommentIcon,{}),(0,a.jsx)("span",{className:"Button-label",children:e})]})})})}try{D.displayName||(D.displayName="BrowseRepositoryAtThisPoint")}catch{}try{P.displayName||(P.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{K.displayName||(K.displayName="ViewCodeAtThisPoint")}catch{}try{R.displayName||(R.displayName="WrappedViewCodeAtThisPoint")}catch{}try{M.displayName||(M.displayName="ViewCommitDetails")}catch{}try{V.displayName||(V.displayName="ToggleCommitDescription")}catch{}try{B.displayName||(B.displayName="CommitCommentCount")}catch{}var O=n(44185),U=n(81945),$=n(98783),H=n(42257);function z({deferredData:e}){let{helpUrl:t}=(0,$.D)(),n=(0,S.xs)();return(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(U.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&void 0===e&&(0,a.jsx)(U.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&e&&(0,a.jsx)(O.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:t,...e.signatureInformation}:void 0})]})}function q({deferredData:e,oid:t,repository:n}){let l=(0,S.xs)(),i="";try{i=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)(U.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!l&&void 0===e&&(0,a.jsx)(U.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!l&&e?.statusCheckStatus&&(0,a.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,a.jsx)("div",{className:"d-none d-sm-flex",children:(0,a.jsx)(H.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:i,repo:n})})]})}try{z.displayName||(z.displayName="SignedCommitBadge")}catch{}try{q.displayName||(q.displayName="CommitChecksStatusBadge")}catch{}var W=n(43147);let G={ListItemTitle_0:"CommitRow-module__ListItemTitle_0--xTKIC",ListItem_0:"CommitRow-module__ListItem_0--Iwpdk",ListItemMetadata_0:"CommitRow-module__ListItemMetadata_0--Tnt1n"},Q=(0,o.lazy)(()=>n.e("packages_commits_components_Commits_CommitActionBar_tsx").then(n.bind(n,22220)).then(e=>({default:e.CommitActionBar})));function X({commit:e,repo:t,path:n,softNavToCommit:l}){let[i,r]=(0,o.useState)(!1),s=(0,o.useRef)(null),[d,c]=(0,p.ym)(e.oid,t),[u,I]=(0,o.useState)(!1),N=(0,S.NO)(e.oid),[F]=(0,C.I)(()=>!1,!0,[]),{sendAnalyticsEvent:_}=(0,x.s)(),{loggingPrefix:L,loggingPayload:T}=(0,v.xe)(),w=(0,v.eX)(),A=()=>{w&&_(`${L}click`,"COMMITS_TITLE_CLICKED",T)};return(0,o.useEffect)(()=>{i&&s.current&&s.current.textContent&&(0,m.i)(s.current.textContent)},[s,i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:e.shortMessageMarkdownLink&&!F?(0,a.jsx)(b.kx,{html:e.shortMessageMarkdownLink,onClick:A,containerClassName:G.ListItemTitle_0,headingClassName:G.ListItemTitle_0,children:e.bodyMessageHtml&&(0,a.jsx)(V,{showDescription:i,setShowDescription:r,oid:e.oid})}):(0,a.jsx)(b.ao,{value:e.shortMessage,href:e.url,onClick:A,containerClassName:G.ListItemTitle_0,headingClassName:G.ListItemTitle_0,children:e.bodyMessageHtml&&(0,a.jsx)(V,{showDescription:i,setShowDescription:r,oid:e.oid})}),metadata:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.V,{children:(0,a.jsx)(B,{oid:e.oid,repo:t,count:N?.commentCount??0})}),(0,a.jsx)(y.V,{className:G.ListItemMetadata_0,children:(0,a.jsx)(z,{deferredData:N})}),(0,a.jsxs)(y.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(M,{oid:e.oid,commitUrl:e.url,softNavToCommit:l}),(0,a.jsx)(W.w,{sha:e.oid})]}),(0,a.jsx)(K,{repo:t,oid:e.oid,path:n}),(0,a.jsx)(D,{repo:t,oid:e.oid})]})]}),secondaryActions:(0,a.jsx)(o.Suspense,{children:(0,a.jsx)(Q,{commit:e,repo:t,path:n,setDialogOpen:I,fetchCheckDetails:c,deferredData:N})}),className:G.ListItem_0,children:[(0,a.jsx)("div",{className:"px-1"}),(0,a.jsxs)(h.Q,{children:[i&&e.bodyMessageHtml&&(0,a.jsx)(f.U,{children:(0,a.jsx)(k.JR,{ref:s,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,a.jsx)(f.U,{children:(0,a.jsx)(j.j,{commit:e,repo:t,children:(0,a.jsx)(q,{repository:t,deferredData:N,oid:e.oid})})})]})]}),N?.statusCheckStatus&&u&&(0,a.jsx)(p.xC,{combinedStatus:d,isOpen:u,onDismiss:()=>{I(!1)}})]})}try{Q.displayName||(Q.displayName="CommitActionBar")}catch{}try{X.displayName||(X.displayName="CommitRow")}catch{}var Y=n(89830);function J({commits:e,title:t,shouldClipTimeline:n,repo:l,currentBlobPath:i="",softNavToCommit:r}){let s=(0,o.useId)();return(0,a.jsxs)(Y.s,{clipTimeline:n?"top":"none",children:[(0,a.jsx)(Y.s.Heading,{as:"h3",id:s,title:`Commits on ${t}`,"data-testid":"commit-group-title"}),(0,a.jsx)(c.Z,{className:u.panel,children:(0,a.jsx)(d.u,{title:t,titleHeaderTag:"h3",ariaLabelledBy:s,children:e.map(e=>(0,a.jsx)(X,{commit:e,repo:l,path:i,softNavToCommit:r},e.oid))},t)})]})}try{J.displayName||(J.displayName="CommitGroup")}catch{}function Z({leadingContent:e,commitGroups:t,trailingContent:n,deferredCommitData:d=S.Xx,repository:c,currentBlobPath:u,loggingPayload:m,loggingPrefix:p,shouldClipTimeline:g=!0,softNavToCommit:f=!1}){let h=(0,o.useRef)(0),y=(0,o.useRef)(null),b=(0,o.useRef)(null),k=(0,o.useRef)(!1),x=(0,o.useRef)([]),C=(0,r.Z)();return(0,o.useEffect)(()=>{let e=setTimeout(()=>{x.current=Array.from(document.querySelectorAll('[id*="-list-view-node-"]'))},0);return()=>clearTimeout(e)},[t]),(0,a.jsx)(S.M2,{deferredData:d,children:(0,a.jsx)(v.zq,{loggingInfo:{loggingPayload:m,loggingPrefix:p},children:(0,a.jsxs)(s.A,{clipSidebar:!0,onKeyDown:e=>{var t;"Enter"===e.key?(e=>{if("Enter"===e.key){let t=i.XC?.activeElement?.hasAttribute("data-commit-link")?i.XC?.activeElement?.getAttribute("data-commit-link"):void 0;t&&(e.ctrlKey||e.metaKey?i.cg?.open(t,"_blank"):C(t))}})(e):"Tab"===e.key?"Tab"===(t=e).key&&(t.shiftKey?(i.XC?.activeElement?.hasAttribute("data-commit-link")&&!k.current&&y.current&&(y.current.focus(),b.current=y.current),k.current=!0):(y.current=b.current,b.current=i.XC?.activeElement??null,k.current=!1)):(e=>{if(!["j","k","ArrowDown","ArrowUp"].includes(e.key)||!(0,l.zw)()&&("j"===e.key||"k"===e.key))return;let t=1;for(let e=0;e<x.current.length;e++)x.current[e]?.contains(i.XC?.activeElement)&&(t=e+1);let n=!1;if(("ArrowUp"===e.key||"k"===e.key)&&(n=!0),h.current!==t)h.current=t;else{let e=x.current[n?t-2:t];e?.focus(),e?.focus(),h.current=n?t-1:t+1}})(e)},children:[e,t.map((e,t)=>(0,a.jsx)(J,{title:e.title,commits:e.commits,shouldClipTimeline:g&&0===t,currentBlobPath:u,repo:c,softNavToCommit:f},e.title)),n]})})})}try{Z.displayName||(Z.displayName="Commits")}catch{}},35669:(e,t,n)=>{n.d(t,{H_:()=>s,mZ:()=>o});var a=n(71315),l=n(74731),i=n(81724),r=n(94007);function s({includeRepository:e,repository:t,templateFileName:n,title:i,body:s,assignees:o,labels:d,projects:c,milestone:u,type:m}){let p=new URLSearchParams(a.cg?.location?.search||"");return e&&t&&(p.set(l.t.queryParams.org,t.owner.login),p.set(l.t.queryParams.repo,t.name)),n&&p.set(l.t.queryParams.template,n),(0,r.E2)(p,l.t.queryParams.title,i,l.t.maxQueryLengthLimits.title),(0,r.E2)(p,l.t.queryParams.body,s,l.t.maxQueryLengthLimits.body),o&&(0,r.Hx)(p,l.t.queryParams.assignees,o?o.map(e=>e.login):void 0,l.t.maxQueryLengthLimits.assignees),d&&(0,r.Hx)(p,l.t.queryParams.labels,d.map(e=>e.name),l.t.maxQueryLengthLimits.assignees),c&&t?.owner&&(0,r.Hx)(p,l.t.queryParams.projects,c.map(e=>`${t.owner.login}/${e.number}`),l.t.maxQueryLengthLimits.assignees),u&&p.set(l.t.queryParams.milestone,u.title),m&&p.set(l.t.queryParams.type,m.name),p.toString()}function o(e,t,n){let a=e.get(l.t.queryParams.org)||n?.owner||null,s=e.get(l.t.queryParams.repo)||n?.repository||null,o=e.get(l.t.queryParams.template)||n?.template||null,d={...null!==a&&null!==s&&{repository:{owner:a,name:s}},...null!==o&&{templateFileName:o}},c=(0,r.Qg)(e,l.t.queryParams.title,l.t.maxQueryLengthLimits.title)||n?.title,u=(0,r.Qg)(e,l.t.queryParams.permalink,l.t.maxQueryLengthLimits.body);u=void 0===u?(0,r.Qg)(e,l.t.queryParams.body,l.t.maxQueryLengthLimits.body)||n?.body:decodeURIComponent(u);let m={...void 0!==c&&{title:c},...void 0!==u&&{body:u},...t};if(0===Object.keys(d).length)if(!(Object.keys(m).length>0))return;else d={templateFileName:i.rp};return{...d,...Object.keys(m).length>0&&{initialValues:m}}}},36001:(e,t,n)=>{n.d(t,{qn:()=>B,ku:()=>$,Wj:()=>U,Pv:()=>O});var a=n(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};l.hash="89d173296b36dd6c47d64eaffcd8fa74";let i=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,a,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:l,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"3f223f279562986721373d3a32894caa",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}}}();i.hash="d02c16e470c17cf4b7318894d9aaf592";let r=function(){var e=["labels"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:i,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}();r.hash="d02c16e470c17cf4b7318894d9aaf592";var s=n(69599),o=n(53419),d=n(67126),c=n(32050),u=n(21052),m=n(41305),p=n(43258),g=n(96540),f=n(34784),h=n(93513),y=n(20177);let b=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RemoveLabelsFromLabelablePayload",kind:"LinkedField",name:"removeLabelsFromLabelable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeLabelsFromLabelableMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeLabelsFromLabelableMutation",selections:t},params:{id:"cce4e0522a0bbf89aa28f9e4da5d7beb",metadata:{},name:"removeLabelsFromLabelableMutation",operationKind:"mutation",text:null}}}();b.hash="9f3ee532d3745a09f037181e4a226f48";var k=n(18312),x=n(89252);let C=(0,n(82075).A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:2592e6});function v(e){return`favorite-labels:${e}`}function S(e){let t=v(e),n=C.getItem(t);if(!n)return{labels:{}};try{return JSON.parse(n)}catch{return{labels:{}}}}var j=n(55007),I=n(2495),N=n(16810),F=n(21798),_=n(45244),L=n(38621),T=n(26108),w=n(26607);let A={copilotDraftLabelsContainer:"CopilotLabelsSection-module__copilotDraftLabelsContainer--qCnJj",copilotDraftLabel:"CopilotLabelsSection-module__copilotDraftLabel--H8mX9",copilotLoadingText:"CopilotLabelsSection-module__copilotLoadingText--TPE_h",copilotDraftIndividualLabel:"CopilotLabelsSection-module__copilotDraftIndividualLabel--WmjvS",copilotIcon:"CopilotLabelsSection-module__copilotIcon--jhl3v"};function E({issueId:e,sectionHeader:t,setShouldShowCopilotComponent:n,suggestedLabels:l,labelsStatus:i,onConfirmLabels:r,onErrorRetry:s}){let[d,c]=(0,g.useTransition)(),u=(0,g.useCallback)(()=>{c(()=>{n(!1),(0,o.BI)("copilot_suggested_labels.dismiss",{labels:l.map(e=>e.name).join(","),issueId:e}),(0,x.ff)(e)})},[l,e,n,c]),m=(0,g.useCallback)(()=>{c(()=>{n(!1),(0,o.BI)("copilot_suggested_labels_error.cancel")})},[n,c]);return(0,a.jsx)(g.Suspense,{fallback:(0,a.jsx)(D,{}),children:(0,a.jsxs)(N.w,{sectionHeader:t,children:["loading"===i&&(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-live":"polite","aria-busy":d,children:[(0,a.jsx)(L.CopilotIcon,{className:A.copilotIcon}),(0,a.jsx)(_.b,{children:(0,a.jsx)("span",{className:A.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===i&&(0,a.jsx)(P,{labels:l,onConfirm:r,onCancel:u,setShouldShowCopilotComponent:n,startContentTransition:c,issueId:e}),"error"===i&&(0,a.jsx)(K,{onRetry:s,onCancel:m})]})})}function D(){return(0,a.jsx)(N.w,{sectionHeader:(0,a.jsx)(F.X,{title:h.k.sectionTitles.labels,readonly:!0}),children:(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,a.jsx)(L.CopilotIcon,{className:A.copilotIcon}),(0,a.jsx)(_.b,{children:(0,a.jsx)("span",{className:A.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function P({labels:e,onConfirm:t,onCancel:n,setShouldShowCopilotComponent:l,startContentTransition:i,issueId:r}){let[s,d]=(0,g.useState)(e);return((0,g.useEffect)(()=>{(0===e.length||0===s.length)&&i(()=>{l(!1)})},[e,l,i,s]),0===e.length)?null:((0,o.BI)("copilot_suggested_labels.shown",{issueId:r}),(0,a.jsxs)("span",{className:"d-flex flex-items-start flex-justify-between pl-0",children:[(0,a.jsx)("div",{className:A.copilotDraftLabelsContainer,children:s.map(e=>(0,a.jsx)(R,{name:e.name,onRemove:()=>d(s.filter(t=>t.id!==e.id))},e.id))}),(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,a.jsx)(T.K,{variant:"invisible",size:"small",icon:L.CheckIcon,onClick:()=>t(s),"aria-label":"Accept suggestions"}),(0,a.jsx)(T.K,{variant:"invisible",size:"small",icon:L.XIcon,onClick:n,"aria-label":"Dismiss suggestions"})]})]}))}function K({onRetry:e,onCancel:t}){return(0,a.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,a.jsx)(L.CopilotErrorIcon,{className:A.copilotIcon}),(0,a.jsx)("span",{className:A.copilotLoadingText,children:"Error. Please try again."})]}),(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,a.jsx)(T.K,{variant:"invisible",size:"small",icon:L.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,a.jsx)(T.K,{variant:"invisible",size:"small",icon:L.XIcon,onClick:t,"aria-label":"Dismiss"})]})]})}function R({onRemove:e,name:t}){let n=(0,a.jsx)(T.K,{variant:"invisible",size:"small",icon:L.XIcon,tooltipDirection:"n",onClick:e,"aria-label":`Dismiss ${t}`,style:{color:"var(--fgColor-muted)"}});return(0,a.jsx)("div",{className:A.copilotDraftLabel,children:(0,a.jsxs)(w.A,{className:A.copilotDraftIndividualLabel,children:[t," ",n]})})}try{E.displayName||(E.displayName="CopilotLabelsSection")}catch{}try{D.displayName||(D.displayName="CopilotLabelsSectionLoading")}catch{}try{P.displayName||(P.displayName="CopilotLabelsSectionSuccess")}catch{}try{K.displayName||(K.displayName="CopilotLabelsSectionError")}catch{}try{R.displayName||(R.displayName="CopilotDraftLabels")}catch{}let M=()=>(0,a.jsx)(I.h,{title:h.k.sectionTitles.labels}),V=({sectionHeader:e,onDelete:t,labels:n})=>(0,a.jsx)(N.w,{id:"sidebar-labels-section",sectionHeader:e,emptyText:n.length>0?void 0:h.k.emptySections.labels,children:(0,a.jsx)(m.w,{labels:n,onDelete:t,testId:y.Y.issueLabels})}),B=({repo:e,owner:t,readonly:n,labels:l,onSelectionChange:i,...r})=>{let s=n?(0,a.jsx)(M,{}):(0,a.jsx)(c.tJ,{repo:e,owner:t,readonly:n,canCreateLabel:!n,labels:l,onSelectionChange:i,showNoMatchItem:!0,anchorElement:(e,t)=>(0,a.jsx)(F.X,{title:h.k.sectionTitles.labels,buttonProps:e,ref:t}),...r});return(0,a.jsx)(V,{sectionHeader:s,labels:l})},O=l,U=r;function $({issue:e,onIssueUpdate:t,insideSidePanel:n,readonly:l}){let i=(0,f.useFragment)(O,e),{repository:{owner:{login:r},name:m,isArchived:y}}=i,{data:I}=(0,f.usePaginationFragment)(U,i),{id:N,viewerCanLabel:_}=i,L=(0,g.useMemo)(()=>I.labels?.edges?.flatMap(e=>e?.node?[(0,c.P5)(e?.node)]:[])||[],[I]),{getSuggestions:T,suggestedLabels:w,labelsStatus:A}=(0,j.G)(),D=(0,f.useRelayEnvironment)(),P=(0,s.G7)("copilot_auto_assign_metadata"),K=(0,s.G7)("issues_react_favorite_labels"),[R,B]=(0,g.useState)(P&&_&&0===L.length&&!(0,x.nS)(N));(0,g.useEffect)(()=>{R&&T({issueId:N,environment:D,issueTitle:i.title,issueBody:i.body,repositoryName:m,repositoryOwner:r,type:"labels"})},[R,N,D,i.title,i.body,m,r,T]);let $=l||!_||y,{addToast:H}=(0,p.Y6)(),z=(0,g.useCallback)(e=>{R&&e.length>0&&(B(!1),(0,o.BI)("copilot_suggested_labels.skipped",{issueId:N})),R&&0===e.length&&B(!0),(0,u.N)({environment:D,input:{labelableId:N,labels:e,labelableTypeName:"Issue"},onError:()=>H({type:"error",message:d.S.couldNotUpdateLabels}),onCompleted:()=>{K&&e.length>0&&function(e,t){if(0===t.length)return;let n=S(e),a=Date.now();for(let e of t){let t=n.labels[e];n.labels[e]={labelId:e,count:t?t.count+1:1,lastUsed:a}}let l=v(e);try{C.setItem(l,JSON.stringify(n))}catch{}}(`${r}/${m}`,e.map(e=>e.id)),t?.()}})},[H,D,N,t,R,r,m,K]),q=(0,g.useCallback)(e=>{z(e),B(!1),(0,o.BI)("copilot_suggested_labels.confirm",{pickedLabels:e.map(e=>e.name).join(","),suggestedLabels:w.map(e=>e.name).join(","),pickedCount:e.length,suggestedCount:w.length,issueId:N})},[w,N,z]),W=(0,g.useCallback)(()=>{T({issueId:N,environment:D,issueTitle:i.title,issueBody:i.body,repositoryName:m,repositoryOwner:r,type:"labels"}),(0,o.BI)("copilot_suggested_labels_error.retry",{issueId:N})},[T,N,D,i.title,i.body,m,r]),G=(0,s.G7)("issues_react_remove_labels_oneclick"),Q=(0,g.useCallback)(e=>{!function({environment:e,input:t,onError:n,onCompleted:a}){let l=e=>{let n=k.ConnectionHandler.getConnectionID(t.labelableId,"MetadataSectionAssignedLabels_labels"),a=e.get(`${n}(orderBy:{"direction":"ASC","field":"NAME"})`);a&&t.labelIds[0]&&k.ConnectionHandler.deleteNode(a,t.labelIds[0])};(0,k.commitMutation)(e,{mutation:b,variables:{input:t},onError:e=>n&&n(e),onCompleted:e=>a&&a(e),updater:l,optimisticUpdater:l})}({environment:D,input:{labelableId:N,labelIds:[e]}})},[D,N]),X=(0,g.useMemo)(()=>{if($)return(0,a.jsx)(M,{});let e=K?(function(e,t=10,n=4){let a=S(e),l=Date.now()-24*t*36e5;return Object.values(a.labels).filter(e=>e.lastUsed>=l).sort((e,t)=>e.count!==t.count?t.count-e.count:t.lastUsed-e.lastUsed).slice(0,n)})(`${r}/${m}`).map(e=>e.labelId):[];return(0,a.jsx)(c.tJ,{repo:m,owner:r,readonly:$,labels:L,canCreateLabel:!$,copilotSuggestedLabels:w,favoriteLabelIds:e,onSelectionChange:z,anchorElement:(e,t)=>(0,a.jsx)(F.X,{title:h.k.sectionTitles.labels,buttonProps:e,ref:t}),insidePortal:n,showNoMatchItem:!0})},[$,K,r,m,L,w,z,n]);return R?(0,a.jsx)(E,{issueBody:i.body,issueId:N,issueTitle:i.title,repositoryName:m,repositoryOwner:r,sectionHeader:X,setShouldShowCopilotComponent:B,suggestedLabels:w,labelsStatus:A,onConfirmLabels:q,onErrorRetry:W}):(0,a.jsx)(V,{sectionHeader:X,onDelete:G&&!$?Q:void 0,labels:L})}try{M.displayName||(M.displayName="ReadonlyLabelsSectionHeader")}catch{}try{V.displayName||(V.displayName="LabelsSection")}catch{}try{B.displayName||(B.displayName="CreateIssueLabelsSection")}catch{}try{$.displayName||($.displayName="EditIssueLabelsSection")}catch{}},36202:(e,t,n)=>{n.d(t,{$H:()=>E,uF:()=>T,iT:()=>_,RX:()=>L});var a=n(74848);let l={kind:"InlineDataFragment",name:"IssueTypePickerIssueTypeShared"};l.hash="ad8f00cd9d8c47c96b5370cc5d7c1878";let i={kind:"InlineDataFragment",name:"IssueTypePickerPaginatedShared"};i.hash="8f239d052f7531271a3f749f1efc064f";let r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueTypesPageSize"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},a=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[l,i,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],u={kind:"InlineFragment",selections:c,type:"IssueFieldText",abstractKey:null},m={kind:"InlineFragment",selections:c,type:"IssueFieldSingleSelect",abstractKey:null},p={kind:"InlineFragment",selections:c,type:"IssueFieldDate",abstractKey:null},g={kind:"InlineFragment",selections:c,type:"IssueFieldNumber",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},y={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},b=[{kind:"Variable",name:"first",variableName:"issueTypesPageSize"}];return{fragment:{argumentDefinitions:[e,t,n],kind:"Fragment",metadata:null,name:"IssueTypePickerSharedQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerPaginatedShared",selections:[{alias:"issueTypes",args:null,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"__Repository_issueTypes_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueTypeShared",selections:[l,i,r,s,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[d,u,m,p,g],storageKey:null}],args:null,argumentDefinitions:[]},d],storageKey:null},f],storageKey:null},h,y],storageKey:null}],args:[{kind:"Variable",name:"issueTypesPageSize",variableName:"issueTypesPageSize"}],argumentDefinitions:[e]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,e],kind:"Operation",name:"IssueTypePickerSharedQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:b,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[l,i,r,s,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[d,u,m,p,g,{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null},f],storageKey:null},h,y],storageKey:null},{alias:null,args:b,filters:null,handle:"connection",key:"Repository_issueTypes",kind:"LinkedHandle",name:"issueTypes"},l],storageKey:null}]},params:{id:"a54fe599477ad1ec59ac4afddc715479",metadata:{},name:"IssueTypePickerSharedQuery",operationKind:"query",text:null}}}();r.hash="6c503c2b0f9e5ac8900fc7fde8cb34a9";var s=n(69599),o=n(18815),d=n(19918),c=n(81289),u=n(81709),m=n(51928),p=n(83001),g=n(96540),f=n(49275),h=n(30459),y=n(94747),b=n(96379),k=n(47544);async function x(e){let t=(0,k.R1)(),n={ids:e.ids};return"issueTypeId"in e?n.issueTypeId=e.issueTypeId:n.clearIssueType=e.clearIssueType,(await (0,b.lS)(t,{method:"POST",body:n})).json()}var C=n(73049);function v({onError:e,onCompleted:t,onMutate:n,issuesToActOn:l,activeIssueType:i,...r}){let{mutate:s}=function({onMutate:e}){return(0,y.n)({mutationFn:async({issueType:e,...t})=>{let n=await x(t);return(0,C.A)(n)},onMutate:e})}({onMutate:n}),{sendAnalyticsEvent:o}=(0,h.s)(),d=(0,g.useCallback)(n=>{let a,r=1===n.length?n[0]?.id:null;if(!r||r===i?.id)return;let d=[...l];a=r===f.v.noTypeData.id||r===m.i?{ids:d,clearIssueType:!0}:{ids:d,issueTypeId:r,issueType:n[0]},o("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:i?.id??"",issueTypeId:r===m.i?"":r??"",issueIds:[...l]}),s(a,{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,l,i?.id,t,e,o]);return(0,a.jsx)(p.u,{onSelectionChange:d,activeIssueType:i,showUnset:!0,...r})}try{v.displayName||(v.displayName="BulkIssueIssueTypePicker")}catch{}var S=n(30721),j=n(71315),I=n(18312);let N=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkSharedMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeBulkSharedMutation",selections:t},params:{id:"f06da034e8edb97ccc97158971f670cc",metadata:{},name:"updateIssueIssueTypeBulkSharedMutation",operationKind:"mutation",text:null}}}();function F(e,t,n){for(let a of t){let t=e.get(a);if(!t)return;let l=n?e.get(n):null;if(!l){t.setValue(null,"issueType");continue}t.setLinkedRecord(l,"issueType")}}N.hash="cac662d4342aa0566134c233e0fe3139";let _="UNSET";async function L(e,t){let{pageSize:n=10,owner:a,repo:s}=t,o=await (0,I.fetchQuery)(e,r,{owner:a,repo:s,issueTypesPageSize:n},{fetchPolicy:"store-or-network"}).toPromise();if(!o?.repository)return[];let d=(0,I.readInlineData)(i,o.repository);return(d?.issueTypes?.edges?.flatMap(e=>e?.node)??[]).filter(e=>!!e).map(e=>(0,I.readInlineData)(l,e))}function T(e){return(0,s.G7)("item_picker_issue_type_tsq_migration")?(0,a.jsx)(p.u,{...e}):(0,a.jsx)(w,{...e})}function w({anchorElement:e,...t}){return(0,a.jsx)(c.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:t=>e(t),createChild:()=>(0,a.jsx)(A,{anchorElement:t=>e(t),...t})})}function A({owner:e,repo:t,anchorElement:n,issueTypes:s,...c}){let p=(0,I.useRelayEnvironment)(),[f,h]=(0,g.useState)(!0),[y,b]=(0,g.useState)(0),[k,x]=(0,g.useState)(!1),[C,v]=(0,g.useState)(null);(0,g.useEffect)(()=>{j.X3||(0,S.SD)({environment:p,query:r,variables:{owner:e,repo:t,issueTypesPageSize:o.En}}).subscribe({next:e=>{v(e.repository??null),h(!1),x(!1)},error:()=>{x(!0),h(!1)}})},[p,y,e,t]);let N=(0,I.readInlineData)(i,C),F=(0,g.useMemo)(()=>N?.issueTypes?.edges?.flatMap(e=>e?.node?[(0,I.readInlineData)(l,e.node)]:[])||[],[N]),{createFallbackComponent:_}=(0,u.j)({errorMessage:d.k.cantEditItems("types"),anchorElement:n,open:!0});return k?_(()=>b(e=>e+1)):(0,a.jsx)(m.f,{isLoading:f,anchorElement:n,issueTypes:F,...c})}function E(e){return(0,s.G7)("item_picker_issue_type_tsq_migration")?(0,a.jsx)(D,{...e}):(0,a.jsx)(P,{...e})}function D(e){let t=(0,I.useRelayEnvironment)(),n=(0,g.useCallback)(e=>{t.commitUpdate(t=>{let{ids:n,...a}=e,l="issueTypeId"in a?a.issueTypeId:void 0;l&&a.issueType&&function(e,t,n){let a=e.get(t)||e.create(t,"IssueType");for(let[e,l]of Object.entries({id:t,name:n.name,description:n.description,color:n.color,isEnabled:n.isEnabled}))null!=l&&a.setValue(l,e)}(t,l,a.issueType),F(t,n,l)})},[t]);return(0,a.jsx)(v,{...e,onMutate:n})}function P({onError:e,onCompleted:t,issuesToActOn:n,activeIssueType:l,...i}){let r=(0,I.useRelayEnvironment)(),{sendAnalyticsEvent:s}=(0,h.s)(),o=(0,g.useCallback)(a=>{let i=1===a.length?a[0]?.id:null;i&&i!==l?.id&&(s("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:l?.id??"",issueTypeId:"UNSET"===i?"":i??"",issueIds:[...n]}),function({environment:e,input:{ids:t,issueTypeId:n},onCompleted:a,onError:l}){let i={ids:t};n!==_?i.issueTypeId=n:i.unsetIssueType=!0,(0,I.commitMutation)(e,{mutation:N,variables:{input:i},updater:e=>F(e,t,i.issueTypeId),optimisticUpdater:e=>F(e,t,i.issueTypeId),onCompleted:e=>a&&a(e),onError:e=>l&&l(e)})}({...{environment:r,onError:t=>{e?.(t)}},input:{ids:[...n],issueTypeId:i},onCompleted:({updateIssuesBulk:e})=>{t?.(e?.jobId||void 0)}}))},[l?.id,r,n,t,e,s]);return(0,a.jsx)(T,{...i,onSelectionChange:o,showUnset:!0,activeIssueType:l})}try{T.displayName||(T.displayName="IssueTypePicker")}catch{}try{w.displayName||(w.displayName="IssueTypePickerRelay")}catch{}try{A.displayName||(A.displayName="IssueTypePickerFetcher")}catch{}try{E.displayName||(E.displayName="BulkIssueIssueTypePicker")}catch{}try{D.displayName||(D.displayName="BulkIssueIssueTypePickerTsqWithRelayWrapper")}catch{}try{P.displayName||(P.displayName="BulkIssueIssueTypePickerRelay")}catch{}},37351:(e,t,n)=>{n.d(t,{_:()=>a});function a(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}},38102:(e,t,n)=>{n.d(t,{N7:()=>b});var a=n(36301),l=n(77065),i=n(24212);function r(e){return(0,i.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function s(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}var o=n(99223),d=n(71315),c=n(94416),u=n(69599),m=n(88057);let p=!1,g=0,f=Date.now(),h=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),y=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function b(e,t={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(S.some(t=>e.includes(t)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let n=Error(),a=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);k(x({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${a}`,stacktrace:r(n),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content,catalogServiceHash:document.head?.querySelector('meta[name="current-catalog-service-hash"]')?.content},t));return}e.name&&("AbortError"===e.name||h.has(e.name)&&y.has(e.message)||e.name.startsWith("ApiError")&&y.has(e.message))||k(x({type:e.name,value:e.message,stacktrace:r(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content,catalogServiceHash:e.catalogServiceHash||document.head?.querySelector('meta[name="current-catalog-service-hash"]')?.content},t))}async function k(e){if(!(!v&&!p&&g<10&&(0,l.TT)()))return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(e.error.stacktrace.some(e=>C.test(e.filename)||C.test(e.function))){p=!0;return}g++;try{await fetch(t,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function x(e,t={}){let n={...t};return(0,u.G7)("failbot_report_error_react_apps_on_page")&&!n.reactAppName&&(n.reactAppName=function(e){let t=function(){let e=new Set;for(let[t,n]of j)for(let a of document.querySelectorAll(t))if(a instanceof HTMLElement){let t=a.getAttribute(n);t&&e.add(t)}return Array.from(e)}();if(!t||!t.length||!e||!e.length)return;let n=new Set;for(let a of e){if(!a||!a.filename)continue;let e=a.filename.split(/[\\/]/).pop();if(!e||n.has(e))continue;n.add(e);let l=t.find(t=>e.toLowerCase().includes(t.toLowerCase()));if(l)return l}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=s("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=s("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let n=s("meta[name=analytics-location-params]");for(let e of(n&&(t+=(t?"&":"?")+n.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let n=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${n[0]}($|=)`,"g"),`$1${n[1]}$2`)}return t}()}`||window.location.href,readyState:document.readyState,referrer:(0,c.dR)(),timeSinceLoad:Math.round(Date.now()-f),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,a.y)();return`anonymous-${t}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:o.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,m.xA)()},n)}let C=/(chrome|moz|safari)-extension:\/\//,v=!1;d.cg?.addEventListener("pageshow",()=>v=!1),d.cg?.addEventListener("pagehide",()=>v=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{b(e.data.error)});let S=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],j=[["react-app","app-name"],["react-partial","partial-name"]]},39619:(e,t,n)=>{n.d(t,{HS:()=>r,Oc:()=>i,Tv:()=>d,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>o,qR:()=>l});var a=n(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,a._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,a._)(this,"reference",void 0),(0,a._)(this,"openPanel",void 0),(0,a._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,a._)(this,"context",void 0),this.context=e}};function l(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function r(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function o(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function d(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},39759:(e,t,n)=>{n.d(t,{A:()=>a});let a=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}},40058:(e,t,n)=>{n.d(t,{T:()=>S});var a=n(74848),l=n(21728),i=n(77430),r=n(38621),s=n(94236),o=n(99511),d=n(46251),c=n(69726),u=n(72511),m=n(5524),p=n(96540),g=n(23470);let f=p.memo(function(e){let t,n,r,s,o,d=(0,l.c)(19),{user:c,isCurrent:u,onSelect:p,shouldSetAsDiv:g,count:f,position:h}=e,y=g?"div":"li";d[0]!==p||d[1]!==c?(t=()=>{p&&p(c)},d[0]=p,d[1]=c,d[2]=t):t=d[2];let b=h+1,k=c.primaryAvatarUrl;return d[3]!==c.path?(n=c.path.startsWith("/apps/"),d[3]=c.path,d[4]=n):n=d[4],d[5]!==n||d[6]!==c.primaryAvatarUrl?(r=(0,a.jsx)(m.l.LeadingVisual,{children:(0,a.jsx)(i.r,{src:k,square:n})}),d[5]=n,d[6]=c.primaryAvatarUrl,d[7]=r):r=d[7],d[8]!==c.name?(s=(0,a.jsx)(m.l.Description,{truncate:!0,children:c.name}),d[8]=c.name,d[9]=s):s=d[9],d[10]!==f||d[11]!==u||d[12]!==y||d[13]!==t||d[14]!==b||d[15]!==r||d[16]!==s||d[17]!==c.login?(o=(0,a.jsxs)(m.l.Item,{as:y,selected:u,onSelect:t,"aria-setsize":f,"aria-posinset":b,children:[r,c.login,s]}),d[10]=f,d[11]=u,d[12]=y,d[13]=t,d[14]=b,d[15]=r,d[16]=s,d[17]=c.login,d[18]=o):o=d[18],o});try{f.displayName||(f.displayName="UserItem")}catch{}let h={scrollableUserList:"UsersList-module__scrollableUserList--v1HiT"};function y(e){let t,n=(0,l.c)(2);return n[0]!==e?(t=e.users.length>20?(0,a.jsx)(k,{...e}):(0,a.jsx)(b,{...e}),n[0]=e,n[1]=t):t=n[1],t}function b(e){let t,n,i=(0,l.c)(11),{users:r,currentUser:s,onSelect:o,style:d}=e;if(i[0]!==s?.login||i[1]!==o||i[2]!==r){let e;i[4]!==s?.login||i[5]!==o||i[6]!==r.length?(e=(e,t)=>(0,a.jsx)(f,{user:e,isCurrent:e.login===s?.login,onSelect:o,count:r.length,position:t},e.login),i[4]=s?.login,i[5]=o,i[6]=r.length,i[7]=e):e=i[7],t=r.map(e),i[0]=s?.login,i[1]=o,i[2]=r,i[3]=t}else t=i[3];return i[8]!==d||i[9]!==t?(n=(0,a.jsx)(m.l,{role:"menu",style:d,className:h.scrollableUserList,selectionVariant:"single",children:t}),i[8]=d,i[9]=t,i[10]=n):n=i[10],n}function k(e){let t,n,i=(0,l.c)(8),{users:r,currentUser:s,onSelect:o,style:d}=e;return i[0]!==s?.login||i[1]!==o||i[2]!==r.length?(t=(e,t)=>(0,a.jsx)(f,{user:e,isCurrent:e.login===s?.login,onSelect:o,shouldSetAsDiv:!0,count:r.length,position:t},e.login),i[0]=s?.login,i[1]=o,i[2]=r.length,i[3]=t):t=i[3],i[4]!==d||i[5]!==t||i[6]!==r?(n=(0,a.jsx)(g.F,{items:r,itemHeight:33,style:d,makeKey:x,shouldUseActionList:!0,renderItem:t,className:h.scrollableUserList}),i[4]=d,i[5]=t,i[6]=r,i[7]=n):n=i[7],n}function x(e){return e.login}try{y.displayName||(y.displayName="UsersList")}catch{}try{b.displayName||(b.displayName="FullUsersList")}catch{}try{k.displayName||(k.displayName="VirtualUsersList")}catch{}var C=n(4559);let v={truncatedUserText:"UserSelector-module__truncatedUserText--hOMue",userSearchInput:"UserSelector-module__userSearchInput--J_Pgo",filterResultItem:"UserSelector-module__filterResultItem--JqRZP"};function S(e){var t,n;let o,d,c,u,m,g,f,h,b,k,x,S,L,T,w,A=(0,l.c)(52),{defaultText:E,usersState:D,currentUser:P,onSelect:K,hotKey:R,onOpenChange:M,renderCustomFooter:V,size:B,showTypedInUser:O,width:U,label:$}=e,H=void 0!==O&&O,z=void 0===U?"large":U,q=void 0===$?"":$,[W,G]=(0,p.useState)("");A[0]!==W||A[1]!==H||A[2]!==D.users?(o=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(D.users,W),d=H&&(t=W,n=o,!!t&&(0===n.length||n.length>1||1===n.length&&!!n[0]&&n[0].login.toLowerCase()!==t.toLowerCase())),A[0]=W,A[1]=H,A[2]=D.users,A[3]=o,A[4]=d):(o=A[3],d=A[4]);let Q=d,X=0===o.length&&!Q,Y=!D.loading&&!D.error&&X;return A[5]!==Y?(c=()=>{Y&&(0,C.i)("Nothing to show")},A[5]=Y,A[6]=c):c=A[6],A[7]!==Y||A[8]!==W?(u=[Y,W],A[7]=Y,A[8]=W,A[9]=u):u=A[9],(0,p.useEffect)(c,u),A[10]!==Y||A[11]!==M?(m=e=>{M&&M(e),Y&&(0,C.i)("Nothing to show")},A[10]=Y,A[11]=M,A[12]=m):m=A[12],A[13]!==P?(g=(0,a.jsx)("div",{className:"mr-2",children:P?(0,a.jsx)(i.r,{size:16,src:P.primaryAvatarUrl,square:P.path.startsWith("/apps/")}):(0,a.jsx)(r.PeopleIcon,{size:"small",className:"fgColor-muted"})}),A[13]=P,A[14]=g):g=A[14],A[15]!==P||A[16]!==E||A[17]!==q?(f=(0,a.jsx)("div",{className:v.truncatedUserText,children:P?(0,a.jsxs)("span",{children:[q,P.login]}):(0,a.jsx)("span",{children:E})}),A[15]=P,A[16]=E,A[17]=q,A[18]=f):f=A[18],A[19]!==g||A[20]!==f?(h=(0,a.jsxs)("div",{className:"d-flex",children:[g,f]}),A[19]=g,A[20]=f,A[21]=h):h=A[21],A[22]!==R||A[23]!==B||A[24]!==h?(b=(0,a.jsx)(s.W.Button,{"data-hotkey":R,size:B,"data-testid":"user-selector-button",children:h}),A[22]=R,A[23]=B,A[24]=h,A[25]=b):b=A[25],A[26]!==W?(k=(0,a.jsx)(j,{defaultText:W,onFilterChange:G}),A[26]=W,A[27]=k):k=A[27],A[28]!==W||A[29]!==K||A[30]!==Q||A[31]!==X||A[32]!==D.error||A[33]!==D.loading?(x=D.loading?(0,a.jsx)(I,{}):D.error?(0,a.jsx)(N,{}):(0,a.jsxs)(a.Fragment,{children:[X&&(0,a.jsx)(F,{}),Q&&(0,a.jsx)(_,{filterText:W,onSelect:K})]}),A[28]=W,A[29]=K,A[30]=Q,A[31]=X,A[32]=D.error,A[33]=D.loading,A[34]=x):x=A[34],A[35]!==P||A[36]!==o||A[37]!==K||A[38]!==V?(S=o.length>0&&(0,a.jsx)(y,{users:o,currentUser:P,onSelect:K,style:V?{paddingBottom:"10px",paddingTop:"4px"}:{paddingTop:"4px"}}),A[35]=P,A[36]=o,A[37]=K,A[38]=V,A[39]=S):S=A[39],A[40]!==V?(L=V?.(),A[40]=V,A[41]=L):L=A[41],A[42]!==k||A[43]!==x||A[44]!==S||A[45]!==L||A[46]!==z?(T=(0,a.jsxs)(s.W.Overlay,{width:z,children:[k,x,S,L]}),A[42]=k,A[43]=x,A[44]=S,A[45]=L,A[46]=z,A[47]=T):T=A[47],A[48]!==b||A[49]!==T||A[50]!==m?(w=(0,a.jsx)("div",{children:(0,a.jsxs)(s.W,{onOpenChange:m,children:[b,T]})}),A[48]=b,A[49]=T,A[50]=m,A[51]=w):w=A[51],w}function j(e){let t,n,i=(0,l.c)(5),{onFilterChange:s,defaultText:d}=e;return i[0]!==s?(t=e=>s(e.target.value),i[0]=s,i[1]=t):t=i[1],i[2]!==d||i[3]!==t?(n=(0,a.jsx)("div",{className:"p-2 border-bottom border-color-border-default",children:(0,a.jsx)(o.A,{leadingVisual:r.SearchIcon,value:d,placeholder:"Find a user...",onChange:t,className:v.userSearchInput})}),i[2]=d,i[3]=t,i[4]=n):n=i[4],n}function I(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(d.B,{justify:"center",className:"p-2",children:(0,a.jsx)(c.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function N(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(u.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function F(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(d.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function _(e){let t,n,i,r=(0,l.c)(8),{filterText:s,onSelect:o}=e;return r[0]!==s||r[1]!==o?(t=()=>{o&&o({login:s,name:s,path:"",primaryAvatarUrl:""})},r[0]=s,r[1]=o,r[2]=t):t=r[2],r[3]!==s?(n=(0,a.jsxs)(a.Fragment,{children:["Filter on author\xa0",(0,a.jsx)("span",{className:"text-bold",children:s})]}),r[3]=s,r[4]=n):n=r[4],r[5]!==t||r[6]!==n?(i=(0,a.jsx)(m.l.Item,{role:"none",onSelect:t,className:v.filterResultItem,children:n}),r[5]=t,r[6]=n,r[7]=i):i=r[7],i}try{S.displayName||(S.displayName="UserSelector")}catch{}try{j.displayName||(j.displayName="UserFilter")}catch{}try{I.displayName||(I.displayName="Loading")}catch{}try{N.displayName||(N.displayName="LoadingFailed")}catch{}try{F.displayName||(F.displayName="UsersZeroState")}catch{}try{_.displayName||(_.displayName="UsersTypedInUser")}catch{}},40064:(e,t,n)=>{n.d(t,{V:()=>m});var a=n(74848),l=n(96540),i=n(43258),r=n(38621),s=n(52870),o=n(56149);let d={info:"",success:"Toast--success",error:"Toast--error"},c={info:(0,a.jsx)(r.InfoIcon,{}),success:(0,a.jsx)(r.CheckIcon,{}),error:(0,a.jsx)(r.StopIcon,{})},u=({message:e,timeToLive:t,icon:n,type:i="info",role:r="log"})=>{let[u,m]=l.useState(!0),{safeSetTimeout:p}=(0,s.A)();return(0,l.useEffect)(()=>{t&&p(()=>m(!1),t-300)},[p,t]),(0,a.jsx)(o.ZL,{children:(0,a.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,a.jsxs)("div",{className:`Toast ${d[i]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${i}`,role:r,children:[(0,a.jsx)("span",{className:"Toast-icon",children:n||c[i]}),(0,a.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,l.useContext)(i.T8);return(0,a.jsxs)(a.Fragment,{children:[e.map((e,t)=>(0,a.jsx)(u,{message:e.message,icon:e.icon,timeToLive:i.Qn,type:e.type,role:e.role},t)),t&&(0,a.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}},40846:(e,t,n)=>{n.d(t,{C:()=>s});var a=n(74848),l=n(82550),i=n(87448),r=n(96540);let s=({label:e,ariaLabel:t,testId:n,viewerDidAuthor:s,variant:o,leadingElement:d,className:c})=>{let u=r.useRef(null),[m,p]=(0,l.B)({contentRef:u,"aria-label":t});return(0,a.jsxs)(i.JU,{variant:o||"secondary","data-testid":n,"aria-label":t,className:c,ref:u,sx:s?{borderColor:"accent.muted"}:{},...m,children:[d,e,p]})};try{s.displayName||(s.displayName="CommentHeaderBadge")}catch{}},41057:(e,t,n)=>{n.d(t,{Q:()=>d});var a=n(74848),l=n(66565),i=n(96540);let r={container:"IssuesLoadingSkeleton-module__container--Z01Fm"},s={sm:16,md:20,lg:24,xl:32},o={rounded:"3px",pill:"100px",elliptical:"50%"},d=({height:e,width:t,borderRadius:n="rounded"})=>{let[d,c]=(0,i.useState)("100%");(0,i.useEffect)(()=>{"random"===t&&c(`${Math.floor(40*Math.random()+40)}%`)},[t]);let u="string"==typeof e&&e in s?`${s[e]}px`:e,m="random"===t?d:"string"==typeof t&&t in s?`${s[t]}px`:t,p="string"==typeof n&&n in o?o[n]:n;return(0,a.jsx)(l.f,{"data-testid":"issues-loading-skeleton",className:r.container,style:{width:m,height:u,borderRadius:p}})};try{d.displayName||(d.displayName="IssuesLoadingSkeleton")}catch{}},41248:(e,t,n)=>{n.d(t,{m:()=>o});var a=n(74848),l=n(46173),i=n(40846);let r={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},s={MEMBER:({viewerDidAuthor:e,org:t})=>`${e?"You are":"This user is"} a member of the ${t} organization.`,OWNER:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} the owner of the ${t} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} been invited to collaborate on the ${t} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} previously committed to the ${t} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} a first-time contributor to the ${t} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},o=({association:e,org:t,repo:n,viewerDidAuthor:o})=>{let d=r[e]?e:"NONE";if("NONE"===d)return null;let c=s[d]({viewerDidAuthor:o??!1,org:t,repo:n});return(0,a.jsx)(i.C,{label:r[d],ariaLabel:c,testId:l.Y.commentAuthorAssociation,viewerDidAuthor:o})};try{o.displayName||(o.displayName="CommentAuthorAssociation")}catch{}},41305:(e,t,n)=>{n.d(t,{w:()=>c});var a=n(74848),l=n(2892),i=n(73017),r=n(57352),s=n(87448),o=n(96540);let d={labelsListContainer:"LabelsList-module__labelsListContainer--bS7BO",labelDescriptionTooltip:"LabelsList-module__labelDescriptionTooltip--LvHc0",labelLink:"LabelsList-module__labelLink--hHZBM"};function c({labels:e,testId:t,sx:n,onDelete:c,emptyText:u="No labels"}){let m=(0,o.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),p=(0,o.useCallback)(e=>`${m}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[m]);return(0,a.jsx)(s.az,{sx:n,tabIndex:-1,"data-testid":t,className:d.labelsListContainer,children:e.length>0?e.sort((e,t)=>e.name===t.name?0:e.name>t.name?1:-1).map(e=>(0,a.jsx)(s.m_,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{visibility:e.description?"visible":"hidden"},className:d.labelDescriptionTooltip,children:(0,a.jsxs)(r.A,{href:p(e),muted:!0,"aria-describedby":`${e.id}-tooltip`,className:d.labelLink,children:[(0,a.jsx)(l.a,{text:(0,a.jsx)(i.JR,{html:e.nameHTML}),onDelete:c?()=>c(e.id):void 0,fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,a.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):u})}try{c.displayName||(c.displayName="LabelsList")}catch{}},41848:(e,t,n)=>{n.d(t,{k:()=>a});let a={mutationErrorMessage:"Something went wrong while setting the field value. Please try again.",loadingFieldsTooltipMessage:"Couldn't load issue fields",loadingFieldsErrorMessage:"We couldn't load the issue fields. Please try again later or if the problem persists contact support",setValue:"None yet",reloadWarningMessage:"Reload site? Changes you made might not be saved.",textValidationMaxLength:(e,t)=>`Value cannot be more than ${t} characters (${e})`,textValidationEmpty:"Text cannot be empty.",textEditorLabel:e=>`The value for the ${e} field`,textEditorToolbarLabel:e=>`Toolbar for ${e} field`,textEditorPlaceholder:"Type text\u2026",numberEditorPlaceholder:"Type number\u2026",numberValidation:{errorMessage:"Must contain only numbers, decimals, and optional negative sign",max:e=>`Cannot be greater than ${e}`,min:e=>`Cannot be less than ${e}`},textEditorUpdateButton:"Update",textEditorRemoveFieldButtonLabel:e=>`Remove field ${e}`,textEditorUpdateButtonAriaLabel:e=>`Update field ${e} (press enter to submit)`,textEditorCancelButton:"Cancel",errorUpdatingIssueField:"There was an error updating this value. Please try again.",editFieldValueLabel:e=>`Edit ${e}`}},42257:(e,t,n)=>{n.d(t,{d:()=>r});var a=n(74848),l=n(99896);let i={ChecksStatusBadge:"AsyncChecksStatusBadge-module__ChecksStatusBadge--Ddd3K"};function r({status:e,oid:t,repo:n,badgeProps:r={},descriptionString:s=""}){let[o,d]=(0,l.ym)(t,n);return e?(0,a.jsx)(l.B6,{disablePopover:!1,size:"small",statusRollup:e,combinedStatus:o,descriptionText:s,onWillOpenPopup:d,buttonClassName:i.ChecksStatusBadge,...r}):null}try{r.displayName||(r.displayName="AsyncChecksStatusBadge")}catch{}},43147:(e,t,n)=>{n.d(t,{w:()=>o});var a=n(74848),l=n(98755),i=n(30459),r=n(16790),s=n(68534);function o({sha:e,direction:t="s"}){let{sendAnalyticsEvent:n}=(0,i.s)(),{loggingPrefix:o,loggingPayload:d}=(0,r.xe)(),c=(0,r.eX)();return(0,a.jsx)("div",{onClick:()=>{c&&n(`${o}click`,"COPY_SHA_CLICKED",d)},children:(0,a.jsx)(l.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,s.F)(e)}`,tooltipProps:{direction:t},size:"small"})})}try{o.displayName||(o.displayName="CopySHA")}catch{}},43570:(e,t,n)=>{n.d(t,{H:()=>s,k:()=>o});var a=n(74848),l=n(41848),i=n(4889);let r=/^-?\d+(\.\d+)?$/,s=e=>{if(""===e)return null;if(!r.test(e))return l.k.numberValidation.errorMessage;let t=parseFloat(e);return t>0x7fffffff?l.k.numberValidation.max(0x7fffffff):t<-0x80000000?l.k.numberValidation.min(-0x80000000):null},o=e=>(0,a.jsx)(i.e,{...e,inputProps:{placeholder:l.k.numberEditorPlaceholder,type:"number"},validate:s,isNumber:!0,className:e.className});try{r.displayName||(r.displayName="NUMBER_PATTERN")}catch{}try{o.displayName||(o.displayName="IssueFieldNumberEditor")}catch{}},43755:(e,t,n)=>{n.d(t,{J:()=>l});var a=n(79634);let l=()=>{let e=(0,a.X)();return{currentUser:e&&e.current_user?e.current_user:null}}},43952:(e,t,n)=>{n.d(t,{C5:()=>I,eJ:()=>_,Bk:()=>F,zD:()=>N});var a=n(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};l.hash="76d2f86529ad47c916131104f23ee735";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";var r=n(67126),s=n(25779),o=n(90921),d=n(43258),c=n(5524),u=n(96540),m=n(18312),p=n(93513),g=n(2495),f=n(16810),h=n(21798),y=n(73867),b=n(73189),k=n(20177);let x={hiddenPlaceholder:"Milestone-module__hiddenPlaceholder--b_yit"},C=({progress:e})=>(0,a.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":k.Y.milestoneProgressIcon,children:[e<1?null:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,a.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,a.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});try{C.displayName||(C.displayName="ProgressIcon")}catch{}function v({milestone:e,anchorProps:t}){return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)(c.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":k.Y.milestoneContainer,...t,onClick:b.l,children:[(0,a.jsx)(c.l.LeadingVisual,{children:(0,a.jsx)(C,{progress:e.progressPercentage/100})}),e.title,(0,a.jsx)(c.l.Description,{variant:"block",children:(0,a.jsx)(y.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,a.jsx)("div",{className:x.hiddenPlaceholder,...t})})}try{v.displayName||(v.displayName="Milestone")}catch{}let S=()=>(0,a.jsx)(g.h,{title:p.k.sectionTitles.milestones}),j=({sectionHeader:e,milestone:t,sx:n,className:l})=>(0,a.jsx)(f.w,{id:"sidebar-milestones-section",sx:n,className:l,sectionHeader:e,emptyText:t?void 0:p.k.emptySections.milestones,children:(0,a.jsx)(c.l,{variant:"full",children:(0,a.jsx)(v,{milestone:t})})});function I({milestone:e,onSelectionChange:t,viewerCanSetMilestone:n,className:l,sx:i,...r}){let s=n?(0,a.jsx)(o.D,{onSelectionChange:e=>{t(e?.[0]||null)},readonly:n,canCreateMilestone:n,activeMilestone:e,anchorElement:(e,t)=>(0,a.jsx)(h.X,{title:p.k.sectionTitles.milestones,buttonProps:e,ref:t}),showMilestoneDescription:!0,...r}):(0,a.jsx)(S,{});return(0,a.jsx)(j,{sx:i,className:l,sectionHeader:s,milestone:e})}let N=l,F=i;function _({issue:e,onIssueUpdate:t,insideSidePanel:n,readonly:l}){let i=(0,m.useFragment)(F,e),{repository:{owner:{login:c},name:g},id:f,viewerCanSetMilestone:y}=i,{milestone:b}=(0,m.useFragment)(N,i),{addToast:k}=(0,d.Y6)(),x=(0,m.useRelayEnvironment)(),C=(0,u.useCallback)(e=>{(0,s.v)({environment:x,input:{issueId:f,milestone:e.length>0?e.at(-1):null},onError:()=>k({type:"error",message:r.S.couldNotUpdateMilestone}),onCompleted:t})},[k,x,f,t]),v=(0,u.useMemo)(()=>{let e=l||!y;return e?(0,a.jsx)(S,{}):(0,a.jsx)(o.D,{repo:g,owner:c,onSelectionChange:C,anchorElement:(e,t)=>(0,a.jsx)(h.X,{title:p.k.sectionTitles.milestones,buttonProps:e,ref:t}),readonly:e,canCreateMilestone:y,activeMilestone:b??null,insidePortal:n,showMilestoneDescription:!0,showNoMatchItem:!0})},[l,y,g,c,C,b,n]);return(0,a.jsx)(j,{sectionHeader:v,milestone:b??null})}try{S.displayName||(S.displayName="ReadonlyMilestonesSectionHeader")}catch{}try{j.displayName||(j.displayName="MilestonesSection")}catch{}try{I.displayName||(I.displayName="CreateIssueMilestonesSection")}catch{}try{_.displayName||(_.displayName="EditIssueMilestonesSection")}catch{}},44251:(e,t,n)=>{n.d(t,{k:()=>s});var a=n(21728),l=n(96540),i=n(69599),r=n(53419);function s(){let e,t,n,s,o=(0,a.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G7)("issue_fields_report_usage"),o[0]=e):e=o[0];let d=e,c=(0,l.useRef)(null);o[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{c.current=Date.now()},o[1]=t):t=o[1];let u=t;o[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{if(!d)return;let t=c.current?Date.now()-c.current:void 0;c.current=null;var n={...e,interactionDuration:t};let a={};for(let[e,t]of Object.entries(n))if(void 0!==t){let n=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();Array.isArray(t)?a[n]=t.join(","):a[n]=t}(0,r.BI)("issue_fields_usage",{...a,version:"1.0.1"})},o[2]=n):n=o[2];let m=n;return o[3]===Symbol.for("react.memo_cache_sentinel")?(s={markInteractionStart:u,reportUsage:m},o[3]=s):s=o[3],s}},44953:(e,t,n)=>{n.d(t,{_:()=>a});function a(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}},46173:(e,t,n)=>{n.d(t,{Y:()=>a});let a={avatarLink:"avatar-link",avatarName:"avatar-name",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},46377:(e,t,n)=>{n.d(t,{_:()=>c});var a=n(74848),l=n(5524),i=n(21373),r=n(69497),s=n(87448),o=n(96540);let d={title:"SharedPicker-module__title--CNycE",pickerContentContainer:"SharedPicker-module__pickerContentContainer--Rgp_C",pickerLabelText:"SharedPicker-module__pickerLabelText--JSlao",leadingIconContainer:"SharedPicker-module__leadingIconContainer--LQhJ_",dashedPickerButton:"SharedPicker-module__dashedPickerButton--VyqkO",hotkeyBadge:"SharedPicker-module__hotkeyBadge--nXrIA"},c=(0,o.forwardRef)(({leadingIconElement:e,anchorText:t,anchorProps:n,sharedPickerMainValue:c,ariaLabel:u,readonly:m,size:p,nested:g=!1,leadingIcon:f,hotKey:h,ariaLabelledBy:y,compressedTitle:b,className:k},x)=>{let C={"aria-labelledby":y,"aria-label":y?void 0:u,"aria-description":o.useMemo(()=>{let e;if(c)return e="string"==typeof c?c:b||"",`Currently selected: ${e}`},[c,b]),"aria-disabled":g?m:void 0,disabled:m};if(g){let i=c?e:f&&(0,a.jsx)(f,{});return(0,a.jsxs)(l.l.Item,{...n,...C,role:"menuitem",children:[i?(0,a.jsx)(l.l.LeadingVisual,{children:i}):null,t]})}return c?(0,a.jsx)(i.Q,{ref:x,size:p||"small",...n,...C,className:k,children:(0,a.jsxs)("div",{className:d.pickerContentContainer,children:[(0,a.jsx)("div",{className:d.pickerLabelText,children:t}),(0,a.jsx)(s.az,{sx:{display:e?"flex":"none","> *:not(:last-child)":{}},className:d.leadingIconContainer,children:e}),(0,a.jsx)("div",{className:d.title,children:(0,a.jsx)(r.A,{title:b??c.toString()??"",children:c})})]})}):(0,a.jsx)(i.Q,{ref:x,size:"small",leadingVisual:f,trailingVisual:h?()=>(0,a.jsx)("div",{className:d.hotkeyBadge,children:h}):void 0,className:k?`${d.dashedPickerButton} ${k}`:d.dashedPickerButton,...C,...n,children:t})});c.displayName="SharedPicker"},47544:(e,t,n)=>{n.d(t,{JF:()=>i,R1:()=>r,kP:()=>l});let a="/_ghui/item-pickers";function l(e){return`${a}/${e}`}function i(e,t={}){let n=new URLSearchParams(t).toString();return`${l(e)}${n&&`?${n}`}`}function r(){return`${a}/bulk_actions`}},47685:(e,t,n)=>{n.d(t,{e:()=>R,N:()=>K});var a,l,i=n(74848);let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[n,a,l,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[n,a,l,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[l,i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"616cce00c4f4fa38692beac78606b059",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}}}();r.hash="48fd58d3a414612124beb28d391e3930";let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};s.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var o=n(38621),d=n(18312),c=n(98338),u=n(96480);let m=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[e,t,{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[e,t,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}}();m.hash="9273ddd168cea9d6445f53cc752642e5";var p=n(41057),g=n(71315),f=n(5524);n(69487);var h=n(66108);let y={actionListTitle:"IssueTemplateItem-module__actionListTitle--wBUhO",templateItemContainer:"IssueTemplateItem-module__templateItemContainer--LLWZY"},b=({filename:e,onTemplateSelected:t,name:n,about:a,link:l,externalLink:r,trailingIcon:s})=>(0,i.jsxs)(f.l.LinkItem,{as:h.N,to:l??"#",target:r?"_blank":void 0,onClick:n=>{n.altKey||n.ctrlKey||n.metaKey||n.shiftKey||(r||l||(n.preventDefault(),n.stopPropagation()),t(e))},className:y.templateItemContainer,children:[(0,i.jsx)("span",{className:y.actionListTitle,children:n}),(0,i.jsx)(f.l.Description,{variant:"block",children:a}),(0,i.jsx)(f.l.TrailingVisual,{children:s??(0,i.jsx)(o.ArrowRightIcon,{})})]},e);try{b.displayName||(b.displayName="IssueTemplateItem")}catch{}var k=n(81724),x=n(94007);let C=({nameWithOwner:e,onTemplateSelected:t})=>(0,i.jsx)(b,{filename:k.$K,onTemplateSelected:()=>t?.(k.$K,k.t7.BlankIssue),name:c.k.blankIssueName,about:c.k.blankIssueDescription,link:t?void 0:(0,x.Qy)(e,k.$K)});try{C.displayName||(C.displayName="BlankIssueItem")}catch{}var v=n(92858);let S={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};S.hash="89d8106fd30fe009b4d13c1f4908f32e";var j=n(73189);let I=({repositoryContactLink:e})=>{let t=(0,d.useFragment)(S,e);return(0,i.jsx)(b,{filename:t.name,onTemplateSelected:j.l,name:t.name,link:t.url,about:t.about,externalLink:!0,trailingIcon:(0,i.jsx)(o.LinkExternalIcon,{})})};try{I.displayName||(I.displayName="ExternalLinkTemplateRow")}catch{}let N={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};N.hash="4707734c7aff8e836f17a948f0fc6e8d";let F=({nameWithOwner:e,form:t,onTemplateSelected:n})=>{let a=(0,d.useFragment)(N,t);return(0,i.jsx)(b,{filename:a.filename,onTemplateSelected:e=>n?.(e,k.t7.IssueForm),name:a.name,about:a.description,link:n?void 0:(0,x.Qy)(e,a.filename)})};try{F.displayName||(F.displayName="IssueFormRow")}catch{}let _={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};_.hash="2047157ce521e245c1030871b4d976b7";let L=({nameWithOwner:e,template:t,onTemplateSelected:n})=>{let a=(0,d.useFragment)(_,t);return(0,i.jsx)(b,{filename:a.filename,onTemplateSelected:e=>n?.(e,k.t7.IssueTemplate),name:a.name,about:a.about,link:n?void 0:(0,x.Qy)(e,a.filename)})};try{L.displayName||(L.displayName="IssueTemplateRow")}catch{}let T=({link:e})=>(0,i.jsx)(b,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:j.l,name:c.k.securityPolicyName,about:c.k.securityPolicyDescription,trailingIcon:(0,i.jsx)(o.ShieldIcon,{})});try{T.displayName||(T.displayName="SecurityPolicyRow")}catch{}var w=n(89946),A=n(50167);function E({repository:e,onTemplateSelected:t,className:n,setIsNavigatingToNew:a}){let{optionConfig:l,displayMode:r}=(0,u.a)(),s=(0,d.useFragment)(m,e);if(!s.hasAnyTemplates&&!s.isBlankIssuesEnabled&&!s.isSecurityPolicyEnabled)return(0,i.jsx)("span",{children:c.k.noTemplates});if(l.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let t=null;if(e.issueForms){if(1===e.issueForms.length)t=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates)if(t){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(t=e.issueTemplates[0].filename);if(!t)return null;let n=g.fV?.origin??"",a=`${n}/${e.nameWithOwner}`;return(0,x.RG)({repositoryAbsolutePath:a,fileName:t})}(s);if(e)return a?.(!0),l.navigate?.(e),null;a?.(!1)}let o=[...s.issueForms||[],...s.issueTemplates||[]].sort((e,t)=>e.filename.localeCompare(t.filename)).map(e=>"IssueForm"===e.__typename?(0,i.jsx)(F,{onTemplateSelected:t,form:e,nameWithOwner:s.nameWithOwner},e.filename):(0,i.jsx)(L,{onTemplateSelected:t,template:e,nameWithOwner:s.nameWithOwner},e.filename)),p=(0,i.jsxs)(i.Fragment,{children:[o,s.isBlankIssuesEnabled&&(0,i.jsx)(C,{onTemplateSelected:t,nameWithOwner:s.nameWithOwner},k.$K),s.isSecurityPolicyEnabled&&(0,i.jsx)(T,{link:s.securityPolicyUrl},"security_policy"),s.contactLinks&&s.contactLinks.map(e=>(0,i.jsx)(I,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.l,{className:n,"data-testid":v.Y.templateList,showDividers:!0,variant:"inset",children:l.showRepositoryPicker&&r===A.q.TemplatePicker?(0,i.jsxs)(f.l.Group,{children:[(0,i.jsx)(f.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!l.insidePortal&&"border-top-0"} ${w.A.templateHeader}`,children:c.k.templatesFormsTitle}),p]}):p})})}let D=["220px","250px","290px","210px"].map((e,t)=>({id:`skeleton-${t}`,width:e}));try{E.displayName||(E.displayName="TemplateList")}catch{}try{(a=function(){let{optionConfig:e}=(0,u.a)();return(0,i.jsx)("div",{className:`${w.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:D.map(({id:e,width:t})=>(0,i.jsx)(p.Q,{height:"xl",width:t},e))})}).displayName||(a.displayName="TemplateListLoading")}catch{}try{(l=function({id:e}){return(0,i.jsx)("span",{id:e,children:c.k.noTemplates})}).displayName||(l.displayName="NoTemplates")}catch{}let P={disabledStateGap:"TemplateListPane-module__disabledStateGap--AF9Nn"};function K({repositoryId:e,...t}){let n=(0,d.useLazyLoadQuery)(r,{id:e});return n.node?(0,i.jsx)(R,{repository:n.node,...t}):null}function R({repository:e,descriptionId:t,...n}){let{optionConfig:a}=(0,u.a)(),{insidePortal:l}=a,r=(0,d.useFragment)(s,e);return(0,i.jsx)("div",{children:r.hasIssuesEnabled?(0,i.jsx)(E,{repository:r,...n,className:`${!l?`border borderColor-muted rounded-2 overflow-hidden
                ${a.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`:""}`}):(0,i.jsxs)("div",{className:`${P.disabledStateGap} d-flex flex-row flex-items-center m-3`,children:[(0,i.jsx)(o.InfoIcon,{}),(0,i.jsx)("span",{id:t,children:c.k.issuesDisabledForRepo})]})})}try{K.displayName||(K.displayName="TemplateListPaneFromRepo")}catch{}try{R.displayName||(R.displayName="TemplateListInternal")}catch{}},47817:(e,t,n)=>{n.d(t,{pf:()=>M,S7:()=>O,PT:()=>B,Dd:()=>V});var a=n(74848);let l=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[e,t,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null}}();l.hash="5de1a91f4e1d4ecaa3f0a9efbb82f741";let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[e],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null},e,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null}}();i.hash="ed89df93a2fdaab7d32e7dfddf950293";var r=n(69599),s=n(53419),o=n(67126),d=n(36202),c=n(5547),u=n(43258),m=n(30459),p=n(96540),g=n(18312),f=n(93513),h=n(89252),y=n(2495),b=n(16810),k=n(21798),x=n(45244),C=n(38621),v=n(26108),S=n(26607),j=n(55007);let I={copilotDraftType:"CopilotTypesSection-module__copilotDraftType--NVquT",copilotLoadingText:"CopilotTypesSection-module__copilotLoadingText--zS6D0",copilotDraftIndividualType:"CopilotTypesSection-module__copilotDraftIndividualType--jO8Xl",copilotIcon:"CopilotTypesSection-module__copilotIcon--NK0DJ"};function N({issueId:e,onIssueUpdate:t,sectionHeader:n,setShouldShowCopilotComponent:l}){let{suggestedType:i,getSuggestions:r,getStatusForType:d}=(0,j.G)(),{addToast:m}=(0,u.Y6)(),f=(0,g.useRelayEnvironment)();(0,p.useEffect)(()=>{"success"===d("issueType")&&void 0===i&&l(!1)},[d,l,i]);let y=(0,p.useCallback)(n=>{(0,c._)({environment:f,input:{issueId:e,issueTypeId:n.length>0?n[0]?.id:null},onError:()=>m({type:"error",message:o.S.couldNotUpdateType}),onCompleted:t})},[m,f,e,t]);(0,p.useEffect)(()=>{(0,p.startTransition)(()=>{r({issueId:e,environment:f,type:"issueType"})})},[f,r,e]);let k=(0,p.useCallback)(()=>{i&&y([i]),l(!1),(0,s.BI)("copilot_suggested_type.confirm",{type:i?.name,issueId:e})},[e,y,l,i]),v=(0,p.useCallback)(()=>{l(!1),(0,s.BI)("copilot_suggested_type.dismiss",{type:i?.name,issueId:e}),(0,h.ub)(e)},[e,l,i?.name]),S=(0,p.useCallback)(()=>{r({issueId:e,environment:f,type:"issueType"}),(0,s.BI)("copilot_suggested_type_error.retry")},[f,r,e]),N=(0,p.useCallback)(()=>{l(!1),(0,s.BI)("copilot_suggested_type_error.cancel")},[l]);return(0,a.jsx)(p.Suspense,{fallback:(0,a.jsx)(F,{}),children:(0,a.jsxs)(b.w,{sectionHeader:n,children:["loading"===d("issueType")&&(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,a.jsx)(C.CopilotIcon,{className:I.copilotIcon}),(0,a.jsx)(x.b,{children:(0,a.jsx)("span",{className:I.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===d("issueType")&&null!=i&&(0,a.jsx)(_,{copilotType:i,onConfirmCopilotType:k,onCancel:v,issueId:e}),"error"===d("issueType")&&(0,a.jsx)(T,{onRetry:S,onCancel:N})]})})}function F(){return(0,a.jsx)(b.w,{sectionHeader:(0,a.jsx)(k.X,{title:f.k.sectionTitles.types,readonly:!0}),children:(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,a.jsx)(C.CopilotIcon,{className:I.copilotIcon}),(0,a.jsx)(x.b,{children:(0,a.jsx)("span",{className:I.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function _({copilotType:e,onConfirmCopilotType:t,onCancel:n,issueId:l}){return(0,s.BI)("copilot_suggested_type.shown",{issueId:l}),(0,a.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-2",children:[(0,a.jsx)(L,{name:e.name}),(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,a.jsx)(v.K,{variant:"invisible",size:"small",icon:C.CheckIcon,onClick:t,"aria-label":"Accept suggestion"}),(0,a.jsx)(v.K,{variant:"invisible",size:"small",icon:C.XIcon,onClick:n,"aria-label":"Dismiss suggestion"})]})]})}function L({name:e}){return(0,a.jsx)("div",{className:I.copilotDraftType,children:(0,a.jsx)(S.A,{className:I.copilotDraftIndividualType,children:e})})}function T({onRetry:e,onCancel:t}){return(0,a.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,a.jsx)(C.CopilotErrorIcon,{className:I.copilotIcon}),(0,a.jsx)("span",{className:I.copilotLoadingText,children:"Error. Please try again."})]}),(0,a.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,a.jsx)(v.K,{variant:"invisible",size:"small",icon:C.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,a.jsx)(v.K,{variant:"invisible",size:"small",icon:C.XIcon,onClick:t,"aria-label":"Dismiss"})]})]})}try{N.displayName||(N.displayName="CopilotTypesSection")}catch{}try{F.displayName||(F.displayName="CopilotTypesSectionLoading")}catch{}try{_.displayName||(_.displayName="CopilotTypesSectionSuccess")}catch{}try{L.displayName||(L.displayName="CopilotDraftType")}catch{}try{T.displayName||(T.displayName="CopilotTypesSectionError")}catch{}var w=n(25983),A=n(20177);let E={IssueTypeToken:"IssueType-module__IssueTypeToken--hdXht",hiddenPlaceholder:"IssueType-module__hiddenPlaceholder--nnfV9"};function D({type:e,anchorProps:t,repoNameWithOwner:n}){return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsx)("div",{"data-testid":A.Y.typeContainer,className:E.IssueTypeToken,children:(0,a.jsx)(w.n,{name:e.name,color:e.color,href:`/${n}/issues?q=type:"${e.name}"`,getTooltipText:t=>t?e.name:void 0})}):(0,a.jsx)("div",{className:E.hiddenPlaceholder,...t})})}try{D.displayName||(D.displayName="IssueType")}catch{}let P={typeContainer:"TypesSection-module__typeContainer--YI5mY"},K=()=>(0,a.jsx)(y.h,{title:f.k.sectionTitles.types}),R=({sectionHeader:e,type:t,repoNameWithOwner:n,sx:l})=>(0,a.jsx)(b.w,{id:"sidebar-types-section",sx:l,sectionHeader:e,emptyText:t?void 0:f.k.emptySections.types,children:(0,a.jsx)("div",{className:P.typeContainer,children:(0,a.jsx)(D,{type:t,repoNameWithOwner:n})})});function M({type:e,onSelectionChange:t,viewerCanType:n,sx:l,...i}){let{sendAnalyticsEvent:r}=(0,m.s)(),{repo:s,owner:o}=i;return(0,a.jsx)(R,{sx:l,sectionHeader:n?(0,a.jsx)(d.uF,{onSelectionChange:e=>{let n=e?.[0]||null;r("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:n?.id??""}),t(n)},readonly:n,activeIssueType:e,anchorElement:(e,t)=>(0,a.jsx)(k.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:t}),...i,width:"medium"}):(0,a.jsx)(K,{}),type:e,repoNameWithOwner:`${o}/${s}`})}let V=l,B=i;function O({issue:e,onIssueUpdate:t,insideSidePanel:n,readonly:l}){let i=(0,g.useFragment)(B,e),{repository:{owner:{login:y},name:b,nameWithOwner:x,issueTypes:C},id:v,viewerCanType:S}=i,j=C?.edges?.map(e=>e?.node?.id)||[],{issueType:I}=(0,g.useFragment)(V,i),F=I||null,{sendAnalyticsEvent:_}=(0,m.s)(),{addToast:L}=(0,u.Y6)(),T=(0,g.useRelayEnvironment)(),w=(0,r.G7)("copilot_auto_assign_metadata"),[A,E]=(0,p.useState)(w&&S&&null==F&&!(0,h.ic)(v)),D=(0,p.useCallback)(e=>{A&&(E(!1),(0,s.BI)("copilot_suggested_type.skipped",{issueId:v}));let n=e.length>0?e[0]?.id:null;_("issue_viewer.update_issue_type","ISSUE_VIEWER_UPDATE_ISSUE_TYPE_DIALOG",{initialIssueTypeId:F?.id??"",issueTypeId:n??""}),(0,c._)({environment:T,input:{issueId:v,issueTypeId:n},onError:()=>L({type:"error",message:o.S.couldNotUpdateType}),onCompleted:t})},[F?.id,L,T,v,t,_,A]),P=(0,p.useMemo)(()=>{let e=l||!S;return e?(0,a.jsx)(K,{}):(0,a.jsx)(d.uF,{repo:b,owner:y,onSelectionChange:D,anchorElement:(e,t)=>(0,a.jsx)(k.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:t}),readonly:e,activeIssueType:F??null,insidePortal:n,width:"medium"})},[l,S,b,y,D,F,n]);return S||0!==j.length?A?(0,a.jsx)(N,{issueId:v,onIssueUpdate:t,sectionHeader:P,setShouldShowCopilotComponent:E}):(0,a.jsx)(R,{sectionHeader:P,type:F??null,repoNameWithOwner:x}):null}try{K.displayName||(K.displayName="ReadonlyTypesSectionHeader")}catch{}try{R.displayName||(R.displayName="TypesSection")}catch{}try{M.displayName||(M.displayName="CreateIssueIssueTypesSection")}catch{}try{O.displayName||(O.displayName="EditIssueIssueTypeSection")}catch{}},48926:(e,t,n)=>{n.d(t,{C:()=>c,j:()=>d});var a=n(74848),l=n(61200),i=n(81945),r=n(54571),s=n(62935),o=n(4095);function d({commit:e,repo:t,children:n,settings:d,textVariant:c}){let u=(0,o.NO)(e.oid),[m]=(0,r.I)(()=>!1,!0,[]);return(0,a.jsxs)(l.jF,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:u?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!m&&(0,a.jsx)(s.A,{className:"pl-1",datetime:e.committedDate}),m&&(0,a.jsx)(i.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),n]})}function c({commit:e,repo:t,textVariant:n}){let[o]=(0,r.I)(()=>!1,!0,[]);return(0,a.jsxs)(l.Cf,{pusher:e.pusher,repo:t,textVariant:n,children:[!o&&(0,a.jsx)(s.A,{className:"pl-1",datetime:e.pushedDate}),o&&(0,a.jsx)(i.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"})]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}try{c.displayName||(c.displayName="PushAttribution")}catch{}},49245:(e,t,n)=>{n.d(t,{I:()=>d,p:()=>u});var a=n(25407),l=n(71315),i=n(96379),r=n(96540),s=n(28014),o=n(68534);function d({repo:e,commit:t,viewerCanReply:n,repoOwnerGlobalRelayId:l,getInlineCommentInfoByPathAndPosition:o}){let{addComments:d}=(0,s.B)();return(0,r.useCallback)((r,s)=>new Promise(async(u,m)=>{let[p,g]=r.split("::");if(!p||!g)return void m(Error("Invalid threadId"));if(!s){let a=o(p,Number(g));u(a?c(a,t,e,n,r,l):void 0);return}let f=await (0,i.lS)(`${(0,a.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:t.oid,path:p,position:g})}${s?"&isRefetch=true":""}`);if(f.ok){let a=await f.json();d(a.comments,p,g),u(a.comments?c(a.comments,t,e,n,r,l):void 0)}else m(Error("Failed to fetch thread"))}),[d,t,o,e,n,l])}function c(e,t,n,a,l,i){return{commentsData:{comments:e.map(e=>u(e,t,n,i))},id:l,viewerCanReply:a}}function u(e,t,n,i){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${l.cg?.location.origin}${(0,a.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:t.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReact:e.viewerCanReact,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerCanUnminimize:e.viewerCanUnminimize??!1,viewerDidAuthor:e.viewerDidAuthor,reactionGroups:e.reactionGroups,reference:{number:void 0,text:(0,o.F)(t.oid),author:{login:t.authors.length>0?t.authors[0]?.login??"":""}},repository:{id:n.id.toString(),isPrivate:n.private,name:n.name,owner:{id:i,login:n.ownerLogin,url:""}}}}},49246:(e,t,n)=>{n.d(t,{S:()=>r});var a=n(74848),l=n(96480),i=n(17831);function r({children:e,...t}){return(0,a.jsx)(l.o,{...t,children:(0,a.jsx)(i.s,{...t,children:e})})}try{r.displayName||(r.displayName="IssueCreateContextProvider")}catch{}},49275:(e,t,n)=>{n.d(t,{v:()=>a});let a={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},50167:(e,t,n)=>{n.d(t,{q:()=>a});let a={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},51407:(e,t,n)=>{n.d(t,{Y:()=>a});function a(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},51802:(e,t,n)=>{n.d(t,{Y:()=>a});let a={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},51928:(e,t,n)=>{n.d(t,{f:()=>g,i:()=>m});var a,l=n(74848),i=n(69599),r=n(86391),s=n(96540),o=n(19918),d=n(14307);let c={issueTypeColorIndicator:"IssueTypePickerItemLeadingVisual-module__issueTypeColorIndicator--ivyh6"};try{(a=IssueTypePickerItemLeadingVisual).displayName||(a.displayName="IssueTypePickerItemLeadingVisual")}catch{}var u=n(49275);let m="UNSET",p=[];function g({activeIssueType:e,issueTypes:t=p,issueTypeToken:n,noTypeItem:a,showUnset:g=!1,anchorElement:f,insidePortal:h,isLoading:y,nested:b,onSelectionChange:k,title:x=o.k.typesHeader,triggerOpen:C=!0,width:v="large"}){let[S,j]=(0,s.useState)(""),I=(0,s.useMemo)(()=>{let e=n&&'"'===n[0]&&'"'===n[n.length-1]?n.slice(1,-1):n;return t.find(t=>t.name===e)},[t,n]),N=(0,s.useMemo)(()=>{let e=t.slice().sort((e,t)=>e.name.localeCompare(t.name));return(a?e.unshift(u.v.noTypeData):g&&e.unshift({id:m,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"}),S)?e.filter(e=>e.name.toLowerCase().indexOf(S.toLowerCase())>=0):e},[t,S,g,a]),F=(0,s.useCallback)(e=>{j(e)},[]),_=(0,s.useCallback)(e=>e.id,[]),L=(0,s.useCallback)(e=>{let t;return{id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:(t=e.color,function(){let e=d.i4.find(e=>e===t),{bg:n,accent:a}=(0,d.Wk)(e);return(0,l.jsx)("div",{style:{"--bg":`${n}`,"--accent":`${a}`},className:c.issueTypeColorIndicator})}),source:e}},[]),T=(0,s.useMemo)(()=>a?.selected?[u.v.noTypeData]:e?[e]:I?[I]:[],[e,I,a]),w=(0,s.useRef)(null),A=(0,s.useMemo)(()=>0===N.length,[N.length]),E=(0,i.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,l.jsx)(r.O,{loading:y,items:N,initialSelectedItems:T,filterItems:F,title:x,getItemKey:_,convertToItemProps:L,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:k,renderAnchor:e=>f(e),insidePortal:h,height:"large",width:v,nested:b,resultListAriaLabel:"Issue Type results",triggerOpen:C,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:w,improvedNoMatchAccessibility:A,noMatchMessage:A?{title:"No issue types were found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:E})}try{g.displayName||(g.displayName="IssueTypePickerBase")}catch{}},52475:(e,t,n)=>{n.d(t,{_S:()=>i,cB:()=>s,cW:()=>r});var a=n(53627),l=n(71315);let i=()=>{let e=(0,a.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},r=e=>{(0,a.C3)({appId:e})},s=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};l.cg?.addEventListener("hashchange",()=>{(0,a.C3)({appId:s()})},!0)},52528:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84171);let l=function(e,t,n){"__proto__"==t&&a.A?(0,a.A)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},52851:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(52528),l=n(66984),i=Object.prototype.hasOwnProperty;let r=function(e,t,n){var r=e[t];i.call(e,t)&&(0,l.A)(r,n)&&(void 0!==n||t in e)||(0,a.A)(e,t,n)}},54589:(e,t,n)=>{n.d(t,{X:()=>s});var a=n(74848),l=n(26607),i=n(10242),r=n(84174);let s=({children:e="Preview",feedbackUrl:t,className:n})=>(0,a.jsx)(r.V,{className:n,label:(0,a.jsx)(l.A,{variant:"success",children:e}),link:t?(0,a.jsx)(i.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}},55007:(e,t,n)=>{n.d(t,{G:()=>c});var a=n(96540),l=n(25407),i=n(96379),r=n(8608),s=n(89252);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],t=[{kind:"Variable",name:"id",variableName:"issueId"}],n={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},l=[{kind:"Literal",name:"first",value:100}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u=[i,r,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],m={kind:"InlineFragment",selections:u,type:"IssueFieldText",abstractKey:null},p={kind:"InlineFragment",selections:u,type:"IssueFieldSingleSelect",abstractKey:null},g={kind:"InlineFragment",selections:u,type:"IssueFieldDate",abstractKey:null},f={kind:"InlineFragment",selections:u,type:"IssueFieldNumber",abstractKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[n,a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:l,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,r,s,o,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,m,p,g,f],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:l,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,r,s,o,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,m,p,g,f,{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"},i],storageKey:null}],type:"Issue",abstractKey:null},i],storageKey:null}]},params:{id:"8fb6d11b9254ca064f07c226892101a2",metadata:{},name:"useIssueTypeSuggestionsQuery",operationKind:"query",text:null}}}();o.hash="7a99d40860cb0ca313dd557f3d69550c";var d=n(69487);function c(){let{getSuggestion:e,status:t,suggestedType:n}=function(){let e=(0,s.Ui)(),[t,n]=(0,a.useState)("loading"),[l,i]=(0,a.useState)(void 0),c=(0,a.useCallback)(async({issueId:t,title:a,body:l,availableTypes:o})=>{try{let d=await e.getAuthToken(),c=(0,r.Y)(o.map(e=>e.name).join(", ")),u=await (0,s.Al)(d,c,[{id:t,data:{title:a,body:l}}]);if(u){let e=Object.keys(u);if(0===e.length){i(void 0),n("success");return}let t=e.reduce((e,t)=>u[e]>u[t]?e:t,""),a=o.find(e=>t===e.name);i(a),n("success")}else n("error")}catch{n("error")}},[e]);return{getSuggestion:(0,a.useCallback)(({issueId:e,environment:t})=>{n("loading"),(0,d.fetchQuery)(t,o,{issueId:e}).subscribe({next:t=>{if(n("loading"),!t.node||!("repository"in t.node))return void n("error");let{body:a,title:l,repository:i}=t.node;if(!i?.issueTypes)return void n("error");let r=i.issueTypes.nodes?.flatMap(e=>e&&"object"==typeof e?[e]:[])||[];r.length>0?c({issueId:e,title:l,body:a,availableTypes:r}):n("error")},error:()=>{n("error")}})},[c]),status:t,suggestedType:l}}(),{getSuggestions:c,status:u,suggestedLabels:m}=function(){let e=(0,s.Ui)(),[t,n]=(0,a.useState)("loading"),[o,d]=(0,a.useState)([]),c=(0,a.useRef)({issueId:"",issueTitle:void 0,issueBody:void 0,repositoryName:void 0,repositoryOwner:void 0}),u=(0,a.useRef)(!0),m=(0,a.useCallback)(async t=>{try{let a=await e.getAuthToken(),{issueId:l,issueTitle:i,issueBody:o}=c.current;if(!l)return void n("error");let u=[{id:l,type:"github.issue",data:{type:"issue",title:i,body:o,labels:t.map(e=>({name:e.name,description:e.description}))}}],m=await (0,s.Al)(a,r.U,u);if(m){let e=Object.keys(m).filter(e=>m[e]>=80),a=t.filter(t=>e.includes(t.name));d(a),n("success")}else d([]),n("error")}catch(e){n("error")}},[e]),p=(0,a.useCallback)(async()=>{if(!u.current)return;let{repositoryName:e,repositoryOwner:t}=c.current;if(!e||!t){d([]),n("idle");return}let a=`${(0,l.SHX)({owner:t,repo:e})}/label_recommendations.json`;n("loading");try{let e=new URL(a,window.location.origin),t=await (0,i.lS)(e.toString(),{method:"GET"});if(!t.ok)return void n("error");let l=(await t.json()).labels.map(e=>({id:e.id,name:e.name,description:e.description,url:e.url,color:e.color,nameHTML:e.nameHTML}));l.length>0?await m(l):(d([]),n("success"))}catch(e){n("error")}},[m]);(0,a.useEffect)(()=>()=>{u.current=!1},[]);let g=(0,a.useCallback)(({issueId:e,issueTitle:t,issueBody:n,repositoryName:a,repositoryOwner:l})=>{e&&(c.current={issueId:e,issueTitle:t||c.current.issueTitle,issueBody:n||c.current.issueBody,repositoryName:a||c.current.repositoryName,repositoryOwner:l||c.current.repositoryOwner},p())},[p]);return(0,a.useMemo)(()=>({getSuggestions:g,status:t,suggestedLabels:o}),[g,t,o])}();return{getSuggestions:(0,a.useCallback)(({issueId:t,environment:n,type:a,issueTitle:l,issueBody:i,repositoryName:r,repositoryOwner:s})=>{"issueType"===a?e({issueId:t,environment:n}):c({issueId:t,environment:n,issueTitle:l,issueBody:i,repositoryName:r,repositoryOwner:s})},[e,c]),getStatusForType:e=>"issueType"===e?t:u,suggestedLabels:m,suggestedType:n,getTypeSuggestion:e,getLabelSuggestions:c,typeStatus:t,labelsStatus:u}}},56038:(e,t,n)=>{n.d(t,{Kn:()=>r,XC:()=>l,cg:()=>i,fV:()=>s});let a="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,l="undefined"==typeof document||a?void 0:document,i="undefined"==typeof window||a?void 0:window,r="undefined"==typeof history||a?void 0:history,s="undefined"==typeof location||a?{pathname:"",origin:"",search:"",hash:"",href:""}:location},56242:(e,t,n)=>{n.d(t,{u:()=>en,E:()=>ea});var a=n(74848);let l=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[e,t,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFragment",selections:[e,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{args:null,kind:"FragmentSpread",name:"FieldsSectionFieldValues"},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[e,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null}}();l.hash="97c16f968dd940a48772fd83c00ae2a1";let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[e,t,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],a={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFieldValues",selections:[e,{alias:null,args:[{kind:"Literal",name:"first",value:25}],concreteType:"IssueFieldValueConnection",kind:"LinkedField",name:"issueFieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"IssueFieldText",abstractKey:null}],storageKey:null},a],type:"IssueFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"IssueFieldDate",abstractKey:null}],storageKey:null},a],type:"IssueFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"IssueFieldNumber",abstractKey:null}],storageKey:null},{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null}],storageKey:"issueFieldValues(first:25)"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[e,t],storageKey:null}],type:"Issue",abstractKey:null}}();i.hash="461a0c55032c3a4bf8d10a5a74a2fd22";var r=n(69599),s=n(98646),o=n(44251),d=n(73189),c=n(75202),u=n(11196),m=n(96540),p=n(18312);n(69487);var g=n(3047),f=n(38621),h=n(21373);let y={container:"AddIssueFieldButton-module__container--vCxXw",button:"AddIssueFieldButton-module__button--GCUMC"},b=(0,m.forwardRef)((e,t)=>{let{anchorProps:n,inactive:l=!1,disabled:i=!1,onClick:r}=e;return(0,a.jsx)("div",{className:y.container,children:(0,a.jsx)(h.Q,{leadingVisual:l?f.AlertIcon:void 0,trailingVisual:l?void 0:f.PlusIcon,size:"small",ref:t,...n,className:y.button,inactive:l||i,onClick:e=>{i||(r(),n?.onClick?.(e))},children:"Add field"})})});b.displayName="AddIssueFieldButton";var k=n(41848),x=n(23490);function C({owner:e,fieldsSet:t,onIssueFieldSelected:n,markInteractionStart:l,inactive:i=!1,disabled:r=!1,onButtonElementReceived:o,hideAddFieldButton:d=!1}){let c=(0,m.useMemo)(()=>(e,t)=>(t?.current&&o?.(t.current),(0,a.jsx)(b,{anchorProps:e,ref:t,onClick:l,inactive:i,disabled:r})),[l,i,r,o]),u=(0,m.useCallback)(e=>{let t=e[0];t&&n((0,s.YQ)(t))},[n]);return d?null:(0,a.jsx)(x.iF,{owner:e,fieldsSet:t,onSelectionChange:u,anchorElement:c,insidePortal:!1})}try{C.displayName||(C.displayName="FieldsSelector")}catch{}let v={pinnedField:"FieldsSection-module__pinnedField--xRXo6",animationClass:"FieldsSection-module__animationClass--ZaRW4"};function S(e){let t=(0,m.useRef)(null),n=(0,m.useRef)(e),a=(0,m.useCallback)(e=>{t.current=e},[]);return(0,m.useEffect)(()=>{null!==n.current&&null===e&&t.current?.focus(),n.current=e},[e]),{setAddFieldButtonElement:a}}function j(e){let[t,n]=(0,m.useState)(!1),a=(0,m.useRef)(null),l=(0,m.useRef)(!1),i=(0,m.useRef)(null);return(0,m.useEffect)(()=>{if(l.current&&e!==i.current&&null!==e){n(!1),i.current=e;let t=setTimeout(()=>{n(!0)},0);return()=>{clearTimeout(t)}}l.current||(i.current=e),a.current=e,l.current=!0},[e]),{animatePinned:t}}function I(e,t){return e&&t?`${v.pinnedField} ${v.animationClass}`:e?v.pinnedField:void 0}function N({mutationFn:e,input:t,environment:n,action:a,fieldId:l,fieldType:i,inProjectsPage:r,ownerId:s,reportUsage:o,onError:d,onCompleted:c}){let u=Date.now();e({environment:n,input:t,onCompleted:()=>{o({page:r?"memex#show":"issue#show",action:a,fieldId:l,fieldType:i,status:"success",duration:Date.now()-u,orgId:s?.toString()}),c?.()},onError:e=>{let t=Date.now()-u;o({page:r?"memex#show":"issue#show",action:a,fieldId:l,fieldType:i,status:"error",errorDetails:e instanceof Error?e.message:String(e),duration:t,orgId:s?.toString()}),d?.(e)}})}var F=n(24990),_=n(83463),L=n(8816),T=n(16810),w=n(21798);let A={dateAnchorContainer:"FieldEditors-module__dateAnchorContainer--I3CxZ",dateAnchorContainerInteractive:"FieldEditors-module__dateAnchorContainerInteractive--EFP_p",dateText:"FieldEditors-module__dateText--SPr35",noValueContainer:"FieldEditors-module__noValueContainer--jjEy0"},E=({formattedDate:e})=>e?(0,a.jsx)("span",{className:A.dateText,children:e}):(0,a.jsx)("span",{className:A.noValueContainer,children:k.k.setValue}),D=({fieldId:e,fieldName:t,value:n,readonly:l,onCommit:i,hideDivider:r,shouldOpen:s=!1,isDraft:o=!1,errorPresent:d=!1,className:c})=>{let u=(0,m.useMemo)(()=>n?(0,L.b)(n):"",[n]),[p,g]=(0,m.useState)(s),f=(0,m.useCallback)(()=>{o&&i(e,null),g(!1)},[o,i,e]);return(0,a.jsx)(T.w,{sectionHeader:(0,a.jsx)(w.X,{title:t,readonly:l,buttonProps:l?void 0:{onClick:()=>g(!0)},errorPresent:d}),hideDivider:r,className:c,children:l?(0,a.jsx)("div",{className:A.dateAnchorContainer,children:(0,a.jsx)(E,{formattedDate:u})}):(0,a.jsx)(_.DatePicker,{anchor:e=>(0,a.jsx)("div",{...e,className:`${A.dateAnchorContainer} ${A.dateAnchorContainerInteractive}`,children:(0,a.jsx)(E,{formattedDate:u})}),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:t=>{let n=null;t&&(n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0))),i(e,n),g(!1)},value:n,placeholder:"Set date",open:p,onOpen:()=>g(!0),onClose:f},t)})};try{E.displayName||(E.displayName="DateDisplay")}catch{}try{D.displayName||(D.displayName="IssueFieldDateEditor")}catch{}var P=n(43570),K=n(72690),R=n(87448);let M={container:"IssueFieldSingleSelectValueToken-module__container--lARRk",tokenText:"IssueFieldSingleSelectValueToken-module__tokenText--U98W6",token:"IssueFieldSingleSelectValueToken-module__token--TxIqq",fieldEditorContainer:"IssueFieldSingleSelectValueToken-module__fieldEditorContainer--Ya3I1",noValueContainer:"IssueFieldSingleSelectValueToken-module__noValueContainer--FlWSG"},V=({name:e,color:t,getTooltipText:n,size:l,sx:i})=>{let r=(0,m.useRef)(null),[s,o]=(0,m.useState)(!1);(0,m.useEffect)(()=>o(B(r.current)),[o,r]);let d=(0,a.jsx)(R.ou,{className:M.token,"data-color":t,ref:r,sx:i,text:(0,a.jsx)("span",{className:M.tokenText,children:e})}),c=n(s);return(0,a.jsx)("div",{className:M.container,"data-size":l,children:c?(0,a.jsx)(u.m,{text:c,children:d}):d})},B=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{V.displayName||(V.displayName="IssueFieldSingleSelectValueToken")}catch{}let O=({fieldId:e,fieldName:t,readonly:n,initialValue:l,onCommit:i,hideDivider:r,shouldOpen:s=!1,isDraft:o=!1,className:d})=>{let c=(0,m.useCallback)(t=>{i(e,t)},[e,i]),u=(0,m.useCallback)(()=>{o&&i(e,null)},[e,o,i]),p=(0,m.useMemo)(()=>(0,a.jsx)(K.CZ,{fieldId:e,fieldName:t,selectedOption:l?l.name:null,onSelectionChange:c,anchorElement:(e,l)=>(0,a.jsx)(w.X,{title:t||"",buttonProps:e,ref:l,readonly:n}),readonly:!1,isLazy:!0,onClose:u,shouldOpen:s}),[e,t,l,u,c,n,s]),g=l?.name===""&&l?.color===""&&l?.description==="";return(0,a.jsx)(T.w,{sectionHeader:p,hideDivider:r,className:d,children:(0,a.jsx)("div",{className:M.fieldEditorContainer,children:g?(0,a.jsx)("div",{className:M.noValueContainer,children:k.k.setValue}):(0,a.jsx)(V,{name:l?.name||"",color:l?.color||"",getTooltipText:e=>e?l?.description??"":void 0})})})};try{O.displayName||(O.displayName="IssueFieldSingleSelectEditor")}catch{}var U=n(4889);function $({fieldValue:e,readonly:t,hideDivider:n,onCommit:l,className:i},r){let s=""===e.value;switch(e.field.dataType){case"TEXT":return(0,a.jsx)(U.e,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:e.value||"",readonly:t,onCommit:(e,t)=>l(e,t),hideDivider:n,errorPresent:r,className:i},e.field.name);case"SINGLE_SELECT":return(0,a.jsx)(O,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:{name:s||!e?.name?"":e.name,color:s||!e?.color?"":e.color,description:s||!e?.description?"":e.description},readonly:t,onCommit:(e,t)=>l(e,t),hideDivider:n,className:i},e.field.name);case"DATE":{let s=e.value?new Date(e.value):null;return(0,a.jsx)(D,{fieldId:e.field.id,fieldName:e.field.name||"",value:s,readonly:t,onCommit:(e,t)=>l(e,t),hideDivider:n,errorPresent:r,className:i},e.field.name)}case"NUMBER":{let s=void 0!==e.numberValue&&null!==e.numberValue,o=void 0!==e.value&&null!==e.value&&""!==e.value,d=s?e.numberValue.toString():o?String(e.value):"";return(0,a.jsx)(P.k,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:d,readonly:t,onCommit:(e,t)=>{""===t?l(e,t):l(e,Number(t))},hideDivider:n,errorPresent:r,className:i},e.field.name)}default:throw Error(`Unsupported field type: ${e.field.dataType}`)}}function H({fieldSelection:e,hideDivider:t,onCommit:n,className:l}){switch(e.dataType){case"text":return(0,a.jsx)(U.e,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,t)=>n(e,t),hideDivider:t,shouldOpen:!0,isDraft:!0,className:l},e.id);case"single_select":return(0,a.jsx)(O,{fieldId:e.id,fieldName:e.name||"",initialValue:{name:"",color:"",description:""},readonly:!1,onCommit:(e,t)=>n(e,t),hideDivider:t,shouldOpen:!0,isDraft:!0,className:l},e.name);case"date":return(0,a.jsx)(D,{fieldId:e.id,fieldName:e.name||"",value:null,readonly:!1,onCommit:(e,t)=>n(e,t),hideDivider:t,shouldOpen:!0,isDraft:!0,className:l},e.name);case"number":return(0,a.jsx)(P.k,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,t)=>n(e,t),hideDivider:t,shouldOpen:!0,isDraft:!0,className:l},e.id);default:throw Error(`Unsupported field type: ${e.dataType}`)}}function z({onClose:e,message:t}){return(0,a.jsx)(F.K,{title:"Error",confirmButtonContent:"OK",confirmButtonType:"primary",onClose:e,children:t})}try{z.displayName||(z.displayName="ErrorDialog")}catch{}let q=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[n,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],l={kind:"InlineFragment",selections:a,type:"IssueFieldTextValue",abstractKey:null},i={kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},r={kind:"InlineFragment",selections:a,type:"IssueFieldDateValue",abstractKey:null},s={kind:"InlineFragment",selections:[n,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null},o=[n],d={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:o,storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createIssueFieldValueMutation",selections:[{alias:null,args:t,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[l,i,r,s],storageKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createIssueFieldValueMutation",selections:[{alias:null,args:t,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,i,r,s,{kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null}]},params:{id:"7d34c7a47ddc5e24a7fe4d1980651c76",metadata:{},name:"createIssueFieldValueMutation",operationKind:"mutation",text:null}}}();q.hash="efaa5ef3592a90da63e7e17d2645f75c";let W=e=>void 0!==e.singleSelectOptionId?s.KO:void 0!==e.dateValue?s.fk:void 0!==e.numberValue?s.qg:s.qH,G=(e,t,n)=>{if(t){if(void 0!==n.textValue&&t.setValue(n.textValue,"value"),void 0!==n.singleSelectOptionId&&null!==n.singleSelectOptionId){let a=(e.get(n.fieldId)?.getLinkedRecords("options")||[]).find(e=>e.getDataID()===n.singleSelectOptionId);t.setValue(a?.getValue("name")??null,"name"),t.setValue(a?.getValue("color")??null,"color"),t.setValue(a?.getValue("description")??null,"description")}void 0!==n.dateValue&&t.setValue(n.dateValue,"value"),void 0!==n.numberValue&&t.setValue(n.numberValue,"value")}},Q=(e,t,n)=>{if(!e||!n)return;let a=(e.getLinkedRecords("nodes")||[]).filter(e=>e?.getLinkedRecord("field")?.getDataID()!==t);a.push(n),e.setLinkedRecords(a,"nodes")};function X({environment:e,input:t,onCompleted:n,onError:a}){return(0,p.commitMutation)(e,{mutation:q,variables:{input:t},onCompleted:()=>{n?.()},onError:e=>a?.(e),optimisticUpdater:e=>{let n=e.get(t.issueId);if(!n)return;let a=t.issueField,l=n.getLinkedRecord("issueFieldValues",{first:25}),i=l?.getLinkedRecords("nodes")||[],r=W(a),s=e.create(`client:newFieldValue:${a.fieldId}`,r);s.setValue(`client:newFieldValue:${a.fieldId}`,"id");let o=e.get(a.fieldId);o&&s.setLinkedRecord(o,"field"),G(e,s,a),i.push(s),l&&l.setLinkedRecords(i,"nodes")},updater:e=>{let n=e.get(t.issueId),a=n?.getLinkedRecord("issueFieldValues",{first:25}),l=e.getRootField("createIssueFieldValue"),i=l?.getLinkedRecord("issueFieldValue");if(!n||!i||!a)return;let r=t.issueField;if(!i.getLinkedRecord("field")){let t=e.get(r.fieldId);t&&i.setLinkedRecord(t,"field")}Q(a,r.fieldId,i)}})}let Y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteIssueFieldValuePayload",kind:"LinkedField",name:"deleteIssueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteIssueFieldValueMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteIssueFieldValueMutation",selections:t},params:{id:"07154732cd6de9c83b93caf7e4fdb17b",metadata:{},name:"deleteIssueFieldValueMutation",operationKind:"mutation",text:null}}}();function J({environment:e,input:t,onCompleted:n,onError:a}){return(0,p.commitMutation)(e,{mutation:Y,variables:{input:t},onCompleted:()=>{n?.()},onError:e=>a?.(e),optimisticUpdater:e=>{let n=e.get(t.issueId);n&&Z(n,t.fieldId)},updater:e=>{let n=e.get(t.issueId);n&&Z(n,t.fieldId)}})}Y.hash="ade9c121a42280fa29046520cd641e3c";let Z=(e,t)=>{if(!e)return;let n=e.getLinkedRecord("issueFieldValues",{first:25});if(!n)return;let a=(n.getLinkedRecords("nodes")||[]).find(e=>e?.getLinkedRecord("field")?.getDataID()===t);if(!a)return;let l=a.getType();(0,s.fy)(a,l)},ee=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[n,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],l={kind:"InlineFragment",selections:a,type:"IssueFieldTextValue",abstractKey:null},i={kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},r={kind:"InlineFragment",selections:a,type:"IssueFieldDateValue",abstractKey:null},s={kind:"InlineFragment",selections:[n,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null},o=[n],d={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:o,storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueFieldValueMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[l,i,r,s],storageKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueFieldValueMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,i,r,s,{kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null}]},params:{id:"c9b8f156814615ff82eb2393351e0719",metadata:{},name:"updateIssueFieldValueMutation",operationKind:"mutation",text:null}}}();function et({environment:e,input:t,onCompleted:n,onError:a}){return(0,p.commitMutation)(e,{mutation:ee,variables:{input:t},onCompleted:()=>{n?.()},onError:e=>a?.(e),optimisticUpdater:e=>{let n=e.get(t.issueId),a=n?.getLinkedRecord("issueFieldValues",{first:25}),l=a?.getLinkedRecords("nodes")||[],i=t.issueField,r=W(i),s=l.find(e=>e.getLinkedRecord("field")?.getDataID()===i.fieldId);if(!s){s=e.create(`client:updateFieldValue:${i.fieldId}`,r);let t=e.get(i.fieldId);t&&s.setLinkedRecord(t,"field")}G(e,s,i),Q(a,i.fieldId,s)},updater:e=>{let n=e.get(t.issueId),a=n?.getLinkedRecord("issueFieldValues",{first:25}),l=e.getRootField("updateIssueFieldValue"),i=l?.getLinkedRecord("issueFieldValue"),r=t.issueField;if(i){if(!i.getLinkedRecord("field")){let t=e.get(r.fieldId);t&&i.setLinkedRecord(t,"field")}Q(a,r.fieldId,i)}}})}function en({owner:e,ownerId:t,onSelectionChange:n,issueType:l}){let[i,d]=(0,m.useState)([]),[c,u]=(0,m.useState)([]),[p,f]=(0,m.useState)(null),{animatePinned:h}=j(l?.name||null),{markInteractionStart:y,reportUsage:b}=(0,o.k)(),{setAddFieldButtonElement:k}=S(p),{pinnedFieldIds:x}=function({issueType:e,setFields:t,setFieldsSet:n}){let a=(0,m.useMemo)(()=>(0,r.G7)("pinned_issue_fields")?(e?.pinnedFields||[]).filter(e=>"%other"!==e.__typename).map(e=>(0,g.Y0)((0,s.YQ)(e),null)):[],[e]),l=(0,m.useMemo)(()=>new Set(a.map(e=>e.field.id)),[a]);return(0,m.useEffect)(()=>{e&&a.length>0?(t(e=>[...a.map(t=>{let n=e.find(e=>e.field.id===t.field.id);return n&&n.value?n:t}),...e.filter(e=>!l.has(e.field.id)&&e.value)]),n(a.map(e=>e.field.name))):(t(e=>e.filter(e=>!l.has(e.field.id))),n(e=>e.filter(e=>!a.map(e=>e.field.name).includes(e))))},[e,l,a,t,n]),{pinnedFieldIds:l}}({issueType:l??null,setFields:d,setFieldsSet:u}),v=!(0,r.G7)("issue_metadata_add_field_button");(0,m.useEffect)(()=>{n(i.filter(e=>e.value))},[i,n]),(0,m.useEffect)(()=>{let e=[...new Set([...i.map(e=>e.field.name).filter(e=>!!e),...c])];e.length===c.length&&e.every(e=>c.includes(e))||u(e)},[i,c]);let N=(0,m.useCallback)(e=>{y(),e.id&&(f(e),e.name&&u(t=>[...t,e.name]))},[y]),F=(0,m.useCallback)((e,n)=>{d(a=>{let l,i=a.map(t=>t.field.id===e?l=(0,g.IE)(t.field,n):t).filter(e=>void 0!==e.value||e.field.id&&x.has(e.field.id));return l&&!l.value&&(l.field.id&&x.has(l.field.id)||u(e=>e.filter(e=>e!==l?.field.name))),l&&l.field.dataType&&b({page:"issue#new",action:"create",fieldId:e,fieldType:(0,s.HZ)(l.field.dataType),status:"success",orgId:t?.toString()}),i})},[t,x,b]),_=(0,m.useCallback)((e,t)=>{if(!p||p.id!==e)return;f(null);let n=(0,s.HZ)(p.dataType),a=(0,g.vl)(n,t),l="string"==typeof a?!a.trim():!a;if(p.name&&l)return void u(e=>e.filter(e=>e!==p.name));!l&&(d(e=>{let n=[...e];return p.name&&!n.some(e=>e.field.name===p.name)&&n.push((0,g.Y0)(p,t)),n}),p.name&&u(e=>e.includes(p.name)?e:[...e,p.name]))},[p]);return(0,a.jsxs)(a.Fragment,{children:[i.map((e,t)=>{if(!e.field.id)return null;let n=t===i.length-1;return $({fieldValue:"object"==typeof e.value&&null!==e.value?{...e,...e.value}:e,readonly:!1,hideDivider:n,onCommit:F,className:I(x.has(e.field.id),h)})}),p&&(()=>{let e=x.has(p.id);return H({fieldSelection:p,readonly:!1,hideDivider:!1,onCommit:_,className:I(e,h)})})(),(0,a.jsx)(C,{owner:e,fieldsSet:c,onIssueFieldSelected:N,markInteractionStart:y,disabled:null!==p,onButtonElementReceived:k,hideAddFieldButton:v})]})}function ea({issue:e,inProjectsPage:t,readonly:n}){let[i,f]=(0,m.useState)([]),[h,y]=(0,m.useState)(!1),[x,j]=(0,m.useState)(!1),[I,F]=(0,m.useState)(null),_=(0,p.useRelayEnvironment)(),{markInteractionStart:L,reportUsage:T}=(0,o.k)(),{setAddFieldButtonElement:w}=S(I),A=!(0,r.G7)("issue_metadata_add_field_button"),E=(0,p.useFragment)(l,e),{repository:{owner:{login:D}},viewerCanSetFields:P,issueType:K}=E,R=(0,m.useMemo)(()=>(0,r.G7)("pinned_issue_fields")?(K?.pinnedFields||[]).filter(e=>"%other"!==e.__typename).map(e=>(0,g.Y0)((0,s.YQ)(e),null)):[],[K]),M=(0,m.useCallback)(()=>{y(!0)},[]),V=(0,m.useCallback)((e,n)=>{if(!I||I.id!==e)return;F(null);let a=(0,g.vl)(I.dataType,n||""),l="string"==typeof a?!a.trim():!a;if(I.name&&l)return void f(e=>e.filter(e=>e!==I.name));l||N({mutationFn:X,input:{issueId:E.id,issueField:{fieldId:e,...(0,s.Ft)(I.dataType,a)}},environment:_,action:"create",fieldId:e,fieldType:(0,s.HZ)(I.dataType),inProjectsPage:t,ownerId:E.repository?.owner?.databaseId,reportUsage:T,onError:M})},[I,E.id,E.repository?.owner?.databaseId,_,t,T,M]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.t,{fallback:(0,a.jsxs)("div",{children:[(0,a.jsx)(u.m,{text:k.k.loadingFieldsTooltipMessage,children:(0,a.jsx)("span",{children:(0,a.jsx)(b,{inactive:!0,anchorProps:{onClick:()=>j(!0)},onClick:d.l})})}),x&&(0,a.jsx)(z,{onClose:()=>j(!1),message:k.k.loadingFieldsErrorMessage})]}),children:[(0,a.jsx)(el,{issue:E,fieldsSet:i,setFieldsSet:f,inProjectsPage:t,hasPendingFields:null!==I,pinnedFields:R,readonly:n}),I&&(()=>{let e=R.some(e=>e.field.id===I.id);return H({fieldSelection:I,readonly:!1,hideDivider:!1,onCommit:V,className:e?v.pinnedField:void 0})})(),!n&&P&&(0,a.jsx)(C,{owner:D,fieldsSet:i,onIssueFieldSelected:e=>{e.id&&(F(e),e.name&&f(t=>[...t,e.name]))},markInteractionStart:L,disabled:null!==I,onButtonElementReceived:w,hideAddFieldButton:A})]}),h&&(0,a.jsx)(z,{onClose:()=>y(!1),message:k.k.mutationErrorMessage})]})}function el({issue:e,fieldsSet:t,setFieldsSet:n,inProjectsPage:l,hasPendingFields:r=!1,pinnedFields:d,readonly:c}){let u=(0,p.useRelayEnvironment)(),[f,h]=(0,m.useState)({}),{reportUsage:y}=(0,o.k)();(0,m.useEffect)(()=>{let e=Object.values(f).some(e=>e),t=t=>{if(e)return t.preventDefault(),t.returnValue=k.k.reloadWarningMessage,t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[f]);let b=(0,p.useFragment)(i,e),{animatePinned:x}=j(b.issueType?.id||null),C=(b.issueFieldValues?.nodes||[]).map(e=>e),[v,S]=(0,m.useState)(C.filter(e=>e?.field!=null));(0,m.useEffect)(()=>{S((b.issueFieldValues?.nodes||[]).map(e=>e).filter(e=>e?.field!=null))},[b.id]);let F=(0,m.useCallback)(e=>{h(t=>({...t,[e]:!0}))},[]),_=(0,m.useCallback)((e,t,n)=>{let a=(0,s.HZ)(t),i=(0,g.vl)(a,n);""===n||null===n?N({mutationFn:J,input:{issueId:b.id,fieldId:e},environment:u,action:"delete",fieldId:e,fieldType:a,inProjectsPage:l,reportUsage:y,onCompleted:()=>h(t=>({...t,[e]:!1})),onError:()=>F(e)}):N({mutationFn:et,input:{issueId:b.id,issueField:{fieldId:e,...(0,s.Ft)(a,i)}},environment:u,action:"update",fieldId:e,fieldType:a,inProjectsPage:l,reportUsage:y,onCompleted:()=>h(t=>({...t,[e]:!1})),onError:()=>F(e)})},[b.id,u,F,l,y]);(0,m.useMemo)(()=>{let{addedFields:e,updatedFields:t,removedFields:n}=(0,g.kO)(v,C);if(0===e.length&&0===t.length&&0===n.length)return;let a=e.length>0,l=v.map(e=>{let l=t.find(t=>t?.field?.id===e?.field?.id);if(l)return(0,g.zo)(l,e)||(a=!0),l;if(n.some(t=>t?.field?.id===e?.field?.id)){let t=(0,g.uV)(e);return(0,g.zo)(t,e)||(a=!0),t}return e}).filter(e=>null!=e);a&&S([...l,...e])},[C,v]);let L=(0,m.useMemo)(()=>{if(!d||0===d.length)return v;let e=d.map(e=>v.find(t=>t.field.id===e.field.id)||e),t=e.map(e=>e.field.id);return[...e,...v.filter(e=>!t.includes(e.field.id))]},[d,v]);(0,m.useEffect)(()=>{let e=L.map(e=>e?.field?.name||"").filter(e=>e);t.length===e.length&&t.every((t,n)=>t===e[n])||n(e)},[t,L,n]);let T=L.map((e,t)=>{if(!e||!e.field||!e.field.id)return null;let n=!r&&t===L.length-1;if(void 0===e.field||void 0===e.field.dataType)return null;let l=d?.some(t=>t.field.id===e.field.id)||!1;return function({errorPresent:e,setErrorPresent:t,fieldValue:n,...l}){if(!n.field)return null;let i=n.field.id,r="SINGLE_SELECT"===n.field.dataType,s=$({fieldValue:n,...l},e[i]);return(0,a.jsxs)(m.Fragment,{children:[s,r&&e[i]&&(0,a.jsx)(z,{onClose:()=>t(i,!1),message:k.k.mutationErrorMessage})]},n.field.name)}({errorPresent:f,setErrorPresent:(e,t)=>h(n=>({...n,[e]:t})),fieldValue:e,readonly:c||!b.viewerCanSetFields,hideDivider:n,onCommit:(t,n)=>_(t,e.field.dataType,n),className:I(l,x)})});return(0,a.jsx)(a.Fragment,{children:T})}ee.hash="42fa492eab38e97eb091a4309e4f4202";try{en.displayName||(en.displayName="CreateIssueFieldsSection")}catch{}try{ea.displayName||(ea.displayName="EditIssueFieldsSection")}catch{}try{el.displayName||(el.displayName="IssueFields")}catch{}},57028:(e,t,n)=>{n.d(t,{M:()=>p});var a=n(74848),l=n(4559),i=n(40260),r=n(73189),s=n(38621),o=n(99511),d=n(26382),c=n(96540),u=n(76214);let m={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,a.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,a.jsx)(s.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function p({timeoutMessage:e,unavailableMessage:t}){let n=m[""!==e?"timeout":"unavailable"],p=t??n.description;return(0,c.useEffect)(()=>{(0,l.i)(`${n.heading}. ${p} ${e}`.trim())},[n.heading,p,e]),(0,a.jsx)(u.Z,{children:(0,a.jsx)("div",{"data-hpc":!0,children:(0,a.jsxs)(d.E,{border:!1,spacious:!0,children:[(0,a.jsx)(d.E.Visual,{children:n.icon}),(0,a.jsx)(d.E.Heading,{children:n.heading}),(0,a.jsx)(d.E.Description,{children:p}),n.showTextInput&&(0,a.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:r.l,readOnly:!0,size:"large",trailingAction:(0,a.jsx)(o.A.Action,{onClick:()=>(0,i.D)(e),icon:s.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{p.displayName||(p.displayName="CommitsBlankState")}catch{}},58335:(e,t,n)=>{n.d(t,{l:()=>x});var a=n(74848),l=n(25407),i=n(83494),r=n(38621),s=n(86877),o=n(46720),d=n(57352),c=n(21373),u=n(10095),m=n(87448),p=n(34164),g=n(96540),f=n(89064),h=n(98338),y=n(92858),b=n(96480);let k={container:"CreateIssueFooter-module__container--C49xM",Checkbox:"CreateIssueFooter-module__Checkbox--RNE52",CreateIssueFooterContainer:"CreateIssueFooter-module__CreateIssueFooterContainer--iM6Iv",fileUploadWarningSection:"CreateIssueFooter-module__fileUploadWarningSection--M7r9j",warningMessageText:"CreateIssueFooter-module__warningMessageText--fKwCF",mainContentWrapper:"CreateIssueFooter-module__mainContentWrapper--cs_cN",checkboxAndLinksSection:"CreateIssueFooter-module__checkboxAndLinksSection--TMq5G",FormControl:"CreateIssueFooter-module__FormControl--g1A8W",separatorDot:"CreateIssueFooter-module__separatorDot--HAWps",actionButtonsContainer:"CreateIssueFooter-module__actionButtonsContainer--UzT1K"},x=({className:e,sx:t,hideCreateMore:n=!1,onClose:x})=>{let{createMore:C,setCreateMore:v,createMoreCreatedPath:S,onCreateAction:j,isSubmitting:I,isFileUploading:N,isSubIssue:F,optionConfig:{insidePortal:_}}=(0,b.a)(),[L,T]=(0,g.useState)(!1),w=(0,g.useRef)(null),A=()=>!I&&(!N||(T(!0),!1)),E=async()=>{A()&&j?.current?.onCreate(I,C)};(0,g.useEffect)(()=>{w.current&&!N&&!I&&L&&(T(!1),w.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[N,I,L]);let D={"github:submit-form":E};return n||(D["issue-create:submit-and-create-more"]=()=>{v(!0),A()&&j?.current?.onCreate(I,!0)}),(0,a.jsxs)("div",{className:(0,p.$)(k.container,e,k.CreateIssueFooterContainer),children:[(0,a.jsx)(i.ak,{commands:D}),L&&(0,a.jsxs)("div",{className:k.fileUploadWarningSection,children:[(0,a.jsx)(u.A,{icon:r.InfoIcon,size:16}),(0,a.jsx)("span",{className:k.warningMessageText,children:h.k.fileUploadWarning})]}),(0,a.jsxs)(m.az,{sx:{...t},className:k.mainContentWrapper,children:[!n&&(0,a.jsxs)(m.az,{sx:{ml:2*!_},className:k.checkboxAndLinksSection,children:[(0,a.jsxs)(s.A,{className:k.FormControl,children:[(0,a.jsx)(o.A,{"data-testid":y.Y.createMoreIssuesCheckbox,checked:C,onChange:()=>{v(!C)},className:k.Checkbox}),(0,a.jsx)(s.A.Label,{children:F?f.l.createMoreSubIssues:f.l.createMore})]}),(0,a.jsx)("div",{"data-testid":y.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:S.number?h.k.lastIssueCreated(S.number):null}),S.number?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:k.separatorDot,children:"\xb7"}),(0,a.jsx)(d.A,{href:(0,l.dRG)({owner:S.owner,repo:S.repo,issueNumber:S.number}),"data-testid":y.Y.issueCreatedLink,children:h.k.lastIssueCreated(S.number)})]}):null]}),(0,a.jsxs)("div",{className:k.actionButtonsContainer,children:[x&&(0,a.jsx)(c.Q,{onClick:()=>x(),children:f.l.cancel}),(0,a.jsx)(i.cQ,{commandId:"github:submit-form",variant:"primary",inactive:I||N,"data-testid":y.Y.createIssueButton,ref:w,showKeybindingHint:!0,children:f.l.create})]})]})]})};try{x.displayName||(x.displayName="CreateIssueFooter")}catch{}},59123:(e,t,n)=>{n.d(t,{r5:()=>x});var a=n(74848),l=n(73189),i=n(56149),r=n(94236),s=n(5524),o=n(86877),d=n(46720),c=n(21373),u=n(15220),m=n(96540),p=n(18312),g=n(69487);let f=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:t},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();f.hash="1cc6b979024f82ac249a77676892c1f0";let h={BlockUserDialog:"BlockUserFromOrgDialog-module__BlockUserDialog--I4tCJ",BlockUserContainer:"BlockUserFromOrgDialog-module__BlockUserContainer--EfgwE",BlockUserFormRow:"BlockUserFromOrgDialog-module__BlockUserFormRow--kI5df",BlockUserFormControl:"BlockUserFromOrgDialog-module__BlockUserFormControl--jMHp4",BlockUserHelpText:"BlockUserFromOrgDialog-module__BlockUserHelpText--znGRy",BlockUserIndentedContainer:"BlockUserFromOrgDialog-module__BlockUserIndentedContainer--lH9mJ",BlockUserLeftPadding:"BlockUserFromOrgDialog-module__BlockUserLeftPadding--XEifV",BlockUserDivider:"BlockUserFromOrgDialog-module__BlockUserDivider--xUkJ6",Button:"BlockUserFromOrgDialog-module__Button--FFeVP"};var y=n(4551);let b={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},k={ONE_DAY:"1",THREE_DAYS:"3",SEVEN_DAYS:"7",THIRTY_DAYS:"30",INDEFINITE:"0"},x=({onBlock:e,onClose:t,...n})=>{let[l,c]=(0,m.useState)("INDEFINITE"),[p,g]=(0,m.useState)(!0),[f,k]=(0,m.useState)(!1),[x,j]=(0,m.useState)(void 0),I=n.contentAuthor.login;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(u.l,{title:`Block ${n.contentAuthor.login} from ${n.organization.login}`,renderFooter:()=>e?(0,a.jsx)(S,{onBlock:e,onClose:t,...n,notifyBlockedUser:p,hideComment:f,duration:l,hiddenReason:x}):(0,a.jsx)(v,{onClose:t,...n,notifyBlockedUser:p,hideComment:f,duration:l,hiddenReason:x}),width:"xlarge",height:"auto",onClose:t,className:h.BlockUserDialog,children:(0,a.jsxs)("div",{className:h.BlockUserContainer,children:[(0,a.jsx)("div",{className:h.BlockUserFormRow,children:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,a.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,a.jsx)("div",{className:h.BlockUserFormRow,children:(0,a.jsxs)(r.W,{children:[(0,a.jsxs)(r.W.Button,{children:["Block a user: ",b[l]]}),(0,a.jsx)(r.W.Overlay,{children:(0,a.jsx)(s.l,{selectionVariant:"single",children:(0,a.jsxs)(s.l.Group,{children:[(0,a.jsx)(s.l.GroupHeading,{children:"Block options"}),Object.keys(b).map(e=>(0,a.jsx)(s.l.Item,{onSelect:()=>{c(e)},selected:e===l,children:b[e]},e))]})})})]})}),(0,a.jsx)(C,{}),(0,a.jsx)("h4",{children:"More options"}),(0,a.jsxs)(o.A,{className:h.BlockUserFormControl,children:[(0,a.jsx)(d.A,{checked:p,onChange:()=>g(!p),"aria-checked":p}),(0,a.jsx)(o.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,a.jsx)(o.A.Caption,{children:(0,a.jsxs)("span",{className:h.BlockUserHelpText,children:["You can notify ",(0,a.jsx)("b",{children:I})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,a.jsx)("div",{className:h.BlockUserIndentedContainer,children:(0,a.jsxs)("blockquote",{children:["A maintainer of the @",n.organization.login," organization has blocked you because of"," ",(0,a.jsx)("a",{href:n.contentUrl,children:"this content"}),". For more information please see"," ",(0,a.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,a.jsxs)(o.A,{children:[(0,a.jsx)(d.A,{checked:f,onChange:()=>k(!f),"aria-checked":f}),(0,a.jsx)(o.A.Label,{children:"Hide this user's comments"}),(0,a.jsx)(o.A.Caption,{children:(0,a.jsxs)("span",{className:h.BlockUserHelpText,children:["All of their comments in this organization"," ",(0,a.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,a.jsx)("div",{className:h.BlockUserLeftPadding,children:(0,a.jsxs)(r.W,{children:[(0,a.jsx)(r.W.Button,{children:(x&&y.n[x])??"Choose a reason"}),(0,a.jsx)(r.W.Overlay,{children:(0,a.jsx)(s.l,{selectionVariant:"single",children:(0,a.jsx)(y.w,{onSelect:j})})})]})})]})})})},C=()=>(0,a.jsx)("div",{className:h.BlockUserDivider}),v=({organization:e,contentAuthor:t,contentId:n,notifyBlockedUser:i,hideComment:r,duration:s,hiddenReason:o,onClose:d})=>{let c=(0,p.useRelayEnvironment)(),u=(0,m.useCallback)(()=>{!function({environment:e,input:{organizationId:t,blockedUserId:n,duration:a,notifyBlockedUser:l,hiddenReason:i,contentId:r},onError:s,onCompleted:o}){let d={organizationId:t,blockedUserId:n,duration:a,notifyBlockedUser:l,contentId:r};i&&(d={...d,hiddenReason:i}),(0,p.commitMutation)(e,{mutation:f,variables:{input:d},onError:e=>s&&s(e),onCompleted:()=>{o?.()}})}({environment:c,input:{organizationId:e.id,contentId:n,blockedUserId:t.id,duration:s,hiddenReason:r&&o?o:void 0,notifyBlockedUser:i},onError:l.l,onCompleted:()=>(0,g.commitLocalUpdate)(c,e=>{let t=e.get(n);t?.setValue(!1,"pendingUnblock"),t?.setValue(!0,"pendingBlock"),o&&t?.setValue(o,"pendingMinimizeReason")})}),d()},[c,e.id,n,t.id,s,r,o,i,d]);return(0,a.jsx)(j,{hideComment:r,hiddenReason:o,onSubmit:u})},S=({contentAuthor:e,duration:t,hideComment:n,hiddenReason:l,onBlock:i,onClose:r,organization:s,notifyBlockedUser:o})=>(0,a.jsx)(j,{hideComment:n,hiddenReason:l,onSubmit:()=>{i?.(k[t]??"0",n,l,s.login,o,e.login),r()}}),j=({hideComment:e,hiddenReason:t,onSubmit:n})=>(0,a.jsx)(u.l.Footer,{children:(0,a.jsx)(c.Q,{variant:"danger",disabled:e&&!t,onClick:n,className:h.Button,children:"Block user from organization"})});try{x.displayName||(x.displayName="BlockUserFromOrgDialog")}catch{}try{C.displayName||(C.displayName="DialogDivider")}catch{}try{v.displayName||(v.displayName="BlockUserFromOrgDialogFooterWithRelay")}catch{}try{S.displayName||(S.displayName="BlockUserFromOrgDialogFooterWithoutRelay")}catch{}try{j.displayName||(j.displayName="BlockUserFromOrgDialogFooterComponent")}catch{}},59403:(e,t,n)=>{n.d(t,{Dx:()=>r,IP:()=>i,M4:()=>l,dt:()=>s});var a=n(91385);let l=1/0,i=-1/0,r=1,s=(e,t,n=r)=>{let s=e.trim().toLowerCase(),o=t.trim().toLowerCase();if(s===o)return l;if(0===o.length||0===s.length)return i;let d=(0,a.fN)(s,o);return d===1/0&&s!==o?i:o.startsWith(s)||o.endsWith(s)?d+n:d}},59464:(e,t,n)=>{n.d(t,{or:()=>R,vN:()=>M});var a=n(74848);let l=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},t={defaultValue:null,kind:"LocalArgument",name:"name"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},a=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isLocked",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},C={alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},v={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:[e,t,n],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,i,r,{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[s,o,d,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[o,u,m,p],storageKey:null},g,f,h,y,b,r,l,k,x,i,C,v,S,j,I,N,F],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,e],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,i,r,s,o,d,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[_,o,u,m,p,s],storageKey:null},g,f,h,y,b,k,x,C,v,S,j,I,N,F,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[_,L,d,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[_,L,d,T],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[d,T,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"70f7c76980616c3e217cfad7c69914fd",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}}}();l.hash="3637b8207b4416b73b8db4727054b1cd";var i=n(16654),r=n(73189),s=n(25407),o=n(96540),d=n(18312),c=n(79403),u=n(49246),m=n(50167),p=n(90651),g=n(35669);let f={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};f.hash="2462dd98bf9bee7cbb97c2e845715e7c";var h=n(56149),y=n(98107);n(69487);var b=n(96480),k=n(17831),x=n(72767),C=n(58335),v=n(3872);let S={CreateIssueDialogContainer:"CreateIssueDialog-module__CreateIssueDialogContainer--paAFp"};var j=n(98755),I=n(69599),N=n(83494),F=n(38621),_=n(26108),L=n(15220),T=n(89064),w=n(98338),A=n(81724),E=n(94007);let D={CreateIssueDialogHeaderContainer:"CreateIssueDialogHeader-module__CreateIssueDialogHeaderContainer--_BhIA",dialogTitleSection:"CreateIssueDialogHeader-module__dialogTitleSection--M7S4F",CopyToClipboardButton:"CreateIssueDialogHeader-module__CopyToClipboardButton--P4HRy"},P=({navigate:e,dialogLabelId:t,onClose:n})=>{let{displayMode:l,setDisplayMode:i,optionConfig:s,isSubIssue:d}=(0,b.a)(),{repository:c,repositoryAbsolutePath:u,template:p,resetMetadata:g,setTemplate:f}=(0,k.u)(),h=(0,I.G7)("memex_default_issue_create_repository"),y=(0,o.useCallback)(()=>{n("close-button")},[n]),x=(0,o.useMemo)(()=>(0,E.jk)(u),[u]),C=l===m.q.TemplatePicker&&void 0!==c,v=l===m.q.IssueCreation&&s.showFullScreenButton&&e!==r.l&&void 0!==c,S=(0,o.useCallback)(()=>{g({repository:c,selectedRepository:c}),f(void 0),i(m.q.TemplatePicker)},[g,f,i,c]),P=(0,o.useMemo)(()=>{if(l===m.q.TemplatePicker||!c?.nameWithOwner){let e=s.issueCreateArguments?.initialValues?.title;return w.k.issueCreateDialogTitleTemplatePane+(e?` - "${e}"`:"")}let e=p&&p.kind!==A.t7.BlankIssue?p.name:void 0,t=d?"sub-issue":"issue";return l===m.q.IssueDuplication?w.k.issueCreateDialogTitleDuplicationPane(c.nameWithOwner,t):w.k.issueCreateDialogTitleCreationPane(c.nameWithOwner,e,t)},[l,d,c?.nameWithOwner,p,s]);return(0,a.jsxs)(L.l.Header,{children:[(0,a.jsx)(N.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!v)return;let t=`/${c.nameWithOwner}/issues/new`,n=p&&p.kind!==A.t7.BlankIssue?p.fileName:void 0;e(n?`${t}?template=${encodeURIComponent(n)}`:t)}}}),(0,a.jsxs)("div",{className:D.CreateIssueDialogHeaderContainer,children:[h&&l===m.q.IssueCreation&&(0,a.jsx)(_.K,{icon:F.ArrowLeftIcon,"aria-label":"Back to templates",variant:"invisible",onClick:S,className:D.CopyToClipboardButton}),(0,a.jsx)("div",{className:D.dialogTitleSection,children:(0,a.jsx)(L.l.Title,{id:t,children:P})}),C&&(0,a.jsx)(j.T,{textToCopy:x,ariaLabel:T.l.copyUrl,icon:F.CopyIcon,tooltipProps:{direction:"n"},className:D.CopyToClipboardButton}),v&&(0,a.jsx)(N.N5,{variant:"invisible",commandId:"issue-create:open-fullscreen",icon:F.ScreenFullIcon,className:D.CopyToClipboardButton}),(0,a.jsx)(L.l.CloseButton,{onClose:y})]})]})};try{P.displayName||(P.displayName="CreateIssueDialogHeader")}catch{}let K=({onCreateSuccess:e,onCancel:t,navigate:n,currentRepository:l,isNavigatingToNew:i,returnFocusRef:r,...s})=>{let{optionConfig:c,initialDefaultDisplayMode:u,setDisplayMode:p,displayMode:g,setCreateMore:j}=(0,b.a)(),{usedStorageKeyPrefix:I}=(0,k.u)(),N=(0,d.useFragment)(f,l),F=(0,o.useCallback)(()=>{j(!1),p(u),t()},[u,t,j,p]),{onSafeClose:_}=(0,v.Z)({storageKeyPrefix:I,issueFormRef:s.issueFormRef,onCancel:F}),L=(0,o.useCallback)(({issue:t,createMore:n})=>{e({issue:t,createMore:n}),n||p(u)},[u,e,p]),T={...s,onCancel:_},w=(0,o.useMemo)(()=>!i||!c.canBypassTemplateSelection,[i,c.canBypassTemplateSelection]);return(0,a.jsx)(h.ZL,{children:(0,a.jsx)(y.lG,{returnFocusRef:r,renderHeader:e=>(0,a.jsx)(P,{navigate:n,...e}),renderFooter:()=>g===m.q.IssueCreation||g===m.q.IssueDuplication?(0,a.jsx)(y.lG.Footer,{children:(0,a.jsx)(C.l,{onClose:()=>_(),...s})}):null,renderBody:()=>(0,a.jsx)("div",{className:`${g===m.q.IssueCreation||g===m.q.IssueDuplication?"p-3":"p-0"}`,children:(0,a.jsx)(x.E,{onCreateSuccess:L,navigate:n,currentRepository:N,...T})}),onClose:_,width:"xlarge",height:"auto",sx:{visibility:w?"visible":"hidden"},className:S.CreateIssueDialogContainer})})};try{K.displayName||(K.displayName="CreateIssueDialog")}catch{}let R=({...e})=>(0,a.jsx)(o.Suspense,{children:(0,a.jsx)(M,{...e})}),M=({navigate:e,isCreateDialogOpen:t,setIsCreateDialogOpen:n,onCancel:r,onCreateSuccess:u,onCreateError:m,optionConfig:g,isNavigatingToNew:f,setIsNavigatingToNew:h,returnFocusRef:y})=>{let b=(0,d.useRelayEnvironment)(),[k,x]=(0,o.useState)(null),[C,v,S]=(0,d.useQueryLoader)(l),j=(0,p.S)(g),I=j.showRepositoryPicker;(0,o.useEffect)(()=>{let e=async()=>{x(await (0,i.St)(b,{first:c.tT.repositoriesPreloadCount,hasIssuesEnabled:!0}))};I&&e()},[]);let N=(0,o.useMemo)(()=>j.issueCreateArguments?.repository?{owner:j.issueCreateArguments.repository.owner,name:j.issueCreateArguments.repository.name}:null,[j.issueCreateArguments?.repository]);(0,o.useEffect)(()=>(N&&v({...N,includeTemplates:!0},{fetchPolicy:"store-or-network"}),()=>S()),[S,N,v]);let F=()=>{r?.(),n(!1)};return t&&(!I||k)&&(C||!N)?(0,a.jsx)(V,{createIssueProps:{topRepositories:k,onCreateSuccess:({issue:t,createMore:n})=>{u?u({issue:t,createMore:n}):n||(F(),e((0,s.dRG)({owner:t.repository.owner.login,repo:t.repository.name,issueNumber:t.number})))},onCreateError:e=>m?.(e),onCancel:F,navigate:e,isNavigatingToNew:f,setIsNavigatingToNew:h},config:j,currentRepoQueryRef:C??null,returnFocusRef:y}):null},V=({currentRepoQueryRef:e,...t})=>e?(0,a.jsx)(B,{currentRepoQueryRef:e,...t}):(0,a.jsx)(O,{currentRepoData:null,...t}),B=({currentRepoQueryRef:e,...t})=>{let n=(0,d.usePreloadedQuery)(l,e);return(0,a.jsx)(O,{currentRepoData:n,...t})},O=({createIssueProps:e,config:t,currentRepoData:n,returnFocusRef:l})=>{let s=e.navigate??r.l,d=n&&n.repository?(0,i.Jo)(n.repository):null,c=(0,o.useRef)(null),p={repository:d??void 0,template:void 0,parentIssue:t.issueCreateArguments?.parentIssue},f={...e,issueFormRef:c},h=n?.repository,y=!1;return(h?.hasIssuesEnabled&&t.defaultDisplayMode!==m.q.IssueDuplication&&(y=s!==r.l&&!!d&&!!h&&!h.hasAnyTemplates&&h.isBlankIssuesEnabled),(0,o.useEffect)(()=>{if(y&&d){let e=(0,g.H_)({includeRepository:!1,repository:d,templateFileName:void 0,...t.issueCreateArguments?.initialValues});s(`/${d.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[s,y,d,t.issueCreateArguments?.initialValues]),y)?null:(0,a.jsx)(u.S,{optionConfig:t,overrideFallbackDisplaymode:m.q.TemplatePicker,preselectedData:p,children:(0,a.jsx)(K,{currentRepository:n?.repository,...f,returnFocusRef:l})})};try{R.displayName||(R.displayName="CreateIssueDialogEntry")}catch{}try{M.displayName||(M.displayName="CreateIssueDialogEntryInternal")}catch{}try{V.displayName||(V.displayName="CreateIssueEntry")}catch{}try{B.displayName||(B.displayName="CreateIssueEntryWithRepo")}catch{}try{O.displayName||(O.displayName="CreateIssueEntryInternal")}catch{}},60871:(e,t,n)=>{var a=n(70103),l=n(40548),i=n(74848),r=n(78314),s=n(35898),o=n(75202),d=n(76648),c=n(96540),u=n(38621),m=n(26382);function p(){return(0,i.jsx)("div",{children:(0,i.jsxs)(m.E,{border:!1,spacious:!1,children:[(0,i.jsx)(m.E.Visual,{children:(0,i.jsx)(u.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,i.jsx)(m.E.Heading,{children:"Unable to load page."}),(0,i.jsxs)(m.E.Description,{children:[(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})}try{p.displayName||(p.displayName="CommitErrorState")}catch{}function g(e){let t=(0,d.B)(),[n]=(0,c.useState)(t?.repo),[a]=(0,c.useState)(t?.currentUser);return(0,i.jsx)(o.t,{critical:!0,fallback:(0,i.jsx)(p,{}),children:(0,i.jsx)(s.Q,{user:a,children:(0,i.jsx)(r.d,{repository:n,children:e.children})})})}try{g.displayName||(g.displayName="App")}catch{}var f=n(70719),h=n(79472),y=n(18799),b=n(19976),k=n(53627),x=n(25407),C=n(30721),v=n(71315),S=n(83494),j=n(54571),I=n(70843),N=n(87555),F=n(34164),_=n(18312),L=n(72511),T=n(10095);function w(){return(0,i.jsxs)(L.A,{variant:"warning",className:"mb-4",children:[(0,i.jsx)(T.A,{icon:u.AlertIcon,className:"mr-2"}),(0,i.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{w.displayName||(w.displayName="SpoofedCommitWarningBanner")}catch{}var A=n(83878);function E({oid:e,repo:t}){return(0,A.N)(e,t.id)?(0,i.jsxs)(L.A,{className:"mb-4",children:[(0,i.jsx)("img",{src:"/images/modules/commit/flowers@2x.png",alt:"flower",width:"88px",height:"49px",className:"mr-4 mt-1 float-left"}),(0,i.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,i.jsx)("p",{children:"We will miss you."})]}):null}try{E.displayName||(E.displayName="WeirichCommitBanner")}catch{}function D({oid:e,repo:t,commitBranchState:n}){return(0,i.jsxs)(i.Fragment,{children:[n.loading||0!==n.branches.length?null:(0,i.jsx)(w,{}),(0,i.jsx)(E,{oid:e,repo:t})]})}try{D.displayName||(D.displayName="CommitBanners")}catch{}var P=n(1117),K=n(46251),R=n(91747),M=n(73017),V=n(44185),B=n(81945),O=n(56833),U=n(21373),$=n(57352),H=n(26108),z=n(26607),q=n(55255),W=n(98783),G=n(3536),Q=n(68534),X=n(42257),Y=n(48926),J=n(43147),Z=n(76214),ee=n(72579);function et({data:e,repo:t,className:n}){return e.loading||0!==e.branches.length?(0,i.jsxs)("div",{className:(0,F.$)(n,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,i.jsx)(T.A,{className:"mr-1",icon:u.GitBranchIcon}),e.loading?(0,i.jsx)(B.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,a)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(en,{branch:n,repo:t}),a!==e.branches.length-1?(0,i.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function en({branch:e,repo:t}){let n=e.branch;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ee.A,{className:"mx-1",href:(0,x.bSP)({repo:t,head:n}),children:e.branch}),e.prs.length>0?(0,i.jsxs)(i.Fragment,{children:["(",e.prs.map((t,n)=>(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(ea,{pullRequest:t}),n!==e.prs.length-1?(0,i.jsx)(i.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function ea({pullRequest:e}){let{repo:t,number:n,showPrefix:a}=e,l=a?`${t.ownerLogin}/${t.name}`:"";return(0,i.jsxs)($.A,{href:(0,x.oDn)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,x.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[l,"#",n]})}try{et.displayName||(et.displayName="CommitBranchInfo")}catch{}try{en.displayName||(en.displayName="BranchFragment")}catch{}try{ea.displayName||(ea.displayName="PullRequestLink")}catch{}let el={"commit-message-container":"CommitHeader-module__commit-message-container--y5fD_","commit-header-actions":"CommitHeader-module__commit-header-actions--Fj6HO","pusher-container":"CommitHeader-module__pusher-container--AoXTp CommitHeader-module__commit-message-container--y5fD_",PageHeader_TitleArea:"CommitHeader-module__PageHeader_TitleArea--aAkxF",PageHeader_Title:"CommitHeader-module__PageHeader_Title--W3dtK",browseFilesTooltip:"CommitHeader-module__browseFilesTooltip--q3qJZ",browseFilesButton:"CommitHeader-module__browseFilesButton--hQymw"};var ei=n(66108);function er({commit:e,repo:t}){return(0,i.jsxs)(i.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,n)=>(0,i.jsxs)(c.Fragment,{children:[0!==n?" + ":"",(0,i.jsx)($.A,{to:(0,x.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(v.fV.origin+v.fV.pathname+v.fV.search,v.fV.origin).search,as:ei.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(n),"data-hovercard-url":(0,x.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,Q.F)(e)})]},e))]})}try{er.displayName||(er.displayName="CommitParents")}catch{}var es=n(5524),eo=n(15220);function ed({data:e,repo:t,className:n}){if(0===e.tags.length)return null;let a=e.tags.length>2&&e.tags.length<25,l=e.tags.length>=25;return(0,i.jsxs)("div",{className:(0,F.$)(n,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,i.jsx)(T.A,{className:"mr-2 fgColor-muted",icon:u.TagIcon}),(0,i.jsx)($.A,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),a?(0,i.jsx)(ec,{tags:e.tags,repo:t}):null,l?(0,i.jsx)(eu,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,i.jsx)($.A,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function ec({tags:e,repo:t}){let[n,a]=(0,c.useState)(!1),l=(0,c.useRef)(null),r=(0,c.useCallback)(()=>{a(!0),requestAnimationFrame(()=>l.current?.focus())},[]);return n?(0,i.jsx)(i.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,i.jsx)($.A,{ref:0===n?l:null,href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,i.jsx)(H.K,{"aria-label":"Show more tags",tooltipDirection:"s",icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:r})}function eu({tags:e,repo:t}){let[n,a]=(0,c.useState)(!1),l=(0,c.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.K,{"aria-label":"Show all tags",tooltipDirection:"s",icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>a(!0),ref:l}),n&&(0,i.jsx)(eo.l,{title:`${e.length} tags`,onClose:()=>a(!1),returnFocusRef:l,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,i.jsx)(es.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,i.jsx)(es.l.LinkItem,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{ed.displayName||(ed.displayName="CommitTagInfo")}catch{}try{ec.displayName||(ec.displayName="ExpandedTags")}catch{}try{eu.displayName||(eu.displayName="CommitTagsDialog")}catch{}let em=(0,c.memo)(ep);function ep({commit:e,commitInfo:t,repo:n}){let a=(0,c.useRef)(null),l=(0,G.I)(`${(0,x.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:e.oid})}/deferred_commit_data`);return(0,i.jsxs)(O.z,{children:[(0,i.jsx)(O.z.TitleArea,{variant:"large",className:el.PageHeader_TitleArea,children:(0,i.jsxs)(O.z.Title,{as:"h1",className:(0,F.$)("f2",el.PageHeader_Title),children:["Commit ",(0,i.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,Q.F)(e.oid)})]})}),(0,i.jsx)(O.z.Actions,{className:(0,F.$)(el["commit-header-actions"]),children:(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-md-justify-end",children:[(0,i.jsx)(ef,{}),(0,i.jsx)(q.A,{text:"Browse the repository at this point in the history",direction:"sw",className:(0,F.$)("d-none d-md-flex",el.browseFilesTooltip),children:(0,i.jsx)(U.Q,{as:$.A,href:(0,x.IO9)({repo:n,action:"tree",commitish:e.oid}),leadingVisual:u.FileCodeIcon,className:el.browseFilesButton,children:"Browse files"})}),(0,i.jsx)(H.K,{as:$.A,href:(0,x.IO9)({repo:n,action:"tree",commitish:e.oid}),icon:u.FileCodeIcon,"aria-label":"Browse files",className:"d-flex d-md-none"})]})}),(0,i.jsx)(O.z.Description,{children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,i.jsx)(Y.j,{commit:e,repo:n,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,i.jsx)(eg,{deferredData:l,oid:e.oid,repo:n})}),(0,i.jsxs)(Z.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,i.jsxs)("div",{className:(0,F.$)(el["commit-message-container"]),children:[e.shortMessageMarkdown&&(0,i.jsx)(M.JR,{ref:a,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,i.jsx)(M.JR,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,i.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsx)(et,{data:t,repo:n}),t.tags.length>0&&(0,i.jsx)("span",{className:"px-2",children:"\xb7"}),(0,i.jsx)(ed,{data:t,repo:n})]}),(0,i.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,i.jsx)(er,{commit:e,repo:n})," commit ",(0,i.jsx)("span",{className:"fgColor-default",children:(0,Q.F)(e.oid)}),(0,i.jsx)(J.w,{sha:e.oid,direction:"sw"})]})]}),(0,R.u)("show_pusher_on_commit_detail")&&e.pusher&&(0,i.jsx)("div",{className:(0,F.$)(el["pusher-container"]),children:(0,i.jsx)(Y.C,{commit:e,repo:n,textVariant:"muted"})})]})]})})]})}function eg({deferredData:e,oid:t,repo:n}){let{helpUrl:a}=(0,W.D)(),l=void 0===e,r="";try{r=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(B.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,i.jsx)(X.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:r,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,i.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(V.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:a,...e.signatureInformation}})})]})}function ef(){return(0,R.u)("diff_ux_refresh_beta")?(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(z.A,{variant:"success",children:"Preview"}),(0,i.jsx)($.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal d-none d-sm-block",children:"Give feedback"})]}):null}try{em.displayName||(em.displayName="CommitHeader")}catch{}try{ep.displayName||(ep.displayName="CommitHeaderUnmemoized")}catch{}try{eg.displayName||(eg.displayName="DeferredCommitHeaderData")}catch{}try{ef.displayName||(ef.displayName="Feedback")}catch{}function eh({unavailableReason:e,commit:t,commitInfo:n}){let a=(0,r.t)(),l=ey[e];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,i.jsx)(em,{commit:t,commitInfo:n,repo:a})}),(0,i.jsxs)(m.E,{children:[(0,i.jsx)(m.E.Visual,{children:l.visual}),(0,i.jsx)(m.E.Heading,{children:l.heading}),(0,i.jsx)(m.E.Description,{children:l.description}),l.secondaryAction]})]})}let ey={corrupt:{visual:(0,i.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(m.E.SecondaryAction,{href:(0,x.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,i.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(m.E.SecondaryAction,{href:(0,x.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,i.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,i.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{eh.displayName||(eh.displayName="CommitUnavailable")}catch{}var eb=n(35311),ek=n(73189),ex=n(79634),eC=n(88431),ev=n(51220),eS=n(38943),ej=n(96379);let eI={extraDiffEntries:[],loading:!0,error:!1};var eN=n(99511);let eF={defaultStyles:"DiffFind-module__defaultStyles--HqMRo"},e_=(0,c.memo)(function({currentPathDigestIndex:e,searchTerm:t,searchResults:n,setSearchTerm:a,focusedSearchResult:l,currentIndex:r,setCurrentIndex:s,setFocusedSearchResult:o,scrollDiffCellIntoView:d}){let m=(0,c.useRef)([]),p=(0,c.useRef)(0),g=(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[t&&(0,i.jsxs)("span",{className:"text-small fgColor-subtle mx-2 text-center",children:[0===n.size||void 0===l?0:r+1,"/",p.current]}),!t&&(0,i.jsx)("span",{className:"text-small fgColor-subtle mx-2 text-center pr-4",children:"\xa0"}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.K,{size:"small",variant:"invisible",onClick:()=>{f(-1)},icon:u.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search"}),(0,i.jsx)(H.K,{size:"small",variant:"invisible",onClick:()=>{f(1)},icon:u.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search"})]})]}),f=t=>{if(void 0===l||""===l.pathDigest){e.current=0,o({pathDigest:m.current[0]??"",indexWithinDigest:0});return}1===t?(s(r===p.current-1?0:r+1),l.indexWithinDigest===n.get(l.pathDigest).length-1?(e.current=e.current+1,e.current===m.current.length&&(e.current=0),l.pathDigest=m.current[e.current]??"",l.indexWithinDigest=0):l.indexWithinDigest=l.indexWithinDigest+1):(s(0===r?p.current-1:r-1),0===l.indexWithinDigest?(e.current=e.current-1,-1===e.current&&(e.current=m.current.length-1),l.pathDigest=m.current[e.current]??"",l.indexWithinDigest=n.get(l.pathDigest).length-1):l.indexWithinDigest=l.indexWithinDigest-1),o(l)};return(0,c.useEffect)(()=>{m.current=Array.from(n.keys()),e.current=0,o({pathDigest:m.current[0]??"",indexWithinDigest:0});let t=0;for(let e of n.values())t+=e.length;p.current=t},[e,n,n.size,o]),(0,c.useEffect)(()=>{n.size>0&&void 0!==l&&d(l)},[n,l,r]),(0,i.jsxs)("div",{className:eF.defaultStyles,children:[(0,i.jsx)(S.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>f(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>f(-1)}}),(0,i.jsx)(S.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>f(1),"pull-requests-diff-view:jump-to-previous-result":()=>f(-1)},children:(0,i.jsx)(eN.A,{className:"border-0 box-shadow-none",style:{width:"100%"},validationStatus:p.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,i.jsx)(T.A,{icon:u.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in commit input","aria-label":"Search within code",placeholder:"Search within code",value:t,onChange:t=>{t.target.value?(a(t.target.value),s(0)):(a(""),o(void 0),e.current=0)},block:!0,trailingAction:g})})]})});try{e_.displayName||(e_.displayName="DiffFind")}catch{}function eL(e,t){return`${"left"===t?"L":"R"}${e}`}function eT(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function ew(e){let t=eL(e.startLineNumber,e.startOrientation),n=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=eL(e.endLineNumber,e.endOrientation);n+=`-${t}`}return n}function eA(e){let t=`#${e}`;if(t===window.location.hash)return;let n=window.location.href;(0,k.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:n}))}var eE=n(7808),eD=n(4788);function eP({data:e}){let{query:t,diffEntryInfo:n,currentDiffEntryData:a}=e;return{matchingDiffs:a?function(e,t,n){if(0===n.size)return new Map;let a=n.size>=200,l={},i=e.reduce((n,a,i)=>{if(l[i])return n;l[i]=!0;let r=eM(t,[e[i]]),s=r.next();for(;!s.done&&n.size<200;){let{resultsWithinDiff:t}=s.value;n.set(e[i]?.pathDigest??"",t),s=r.next()}return n},new Map);if(i.size<200&&a){let n=eM(t,e,i.size),a=n.next();for(;!a.done&&i.size<200;){let{resultsWithinDiff:t,diff:l}=a.value;i.set(e[l]?.pathDigest??"",t),a=n.next()}}return i}(n,eR(t),a):function(e,t){let n=new Map,a=eM(t,e),l=a.next();for(;!l.done&&n.size<200;){let{resultsWithinDiff:t,diff:i}=l.value;n.set(e[i]?.pathDigest??"",t),l=a.next()}return n}(n,eR(t)),query:t}}let eK={Text:"Text"};function eR(e){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{kind:eK.Text,regexp:RegExp(t,"gi")}}function*eM(e,t,n=0){for(let a=n;a<t.length;a++){let n=t[a],l=[],i=0;for(let r=0;r<n.diffLines.length;r++){let s,o;s=t[a]?.diffLines[r]?.type==="HUNK"?n.diffLines[r]?.text:n.diffLines[r]?.text?.substring(1);let d=n.diffLines[r];for(;s&&null!==(o=e.regexp.exec(s));){let e=o[0],t=o.index;l.push({pathDigest:n.pathDigest,indexWithinPathDigest:i,matchContent:e,column:t,diffLineNumIndex:r,isHunk:d?.type==="HUNK",hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:t+e.length,text:s}),i++}}0!==l.length&&(yield{diff:a,resultsWithinDiff:l})}}var eV=n(84078);function eB(){let[e,t]=(0,c.useState)(!1);return(0,i.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,i.jsx)(eV.l,{title:"Some content is hidden",description:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eB.displayName||(eB.displayName="VirtualizedBanner")}catch{}var eO=n(50683),eU=n(59523),e$=n(28014),eH=n(30617),ez=n(49245);async function eq(e,t,n){let a=await (0,ej.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(a.ok)return await a.json()??void 0}async function eW({repo:e,sha1:t,sha2:n,entry:a}){let l=await (0,ej.Sr)((0,x.uxJ)({owner:e.ownerLogin,repo:e.name,entry:a,sha1:t,sha2:n}));if(l.ok)return(await l.json()).diffLines;throw Error("error fetching diff lines.")}var eG=n(13083),eQ=n(60745),eX=n(21537),eY=n(11683);let eJ={ArrowLeft:eY.z0.ArrowHorizontal,ArrowDown:eY.z0.ArrowVertical,ArrowUp:eY.z0.ArrowVertical,ArrowRight:eY.z0.ArrowHorizontal,h:eY.z0.HL,j:eY.z0.JK,k:eY.z0.JK,l:eY.z0.HL,a:eY.z0.AD,s:eY.z0.WS,w:eY.z0.WS,d:eY.z0.AD,Tab:eY.z0.Tab,Home:eY.z0.HomeAndEnd,End:eY.z0.HomeAndEnd,PageUp:eY.z0.PageUpDown,PageDown:eY.z0.PageUpDown,Backspace:eY.z0.Backspace},eZ=eY.z0.ArrowAll|eY.z0.PageUpDown|eY.z0.HomeAndEnd|eY.z0.AD,e0={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"}},e1=(0,c.createContext)(null);function e2({children:e,...t}){let n=!!t.commentingImplementation,a=!!t.markerNavigationImplementation;if(t.commentingEnabled!==n&&t.commentingEnabled!==a)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let l=t?.ghostUser??e0.ghostUser,r=(0,c.useMemo)(()=>({ghostUser:l,...t}),[...Object.values(t),l]);return(0,i.jsx)(e1.Provider,{value:r,children:e})}function e4(){let e=(0,c.useContext)(e1);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{e1.displayName||(e1.displayName="DiffContext")}catch{}try{e2.displayName||(e2.displayName="DiffContextProvider")}catch{}var e7=n(4559),e3=n(46996),e8=n(18651);let e5={Failure:"FAILURE",Notice:"NOTICE",Warning:"WARNING"},e9="empty-diff-line";function e6(e,t,n){return"left"===n?!tn(e)&&e.left===t:!tn(e)&&(0,eG.XU)(e.type)===n&&e.right===t}function te(e,t,n){let a=`-${tn(t)||"number"!=typeof t.left?"empty":t.left}`,l=n?`-${tn(n)||"number"!=typeof n.right?"empty":n.right}`:"";return`${e}${a}${l}`}function tt(e,t){return`${e}-${t}`}function tn(e){return!!e&&e===e9}function ta(e){return"CONTEXT"===e.type}function tl(e,t,n=!1){return n?function(e,t){let n;switch(t){case"ADDITION":n=["+"];break;case"DELETION":n=["-"];break;case"CONTEXT":n=[" "];break;case"INJECTED_CONTEXT":n=[" ","~"]}if(void 0===n||0===n.length||n.every(t=>!e.startsWith(t)))return[e,void 0];let a=e[0];return[e.substring(1),a]}(e,t):function(e,t){let n;switch(t){case"ADDITION":n="+";break;case"DELETION":n="-";break;case"CONTEXT":case"INJECTED_CONTEXT":n=" "}if(!n||!e.startsWith(n))return[e,void 0];let a=e[0];return[e.substring(1),a]}(e,t)}function ti(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function tr(e){return["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type)}function ts({line:e,range:t,fileAnchor:n}){let a,{origin:l,pathname:i}=window.location;if(e){let l=tr(e)?e.left:e.right;a=t&&l&&t.startLineNumber<=l&&t.endLineNumber>=l?ew(t):function(e,t){let n=tr(e),a=n?e.left:e.right,l=n?"left":"right";if(null!==a)return ew({diffAnchor:t,endLineNumber:a,endOrientation:l,startLineNumber:a,startOrientation:l,firstSelectedLineNumber:a,firstSelectedOrientation:l})}(e,n)}else t&&(a=ew(t));if(a)return`${l}${i}#${a}`}function to({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:a}){let l=e?`${(0,e8.U0)()?"\u2318":"Ctrl + "}`:"";return n&&(l+=`${(0,e8.U0)()?"\u2325":"Alt + "}`),t&&(l+=`${(0,e8.U0)()?"\u21E7":"Shift + "}`),l+=a}function td({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:a}){let l="";return e&&(l+=(0,e8.U0)()?"Command+":"Control+"),n&&(l+=(0,e8.U0)()?"Option+":"Alt+"),t&&(l+="Shift+"),l+=a}let tc=["ADDITION","DELETION","CONTEXT"],tu=e=>e?e.filter(e=>!tn(e)).map(e=>{let[t]=tl(ti(e.html),e.type);return t}).join(`
`):"";function tm(e,t=!1,n=!1){let a;switch(e){case"ADDITION":a=t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";break;case"DELETION":a=t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";break;case"HUNK":a=t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";break;case"EMPTY":a=t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";break;default:a="var(--bgColor-default)"}return n?`color-mix(in oklab, var(--bgColor-accent-emphasis) 8%, ${a})`:a}function tp({selectedDiffRowRange:e,leftLines:t,rightLines:n,isNumberCell:a}){let l=!!n,{startOrientation:i,endOrientation:r}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation&&!a)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let s=u(i).findIndex(t=>e6(t,e.startLineNumber,e.startOrientation)),o=u(r).findIndex(t=>e6(t,e.endLineNumber,e.endOrientation)),d=s>=0&&o>=0;function c(e){if(!d||tn(e))return!1;let t=u((0,eG.XU)(e.type)).indexOf(e);return t>=s&&t<=o}function u(e){var a;return l&&"left"!==("string"==typeof(a=e)?a:(0,eG.XU)(a.type))?n:t}let m=u("left").filter(e=>c(e)),p=u("right").filter(e=>c(e));return{isRowSelected:c,selectedRightLines:p,selectedLeftLines:m}}let tg=e=>{let t=(0,c.useRef)(e);return(0,eC.N)(()=>(t.current=e,()=>t.current=null),[e]),(0,c.useCallback)((...e)=>t.current?.(...e),[])},tf=(0,c.createContext)(null);function th(){let e=(0,c.useContext)(tf);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function ty(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,e7.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,e7.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function tb({children:e}){let t=(0,c.useRef)(new Map),n=tg((e,n)=>{if(!e)return;let a=e.diffAnchor,l=t.current.get(a);if(!l)return;let{leftLines:i,rightLines:r}=function(e){let t=[],n=[],a=()=>{for(;t.length<n.length;)t.push(e9);for(;n.length<t.length;)n.push(e9)};for(let l of e)switch(l.type){case"ADDITION":n.push(l);break;case"DELETION":t.push(l);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":a(),t.push(l),n.push(l)}return a(),{leftLines:t,rightLines:n}}(l);return tp({selectedDiffRowRange:e,leftLines:i,rightLines:r,isNumberCell:n})}),[a,l]=(0,c.useState)(()=>(function(e){let t=function(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let n=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=n&&6===n.length?n:null}(e);if(t){let e=t[1],n=t[2]?"L"===t[2]?"left":"right":void 0,a=t[3]?parseInt(t[3]):void 0;if(!e||!n||void 0===a)return;return{diffAnchor:e,startOrientation:n,startLineNumber:a,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??n,endLineNumber:(t[5]?parseInt(t[5]):void 0)??a,firstSelectedLineNumber:a,firstSelectedOrientation:n}}})(v.fV.hash)),[r,s]=(0,c.useState)(()=>{if(a){let e=n(a);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),o=tg((e,t)=>{let a=n(e,t),l=a?{leftLines:a.selectedLeftLines,rightLines:a.selectedRightLines||[]}:{leftLines:[],rightLines:[]};(0,e3.A)(r,l)||s(l)}),d=tg((e,t,n,i,r)=>{if(!t||!n)return;let s=i&&a&&a.diffAnchor===e?t<=a.firstSelectedLineNumber?{...a,startLineNumber:t,startOrientation:n,endLineNumber:a.firstSelectedLineNumber,endOrientation:a.firstSelectedOrientation}:{...a,startLineNumber:a.firstSelectedLineNumber,startOrientation:a.firstSelectedOrientation,endLineNumber:t,endOrientation:n}:{diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:t,startOrientation:n,firstSelectedLineNumber:t,firstSelectedOrientation:n};ty(s),(r||i)&&l(s),o(s,r),eA(ew(s))}),u=tg(e=>{ty(e),l(e),o(e),eA(ew(e))}),m=tg(({diffAnchor:e,startGridCell:t,endGridCell:n,focusedGridCell:a})=>{u({diffAnchor:e,endLineNumber:n.lineNumber,endOrientation:n.orientation,firstSelectedLineNumber:a.lineNumber,firstSelectedOrientation:a.orientation,startLineNumber:t.lineNumber,startOrientation:t.orientation})}),p=tg(()=>{a&&(l(void 0),o(void 0),(0,e7.i)("Selection Cleared"),(0,k.K3)())}),g=tg((e,n)=>{t.current.set(e,n),a?.diffAnchor===e&&o(a)}),f=tg(e=>t.current.get(e)),h=(0,c.useMemo)(()=>({selectedDiffRowRange:a,updateSelectedDiffRowRange:d,clearSelectedDiffRowRange:p,replaceSelectedDiffRowRange:u,replaceSelectedDiffRowRangeFromGridCells:m,updateDiffLines:g,selectedDiffLines:r,getDiffLinesFromLineRange:n,getDiffLinesByDiffAnchor:f}),[a,d,p,u,m,r,g,n,f]);return(0,i.jsx)(tf.Provider,{value:h,children:e})}try{tf.displayName||(tf.displayName="SelectedDiffRowRangeContext")}catch{}try{tb.displayName||(tb.displayName="SelectedDiffRowRangeContextProvider")}catch{}let tk={finalLineId:"final-hunk-header-line"};function tx(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function tC(e,t){if("HUNK"===e.type&&e.__id===tk.finalLineId)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let n=t.sort(tx).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[n],nextHunk:t[n+1],previousHunk:t[n-1]}}function tv(e){let t,n=[],a=0;for(let l=1;l<e.length;l++){let i=e[l];if(i&&!tn(i)&&(t=i,"HUNK"===i.type)){let t,r=e[a];if(!r||tn(r))continue;let s=l-1;for(;(!t||tn(t))&&(t=e[s],-1!=--s););t&&!tn(t)&&n.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:t.blobLineNumber}),i.__id===tk.finalLineId&&n.push({startBlobLineNumber:i.blobLineNumber,endBlobLineNumber:i.blobLineNumber+20}),a=l;continue}}if(t&&"HUNK"!==t.type){let l=e[a];l&&!tn(l)&&n.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:t.blobLineNumber})}return n}let tS={tableLayoutFixed:"DiffLines-module__tableLayoutFixed--InKAb",compact:"DiffLines-module__compact--emLm8"};var tj=n(69726);let tI={gridColumnTemplate:"HiddenDiffPatch-module__gridColumnTemplate--UvUAt"};function tN({children:e,helpText:t,helpUrl:n,onLoadDiff:a,diffAnchor:l}){let r=n&&t,[s,o]=(0,c.useState)("initial"),d=(0,c.useCallback)(async()=>{try{o("loading"),await a()}catch{o("error")}},[a,o]);return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":l,children:(0,i.jsxs)("div",{className:(0,F.$)(tI.gridColumnTemplate),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:["loading"===s&&(0,i.jsx)(tj.A,{size:"medium"}),"error"===s&&(0,i.jsx)(u.AlertIcon,{size:24}),"initial"===s&&(0,i.jsx)(U.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{d(),o("loading")},children:"Load Diff"}),"error"===s?(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,i.jsx)($.A,{inline:!0,as:"button",onClick:()=>{d(),o("loading")},children:"Retry"})]}):(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,r&&(0,i.jsx)($.A,{inline:!0,href:n,children:t})]})]})]})})}try{tN.displayName||(tN.displayName="HiddenDiffPatch")}catch{}var tF=n(12918);let t_=(0,c.createContext)(null);function tL({children:e,currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:l,fileLineCount:r,filePath:s,hasHiddenUnicodeCharacters:o,isLeftSide:d,isRowSelected:u=!1,isSplit:m,modifiedLineThreads:p,nextHunk:g,originalLineThreads:f,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}){let x=(0,c.useMemo)(()=>({currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:l,fileLineCount:r,filePath:s,hasHiddenUnicodeCharacters:o,isLeftSide:d,isRowSelected:u,isSplit:m,modifiedLineThreads:p,modifiedLineHasThreads:p&&p.length>0,nextHunk:g,originalLineThreads:f,originalLineHasThreads:f&&f.length>0,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}),[t,n,a,l,r,s,o,d,u,m,p,g,f,h,y,b,k]);return(0,i.jsx)(t_.Provider,{value:x,children:e})}function tT(){let e=(0,c.useContext)(t_);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{t_.displayName||(t_.displayName="DiffLineContext")}catch{}try{tL.displayName||(tL.displayName="DiffLineContextProvider")}catch{}function tw(e,t){return e?.threads?.flatMap(e=>{let n=e?.id,a=e?.commentsData?.comments?.[0]?.author??t,l=e?.commentsData?.totalCount??0,i=e?.commentsData?.__id;return n&&a?[{id:n,author:a,commentCount:l,commentsConnectionId:i,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}var tA=n(45800),tE=n(35750),tD=n(18150),tP=n(85242),tK=n(88243),tR=n(16213),tM=n(50467),tV=new WeakMap,tB=new WeakMap,tO=new WeakMap,tU=new WeakMap,t$=new WeakMap,tH=new WeakMap,tz=new WeakSet,tq=new WeakSet,tW=new WeakSet,tG=new WeakSet,tQ=new WeakSet,tX=new WeakSet,tY=new WeakSet,tJ=new WeakSet,tZ=new WeakSet,t0=new WeakSet;let GridNavigator=class GridNavigator{moveToNextItem(e,t){let n,a=(0,tE._)(this,tB).get(this.focusedGridCell?.cellId??"");if(!a)return;let[l]=a,[,i]=a;switch(("ArrowDown"===e||"ArrowUp"===e)&&(0,tK._)(this,tY,t5).call(this,l)&&(0,tE._)(this,tU)&&(i=(0,tE._)(this,tU),(0,tP._)(this,tU,void 0)),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=(0,tE._)(this,tV).length-1,t=(0,tE._)(this,tV)[e]?.length;t&&(n=(0,tE._)(this,tV)[e]?.[t-1]);break}case"ArrowUp"===e:(0,tK._)(this,tY,t5).call(this,l-1)?((0,tK._)(this,t0,ne).call(this,i),n=(0,tE._)(this,tV)[l-1]?.[0]):n=(0,tE._)(this,tV)[l-1]?.[i];break;case"ArrowDown"===e:(0,tK._)(this,tY,t5).call(this,l+1)?((0,tK._)(this,t0,ne).call(this,i),n=(0,tE._)(this,tV)[l+1]?.[0]):n=(0,tE._)(this,tV)[l+1]?.[i];break;case"ArrowLeft"===e:n=(0,tE._)(this,tV)[l]?.[i-1];break;case"ArrowRight"===e:n=(0,tE._)(this,tV)[l]?.[i+1];break;case"PageUp"===e:{(0,tK._)(this,t0,ne).call(this,i);let e=(0,tK._)(this,tW,t4).call(this,l);n=(0,tE._)(this,tV)[e]?.[0];break}case"PageDown"===e:{(0,tK._)(this,t0,ne).call(this,i);let e=(0,tK._)(this,tq,t2).call(this,l),t=0;e||(e=(0,tE._)(this,tV).length-1,t=i),n=(0,tE._)(this,tV)[e]?.[t];break}case"Home"===e:n=(0,tE._)(this,tV)[l]?.[0];break;case"End"===e:{let e=(0,tE._)(this,tV)[l];if(e&&!(0,tK._)(this,tY,t5).call(this,l)){let t=e.length-1;n=(0,tE._)(this,tV)[l]?.[t]}}}return n&&(this.focusedGridCell=n),this.focusedGridCell}reinitializeGrid(e,t){(0,tK._)(this,tG,t7).call(this,e,t)}focusFirstGridCell(e){e&&(0,tE._)(this,tB).get(e)?this.focusGridCell(e):this.focusedGridCell=(0,tE._)(this,tV)[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=(0,tE._)(this,tB).get(e);if(!t)return;let[n,a]=t;this.focusedGridCell=(0,tE._)(this,tV)[n]?.[a]}getNextSelectableCell(e){let t,n=this.getValidSelectableRowCell()||this.focusedGridCell,a=this.lastSelectedGridCell||n,l=(0,tE._)(this,tB).get(a?.cellId??"");if(!l)return;let[i,r]=l;if("ArrowUp"===e){let e=i-1;for(;!t&&e>=0;)t=(0,tK._)(this,tz,t1).call(this,{rowIndex:e,columnIndex:r}),e--}if("ArrowDown"===e){let e=i+1;for(;!t&&e<(0,tE._)(this,tV).length;)t=(0,tK._)(this,tz,t1).call(this,{rowIndex:e,columnIndex:r}),e++}return t&&(this.lastSelectedGridCell=t),t}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=(0,tE._)(this,tB).get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<=1&&!(0,tE._)(this,tH)?(0,tE._)(this,tV)[e]?.[this.focusedGridCell.columnIndex+1]:this.focusedGridCell.columnIndex<2&&(0,tE._)(this,tH)?(0,tE._)(this,tV)[e]?.[this.focusedGridCell.columnIndex+2]:(0,tE._)(this,tV)[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=(0,tE._)(this,tV).find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=(0,tE._)(this,tV).slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,n){let a=tt(te((0,tE._)(this,t$),e,t),0),l=(0,tE._)(this,tB).get(a);if(!l)return!1;let[i]=l;return!!n===(0,tK._)(this,tY,t5).call(this,i)}constructor(e,t,n,a,l){(0,tR._)(this,tz),(0,tR._)(this,tq),(0,tR._)(this,tW),(0,tR._)(this,tG),(0,tR._)(this,tQ),(0,tR._)(this,tX),(0,tR._)(this,tY),(0,tR._)(this,tJ),(0,tR._)(this,tZ),(0,tR._)(this,t0),(0,tD._)(this,tV,{writable:!0,value:[]}),(0,tD._)(this,tB,{writable:!0,value:new Map}),(0,tD._)(this,tO,{writable:!0,value:new Set}),(0,tM._)(this,"focusedGridCell",void 0),(0,tM._)(this,"lastSelectedGridCell",void 0),(0,tD._)(this,tU,{writable:!0,value:void 0}),(0,tD._)(this,t$,{writable:!0,value:void 0}),(0,tD._)(this,tH,{writable:!0,value:void 0}),(0,tP._)(this,t$,e),(0,tP._)(this,tH,t),(0,tK._)(this,tG,t7).call(this,n,a),this.focusFirstGridCell(l)}};function t1({rowIndex:e,columnIndex:t}){let n=(0,tE._)(this,tV)[e],a=n?.[t];switch(!0){case a?.isHunk:return;case a?.orientation==="left"&&a.isEmpty:return n?.[t+2];case a?.orientation==="right"&&a.isEmpty&&(0,tE._)(this,tH):return n?.[t-2];case a?.orientation==="right"&&a.isEmpty&&!(0,tE._)(this,tH):return n?.[t+1];default:return n?.[t]}}function t2(e){return Array.from((0,tE._)(this,tO)).sort((e,t)=>e-t).find(t=>t>e)}function t4(e){return Array.from((0,tE._)(this,tO)).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}function t7(e,t){(0,tP._)(this,tV,[]),(0,tP._)(this,tB,new Map),(0,tP._)(this,tO,new Set);for(let n=0;n<e.length;n++){let a=[],l=e[n];if(void 0!==l){if((0,tE._)(this,tH)){let e=(t||[])[n],i=te((0,tE._)(this,t$),l,e);tn(l)||"HUNK"!==l.type?(0,tK._)(this,tJ,t9).call(this,{leftLine:l,rightLine:e,row:a,rowIdentifier:i,rowIndex:n}):(0,tK._)(this,tX,t8).call(this,a,i,n)}else{let e=te((0,tE._)(this,t$),l,l);tn(l)||"HUNK"!==l.type?(0,tK._)(this,tZ,t6).call(this,{diffLine:l,row:a,rowIdentifier:e,rowIndex:n}):(0,tK._)(this,tX,t8).call(this,a,e,n)}(0,tE._)(this,tV).push(a)}}}function t3({cellIndex:e,diffLine:t,orientation:n,row:a,rowIdentifier:l,rowIndex:i,isSplit:r}){let s,o,d=tt(l,e);o=!(r||tn(t))&&t?.type==="DELETION"&&1===e||!(r||tn(t))&&t?.type==="ADDITION"&&0===e||tn(t),tn(t)||"left"!==n||(s=t?.left),tn(t)||"right"!==n||(s=t?.right),a.push({lineNumber:s,orientation:n,isEmpty:o,isHunk:!1,cellId:tt(l,e),columnIndex:e}),(0,tE._)(this,tB).set(d,[i,e])}function t8(e,t,n){let a=tt(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:a,columnIndex:0}),(0,tE._)(this,tB).set(a,[n,0]),(0,tE._)(this,tO).add(n)}function t5(e){return(0,tE._)(this,tO).has(e)}function t9({leftLine:e,rightLine:t,row:n,rowIdentifier:a,rowIndex:l}){(0,tK._)(this,tQ,t3).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:a,rowIndex:l,isSplit:!0}),(0,tK._)(this,tQ,t3).call(this,{cellIndex:1,diffLine:e,orientation:"left",row:n,rowIdentifier:a,rowIndex:l,isSplit:!0}),(0,tK._)(this,tQ,t3).call(this,{cellIndex:2,diffLine:t,orientation:"right",row:n,rowIdentifier:a,rowIndex:l,isSplit:!0}),(0,tK._)(this,tQ,t3).call(this,{cellIndex:3,diffLine:t,orientation:"right",row:n,rowIdentifier:a,rowIndex:l,isSplit:!0})}function t6({diffLine:e,row:t,rowIdentifier:n,rowIndex:a}){let l=tn(e)||"DELETION"!==e.type?"right":"left";(0,tK._)(this,tQ,t3).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:n,rowIndex:a,isSplit:!1}),(0,tK._)(this,tQ,t3).call(this,{cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:n,rowIndex:a,isSplit:!1}),(0,tK._)(this,tQ,t3).call(this,{cellIndex:2,diffLine:e,orientation:l,row:t,rowIdentifier:n,rowIndex:a,isSplit:!1})}function ne(e){(0,tK._)(this,tY,t5).call(this,e)||(0,tP._)(this,tU,e)}function nt(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}function nn(e){return e in eJ&&(eJ[e]&eZ)>0}function na({clearSelectedDiffRowRange:e,containerRef:t,fileAnchor:n,isSplitDiff:a,leftLines:l,replaceSelectedDiffRowRangeFromGridCells:i,rightLines:r,disabled:s}){var o;let d=(0,c.useRef)(void 0),u=(0,c.useMemo)(()=>new GridNavigator(n,a,l,r,d.current?.focusedGridCell?.cellId),[n,a,l,r]);(0,c.useEffect)(()=>{d.current=u},[u]),(0,c.useEffect)(()=>{let e=t.current,n=()=>{u.clearLastSelectedCell()};return e?.addEventListener("mousedown",n),()=>e?.removeEventListener("mousedown",n)},[t,u]),o=d.current,(0,c.useEffect)(()=>{if(o&&document.activeElement){let e=function(e,t,n){let a=[];for(let l=0;l<t.length;l++){let i=t[l],r=n?.[l]??i,s=!tn(i)&&i?.type==="HUNK";i&&r&&!e.hasLine(i,r,s)&&a.push(i)}return a}(o,l,r);if(0!==e.length){if(document.activeElement===document.body){let t,a,i,r=l.indexOf(e[e.length-1]),s=l[r+1],o=e[0];s&&!tn(s)&&"HUNK"===s.type&&(t=tt(te(n,s,s),0),a=document.querySelector(`[data-grid-cell-id=${t}]`),i=a?.querySelector("button[data-direction=down], button[data-direction=all]")),i||(t=tt(te(n,o,o),0),a=document.querySelector(`[data-grid-cell-id=${t}]`),i=a?.querySelector("button[data-direction=up], button[data-direction=all]")),t&&a&&(i?i.focus():a.focus(),u.focusGridCell(t),nt(a))}else if("BUTTON"===document.activeElement.tagName)nt(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),n=u.focusedGridCell?.cellId;if(e!==n){let e=t.current?.querySelector(`[data-grid-cell-id=${n}]`);e?.focus()}}}}},[n,l,u,r,o,t]);let m=(0,c.useCallback)(e=>{let t=e.target.getAttribute("data-grid-cell-id");t&&u.focusGridCell(t)},[u]);(0,c.useEffect)(()=>{let e=t.current;return e?.addEventListener("focusin",m),()=>e?.removeEventListener("focusin",m)},[t,m]);let p=(0,c.useCallback)((t,a,l)=>{let r=u.getValidSelectableRowCell();switch(!0){case(l.metaKey||l.ctrlKey)&&"KeyA"===l.code:{let e=u.getFirstCodeCell(),t=u.getLastCodeCell();if(!e||!t)return a;return i({diffAnchor:n,focusedGridCell:e,startGridCell:e,endGridCell:t}),a}case l.shiftKey&&"ArrowDown"===l.key:{let e=u.getNextSelectableCell("ArrowDown");if(!e||!r)return a;return i({diffAnchor:n,focusedGridCell:r,startGridCell:r,endGridCell:e}),nl(e.cellId),a}case l.shiftKey&&"ArrowUp"===l.key:{let e=u.getNextSelectableCell("ArrowUp");if(!e||!r)return a;return i({diffAnchor:n,focusedGridCell:r,startGridCell:e,endGridCell:r}),nl(e.cellId),a}case"ArrowLeft"===l.key&&l.metaKey&&l.shiftKey:return a;default:{let t=u.moveToNextItem(l.key,l.ctrlKey),n=t&&document.querySelector(`[data-grid-cell-id=${t.cellId}]`);return e(),u.clearLastSelectedCell(),n??void 0}}},[u,n,i,e]);return(0,tA.G)({containerRef:t,bindKeys:eZ,getNextFocusable:p,focusableElementFilter:e=>"BUTTON"!==e.tagName&&"TEXTAREA"!==e.tagName,focusInStrategy:"previous",disabled:s},[p]),{gridNavigator:u}}function nl(e){let t=v.XC?.querySelector(`[data-grid-cell-id=${e}]`);!function(e){if(!v.XC||!v.cg||!e)return!1;let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(v.cg.innerHeight||v.XC.documentElement.clientHeight)&&t.right<=(v.cg.innerWidth||v.XC.documentElement.clientWidth)}(t)&&t?.scrollIntoView({block:"nearest",inline:"nearest"})}var ni=n(87825);let nr=(0,c.createContext)({isInDialogMode:!1,enableInlineCommentDialogMode:()=>{},disableInlineCommentDialogMode:()=>{}});function ns({enableDiffGridMode:e,children:t}){let[n,a]=(0,c.useState)(!1),l=(0,c.useCallback)(()=>{a(!0),e?.(!1)},[e]),r=(0,c.useCallback)(()=>{a(!1),e?.(!0)},[e]),s=(0,c.useMemo)(()=>({isInDialogMode:n,enableInlineCommentDialogMode:l,disableInlineCommentDialogMode:r}),[n,l,r]);return(0,i.jsx)(nr.Provider,{value:s,children:t})}let no=()=>(0,c.useContext)(nr);try{nr.displayName||(nr.displayName="InlineCommentDialogModeContext")}catch{}try{ns.displayName||(ns.displayName="InlineCommentDialogModeProvider")}catch{}function nd(e){return null!=e}let nc="thread",nu="annotation",nm=(0,c.createContext)(null);function np({children:e,line:t}){let[n,a]=(0,c.useState)(!1),[l,r]=(0,c.useState)(),[s,o]=(0,c.useState)(),[d,u]=(0,c.useState)(),[m,p]=(0,c.useState)(),[g,f]=(0,c.useState)(),{ghostUser:h,markerNavigationImplementation:y}=e4(),{originalLineThreads:b,modifiedLineThreads:k}=tT(),[x,C]=(0,c.useState)(),v=nf({line:t,side:x,originalLineThreads:b,modifiedLineThreads:k,ghostUser:h}),S=(0,c.useMemo)(()=>!!l||!!s||!!d||!!m,[l,d,s,m]),j=(0,c.useCallback)(()=>{a(!0)},[]),I=(0,c.useCallback)(()=>{a(!1)},[]),N=(0,c.useCallback)(e=>{e?f({id:e,kind:nc}):f(void 0)},[]),F=g?.kind===nc?g.id:void 0,_=g?.kind===nu?g.id:void 0,L=(0,c.useCallback)(e=>{e?f({id:e,kind:nu}):f(void 0)},[]),T=(0,c.useCallback)((e,t,n)=>{var a=y?.overlayPortalContainerName;let l=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),i=document.querySelector(`#${a} div[role="dialog"]`);switch((l||i)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0})),e){case"context-menu":r(t),p(void 0),u(void 0),o(void 0);break;case"new-conversation":p({cellId:t,withSuggestedChange:n?.withSuggestedChange}),r(void 0),u(void 0),o(void 0);break;case"marker-details":u(t),r(void 0),o(void 0),p(void 0);break;case"marker-list":o(t),r(void 0),p(void 0),u(void 0)}},[y?.overlayPortalContainerName]),w=(0,c.useCallback)(e=>{switch(e){case"context-menu":r(void 0);break;case"new-conversation":p(void 0);break;case"marker-details":u(void 0);break;case"marker-list":o(void 0)}},[]),A=(0,c.useCallback)(e=>(C(e),nf({line:t,side:e,modifiedLineThreads:k,originalLineThreads:b,ghostUser:h})),[t,k,b,h]),E=(0,c.useMemo)(()=>t.annotationsData?.annotations?.filter(nd)??[],[t.annotationsData?.annotations]),D=(0,c.useMemo)(()=>({annotations:E,isActionBarVisible:n,showActionBar:j,hideActionBar:I,selectThreadId:N,selectAnnotationId:L,closeDialog:w,openDialog:T,anyMenuOpen:S,selectedThreadId:F,selectedAnnotationId:_,openContextMenuCell:l,openMarkersListCell:s,openMarkerDetailsCell:d,openNewConversationCell:m,threads:v,updateVisibleThreads:A}),[E,n,j,I,N,L,w,T,S,F,_,l,s,d,m,v,A]);return(0,i.jsx)(nm.Provider,{value:D,children:e})}function ng(){let e=(0,c.useContext)(nm);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function nf({line:e,side:t,originalLineThreads:n,modifiedLineThreads:a,ghostUser:l}){switch(t){case"LEFT":return n||[];case"RIGHT":return a||[];case void 0:return tw(e.threadsData,l);default:return[]}}try{nm.displayName||(nm.displayName="MarkersDialogContext")}catch{}try{np.displayName||(np.displayName="MarkersDialogContextProvider")}catch{}var nh=n(40260),ny=n(98211),nb=n(94236);let nk=(0,c.createContext)({});function nx({children:e}){let[t,n]=(0,c.useState)(!1),a=(0,c.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:n}),[t,n]);return(0,i.jsx)(nk.Provider,{value:a,children:e})}try{nk.displayName||(nk.displayName="DialogStateContext")}catch{}try{nx.displayName||(nx.displayName="DialogStateProvider")}catch{}let nC=eY.z0.ArrowAll;eY.z0.ArrowHorizontal,eY.z0.ArrowVertical,eY.z0.ArrowVertical,eY.z0.ArrowHorizontal;let MarkerNavigator=class MarkerNavigator{focusMarker(e){let t=this.markers.findIndex(t=>t.id.toString()===e.toString());-1!==t&&(this.currentMarkerPosition={markerId:e,index:t})}get focusedMarker(){if(this.currentMarkerPosition)return this.markers[this.currentMarkerPosition.index]}moveToFirstComment(e){if(0!==this.markers.length&&!e)return}moveToNextMarker(e,t){let n;if(0===this.markers.length)return;if(t){let e=t.closest("[data-marker-id]"),n=e?.getAttribute("data-marker-id");n&&(this.currentMarkerPosition={markerId:n,index:this.markers.findIndex(e=>e.id.toString()===n.toString())})}if(!this.currentMarkerPosition){let t="ArrowUp"===e?this.markers.length-1:0,n=this.markers[t];if(!n)return;return this.currentMarkerPosition={markerId:n.id,index:t},this.markers[t]}let a=0===this.currentMarkerPosition.index,l=this.currentMarkerPosition.index===this.markers.length-1;switch(e){case"ArrowDown":if(l)return;n=(this.currentMarkerPosition.index+1)%this.markers.length;break;case"ArrowUp":if(a)return;n=(this.currentMarkerPosition.index-1+this.markers.length)%this.markers.length;break;default:return}let i=this.markers[n];if(i)return this.currentMarkerPosition={markerId:i.id,index:n},i}moveToNextMarkerItem(e,t){let n;if(!t||!this.markerComments)return;let a=t.closest("[data-marker-id]"),l=a?.getAttribute("data-marker-id");if(!a||!l)return;let i=this.markerComments[l]||[];if(0===i.length)return;let r=t.getAttribute("data-marker-navigation-comment-id"),s=i.findIndex(e=>e.id===r);if(-1===s)return;let o=s===i.length-1;switch(e){case"ArrowDown":if(o)return;n=s+1;break;case"ArrowUp":if(0===s)return;n=s-1;break;default:return}let d=i[n];if(d)return this.currentMarkerCommentPosition={markerId:d.id,index:n},d}constructor(e,t,n){if((0,tM._)(this,"markers",void 0),(0,tM._)(this,"markerComments",null),(0,tM._)(this,"currentMarkerPosition",null),(0,tM._)(this,"currentMarkerCommentPosition",null),this.markers=e.map(e=>{let t=e.id;return{...e,id:t}}),this.markerComments=e.reduce((e,t)=>{let n=document.querySelectorAll(`[data-marker-navigation-comment-thread-id="${t.id}"]`);if(n){let a=Array.from(n).map(e=>({id:e.getAttribute("data-marker-navigation-comment-id")}));return{...e,[t.id.toString()]:a}}return e},{}),t&&!n){let e=this.markers.findIndex(e=>e.id.toString()===t.toString());-1!==e&&(this.currentMarkerPosition={markerId:t,index:e})}}};let nv="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";function nS(e){for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(nv)??[]))t.setAttribute("tabindex","0")}function nj({commentSubjectType:e,markerRef:t,isThread:n=!1,thread:a}){let{isInDialogMode:l}=no();(0,c.useEffect)(()=>{let i=null;if(!n||a){if(l)"commit"===e?i=setTimeout(()=>{nS(t.current)},100):nS(t.current);else{var r;r=t.current,r?.setAttribute("aria-hidden","true"),function e(t=0){setTimeout(()=>{let t=Array.from(r?.querySelectorAll("*")??[]),n=Array.from(r?.querySelectorAll(nv)??[]);if(0===n.length)return e(200);for(let e of t)e?.setAttribute("aria-hidden","true");for(let e of n)e.setAttribute("tabindex","-1")},t)}()}return()=>{i&&clearTimeout(i)}}},[l,e,t,n,a])}var nI=n(77430),nN=n(98552),nF=n(69497);let n_={annotation:"Annotation-module__annotation--XyhuZ",annotationSource:"Annotation-module__annotationSource--_lhYD",annotationMessage:"Annotation-module__annotationMessage--vtkTa"};var nL=n(38267);function nT({annotationLevel:e,...t}){let{icon:n,...a}=nE[e];return function({fill:e,stroke:t,ariaLabel:n,svgHtml:a,className:l}){return(0,i.jsx)("svg",{"aria-label":n,className:l,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:a})}({...n,...a,...t})}let nw=(0,nL.i7)(["0%{opacity:0;}100%{opacity:1;}"]),nA=(0,nL.Ay)(nT).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-f8bdef5f-0"})(["animation:"," 0.1s ease-in;"],nw),nE={[e5.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",primaryColorClass:"fgColor-danger",borderColor:"borderColor-danger-emphasis",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[e5.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",primaryColorClass:"fgColor-attention",borderColor:"borderColor-attention-emphasis",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[e5.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",primaryColorClass:"fgColor-muted",borderColor:"fgColor-muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{nT.displayName||(nT.displayName="AnnotationIcon")}catch{}try{nA.displayName||(nA.displayName="AnimatedAnnotationIcon")}catch{}let nD={[e5.Failure]:(0,i.jsx)(u.StopIcon,{className:"fgColor-danger"}),[e5.Warning]:(0,i.jsx)(u.AlertIcon,{className:"fgColor-attention"}),[e5.Notice]:(0,i.jsx)(u.InfoIcon,{className:"fgColor-muted"})};function nP({annotation:e}){return(0,i.jsxs)("div",{className:(0,F.$)("p-3 bgColor-default",nE[e.annotationLevel]?.borderColor,n_.annotation),children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center mb-2",children:[nD[e.annotationLevel],(0,i.jsx)(nN.A,{weight:"semibold",className:"fgColor-muted pl-2",size:"small",children:nE[e.annotationLevel]?.ariaLabel})]}),(0,i.jsx)("div",{className:"ml-4",children:e.title&&(0,i.jsx)(nN.A,{weight:"semibold",size:"medium",className:nE[e.annotationLevel]?.primaryColorClass,children:e.title})}),(0,i.jsxs)("h2",{className:"sr-only",children:[nE[e.annotationLevel]?.ariaLabel,": ",e.title]}),(0,i.jsx)("div",{className:"mb-3 mt-1 ml-4",children:e.message&&(0,i.jsx)(M.$6,{html:e.message,className:n_.annotationMessage})}),(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4",children:[(0,i.jsxs)("div",{className:n_.annotationSource,children:[(0,i.jsx)(nI.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,i.jsxs)(nF.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,i.jsx)(nN.A,{weight:"semibold",size:"small",children:e.checkSuiteName})," ","/ ",(0,i.jsx)(nN.A,{size:"small",children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,i.jsx)(U.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{nP.displayName||(nP.displayName="Annotation")}catch{}let nK={inlineAnnotation:"InlineAnnotation-module__inlineAnnotation--zYahl"};function nR({annotation:e,isFirstMarker:t,commentingImplementation:n}){let a=(0,c.useRef)(null),{isInDialogMode:l}=no();return nj({commentSubjectType:n.commentSubjectType,markerRef:a}),(0,i.jsx)("div",{id:`annotation_${e.databaseId}`,ref:a,className:(0,F.$)("border rounded-2 color-border-default color-shadow-small overflow-hidden",t?"mb-1":"mb-2",nK.inlineAnnotation),"data-level":e.annotationLevel,"data-testid":`annotation-${e.id}`,"data-marker-id":`${e.id}`,tabIndex:l?0:-1,children:(0,i.jsx)(nP,{annotation:e})})}try{nR.displayName||(nR.displayName="InlineAnnotation")}catch{}let nM={closeMarkersDialogButton:"InlineMarkers-module__closeMarkersDialogButton--kjk9B",markersWrapper:"InlineMarkers-module__markersWrapper--PUwBK",markersDialogActive:"InlineMarkers-module__markersDialogActive--NvAFu"};var nV=n(82075),nB=n(30459),nO=n(11196),nU=n(87448);function n$(){return(0,i.jsx)("div",{className:"position-relative",children:(0,i.jsxs)(m.E,{border:!0,children:[(0,i.jsx)(m.E.Visual,{children:(0,i.jsx)(u.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),(0,i.jsx)(m.E.Heading,{children:(0,i.jsx)("strong",{children:"Comments cannot be loaded right now"})}),(0,i.jsx)("div",{className:"mb-n2",children:(0,i.jsx)(m.E.Description,{children:"Refresh the page or try again later"})}),(0,i.jsx)(m.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})})}try{n$.displayName||(n$.displayName="CommentErrorFallback")}catch{}let nH={inlineReviewThreadHeading:"InlineReviewThread-module__inlineReviewThreadHeading--ytbVB",ReviewThreadContainer:"InlineReviewThread-module__ReviewThreadContainer--m84Gi",ResolvableContainer:"InlineReviewThread-module__ResolvableContainer--yhxaM",ThreadLoading:"InlineReviewThread-module__ThreadLoading--E5i0R"};var nz=n(11738);function nq(e,t="r"){(0,k.Zu)(`#${t}${e}`)}let nW={USER_CANNOT_APPLY_SUGGESTION:"You do not have permission to apply this suggestion.",PULL_REQUEST_IS_CLOSED:"This suggestion cannot be applied because the pull request is closed.",PULL_REQUEST_IS_IN_MERGE_QUEUE:"This suggestion cannot be applied because the pull request is queued to merge.",IS_OUTDATED:"This suggestion is outdated and cannot be applied.",IS_PENDING:"This suggestion is part of a pending comment and cannot be applied.",IS_RESOLVED:"This suggestion is part of a resolved comment and cannot be applied.",UNCHANGED_CODE:"This suggestion is invalid because no changes were made to the code.",INVALID_RANGE:"Unable to commit due to other pending changes affecting this line.",BATCH_TOO_BIG:"Unable to commit due to too many changes in the batch.",DELETED_LINES:"Unable to apply suggestions on deleted lines.",RANGE_NOT_PROVIDED:"This suggestion does not have a valid line range.",UNABLE_TO_DETERMINE_VALIDITY:"Unable to determine the validity of this suggestion."};var nG=n(91835),nQ=n(46747);let{getItem:nX,removeItem:nY,setItem:nJ}=(0,nV.D)("localStorage");function nZ({diffSide:e,filePath:t,handlePersistedCommentExists:n,line:a,subjectId:l,threadId:i,fileLevelComment:r}){let s,o,[d,u]=(0,c.useState)(!1),m=(0,c.useMemo)(()=>i||(i??((e,t)=>{let{diffSide:n,filePath:a,line:l,subjectId:i}=e;if(t)return`PullRequest:${i}-File:${a}`;if(void 0!==l&&void 0!==n)return`PullRequest:${i}-File:${a}-Line:${l}-DiffSide:${n}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")})({diffSide:e,filePath:t,line:a,subjectId:l},r)),[e,t,a,l,i,r]),{hasPersistedComment:p,removePersistedCommentFromStorage:g}=(s=nX(m),o=!!s?.text?.trim(),(0,c.useEffect)(()=>{o&&n?.(s)},[o]),{hasPersistedComment:o,removePersistedCommentFromStorage:()=>{nY(m),o=!1,s=null}});return{hasPersistedComment:p,persistCommentToStorage:(0,nQ.d)(e=>{if(d)return;let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide});try{nJ(m,t)}catch{u(!0)}},1e3),removePersistedCommentFromStorage:g}}function n0(e,t){for(let n of function e(t,n=[]){if(""===t)return n;let a=t.match(n1());if(!a)return n;let l=a.groups.fence;if(!l)return n;let i=l.includes("~")?"~":"`",r=t.match(function(e,t){let n=n1([e],t);return RegExp(`${n.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${e}{${t},}[ 	]*$`,"ms")}(i,l.length));if(!r)return n;let s=0,o=a.groups.indent;""!==o&&(s=o.length);let d=r.groups.suggestion;if(s>0){let e=RegExp(`^ {0,${s}}`,"m");d=d.replace(e,"")}return n.push(d),e(t.slice(r.index+r[0].length),n)}(e))if(n===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function n1(e=["`","~"],t){let n=t?`{${t}}`:"{3,}",a=e.map(e=>`${e}${n}`);return RegExp(`^(?<indent> {0,3})(?<fence>${a.join("|")})suggestion[ 	]*$`,"m")}let n2={AddCommentEditor:"AddCommentEditor-module__AddCommentEditor--PS0ul"};var n4=n(8046);let n7=(0,c.forwardRef)(({children:e,subject:t,...n},a)=>(0,i.jsx)(n4.hF,{...n,ref:a,placeholder:"Leave a comment",actions:e,subject:t,showLabel:!1}));function n3({batchPending:e,batchingEnabled:t,commentBoxSubject:n,condensed:a,fileLevelComment:l,filePath:r,focusOnMount:s,isReplying:o,lineNumber:d,onAddComment:u,onCancelComment:m,onPersistedCommentExists:p,quotedText:g="",side:f,startLineNumber:h,subjectId:y,threadId:b,suggestedChangesConfig:k}){let[x,C]=(0,c.useState)(g),[S,j]=(0,c.useState)(!1),[I,N]=(0,c.useState)(),F=(0,c.useRef)(null),_=(0,c.useRef)(null),{persistCommentToStorage:L,removePersistedCommentFromStorage:T}=nZ({diffSide:f,filePath:r,line:d,subjectId:y,threadId:b,handlePersistedCommentExists:({text:e})=>{e&&(C(e),p?.())},fileLevelComment:!!l});(0,c.useEffect)(()=>{if(s){let e=setTimeout(()=>{if(_.current&&(v.XC||v.cg)){let e=_.current,t=e.getBoundingClientRect(),n=v.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(v.cg?.innerHeight||n))){let a=t.top,l=v.XC?.documentElement.getBoundingClientRect().top||0,i=e.clientHeight*(2/3);v.cg?.scrollTo({top:a-l-2/3*n+i,behavior:"smooth"})}}F.current?.focus()},100);return()=>{window.clearTimeout(e)}}},[s]);let w=({submitBatch:e})=>{let t="Failed to save comment";if(S)return;if(!x.trim())return void N(`${t}: Body can't be blank`);j(!0),N(void 0);let n=n0(x,k?.sourceContentFromDiffLines??"");if(!n.isValid){N(n.errorMessage),j(!1);return}u?.({commentText:x,onCompleted(){j(!1),D()},onError(e){j(!1),e.message&&(t=`${t}: ${e.message}`),N(t)},submitBatch:e})},A=()=>w({submitBatch:!1}),E=()=>w({submitBatch:!0}),D=(0,c.useCallback)(()=>{T(),C(""),m?.()},[m,T]),P={footer:{justifyContent:o?"end":"space-between","> div:first-child":{display:a||o?"none":"flex"},...a&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,i.jsx)("div",{className:n2.AddCommentEditor,onKeyDown:e=>{"Escape"!==e.key||x.trim()?e.stopPropagation():(e.preventDefault(),D())},children:(0,i.jsxs)(n7,{ref:F,label:"Add diff comment",sx:P,value:x,onChange:e=>{N(void 0),L({text:e}),C(e)},onPrimaryAction:t?A:E,suggestedChangesConfig:k,markdownErrorMessage:I,subject:n,lineNumber:d,filePath:r,startLineNumber:h,children:[m&&(0,i.jsx)(nG.x,{disabled:S,className:"py-1 px-2",variant:"default",onClick:D,children:"Cancel"}),!e&&(0,i.jsx)(nG.x,{disabled:S||!x.length,className:"py-1 px-2",variant:t?"default":"primary",onClick:E,ref:_,children:o?"Reply":"Comment"}),t&&(0,i.jsx)(nG.x,{disabled:S||!x.length,className:"py-1 px-2",variant:"primary",onClick:A,children:e?"Add review comment":"Start a review"})]})})}n7.displayName="ConversationCommentBox";try{n3.displayName||(n3.displayName="AddCommentEditor")}catch{}var n8=n(26156),n5=n(71073),n9=n(81156),n6=n(63352),ae=n(78809),at=n(24967),an=n(19805),aa=n(43258),al=n(24990),ai=n(40961);function ar({commentingImplementation:e,suggestedChange:t}){let{sendAnalyticsEvent:n}=(0,nB.s)();return(0,i.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,i.jsx)(U.Q,{variant:"primary",onClick:()=>{n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(t)},children:"Add suggestion to batch"})})}try{ar.displayName||(ar.displayName="AddToExistingBatch")}catch{}var as=n(73783);let ao={applySuggestion:{text:"Apply suggestion"},addSuggestionToBatch:{text:"Add suggestion to batch",inactive:!0,inactiveReason:"This feature is not supported yet."}};function ad({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let{sendAnalyticsEvent:a}=(0,nB.s)(),[l,r]=(0,c.useState)(ao.applySuggestion),[s,o]=(0,c.useState)(!1),d=(0,c.useRef)(null),m=(0,c.useRef)(null),p=()=>o(!s),{addSuggestedChangeToPendingBatch:g}=e,f=(0,c.useCallback)(()=>{l===ao.addSuggestionToBatch&&(g(n),a("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),l===ao.applySuggestion&&t(m)},[g,t,l,a,n]);return(0,i.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,i.jsxs)(as.A,{children:[(0,i.jsx)(U.Q,{variant:"primary",onClick:f,ref:m,children:l.text}),(0,i.jsxs)(nb.W,{anchorRef:d,open:s,onOpenChange:p,children:[(0,i.jsx)(nb.W.Anchor,{children:(0,i.jsx)(H.K,{ref:d,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:u.TriangleDownIcon,size:"medium",variant:"primary",onClick:p})}),(0,i.jsx)(nb.W.Overlay,{width:"medium",children:(0,i.jsx)(es.l,{selectionVariant:"single",children:Object.keys(ao).map(e=>{let t=ao[e];return(0,i.jsx)(es.l.Item,{selected:l===t,onSelect:()=>r(t),inactiveText:t.inactiveReason,children:t.text},e)})})})]})]})})}try{ad.displayName||(ad.displayName="ApplyOrAddToBatch")}catch{}var ac=n(70263),au=n(86877),am=n(4175);function ap({children:e,footerButtons:t}){let{containerRef:n}=(0,tA.G)({bindKeys:eY.z0.ArrowHorizontal|eY.z0.Tab,focusInStrategy:"closest"});return t?(0,i.jsx)(eo.l.Footer,{ref:n,children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("div",{className:"d-flex flex-row gap-2 flex-justify-end",children:(0,i.jsx)(eo.l.Buttons,{buttons:t})}),e]})}):null}let ag={CHANGE_COMMIT_MESSAGE:"CHANGE_COMMIT_MESSAGE",CHANGE_EXTENDED_DESCRIPTION:"CHANGE_EXTENDED_DESCRIPTION"};function af(e,t){switch(t.type){case ag.CHANGE_COMMIT_MESSAGE:return{...e,commitMessage:t.payload};case ag.CHANGE_EXTENDED_DESCRIPTION:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function ah({authorLogins:e,batchSize:t,onClose:n,onCommit:a}){let l=(0,ac.A)(),{sendAnalyticsEvent:r}=(0,nB.s)(),[s,o]=(0,c.useState)(!1),[d,u]=(0,c.useState)(),[m,p]=(0,c.useReducer)(af,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),g=(0,c.useCallback)((e,t,n)=>{if(!l())return;let a="There was an error trying to commit changes";n?a+=`: ${n}`:a+=".",o(!1),u(a)},[l]),f=(0,c.useCallback)(()=>{l()&&(o(!1),d&&u(void 0))},[d,l]),h=(0,c.useCallback)(()=>{s||(o(!0),r("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:t}),a(`${m.commitMessage}

${m.extendedDescription}`,g,f))},[t,m.commitMessage,m.extendedDescription,f,g,s,a,r]);return(0,i.jsxs)(eo.l,{title:"Apply suggestion",renderFooter:()=>(0,i.jsx)(ap,{footerButtons:[{content:"Cancel",onClick:n},{content:(0,i.jsxs)("span",{className:"d-flex flex-row flex-items-center",children:["Commit changes",s&&(0,i.jsx)(tj.A,{size:"small",className:"ml-1"})]}),onClick:h,buttonType:"primary"}],children:d&&(0,i.jsx)(au.A.Validation,{variant:"error",className:"mt-2 pt-1 flex-justify-end",children:d})}),onClose:n,children:[(0,i.jsxs)(au.A,{className:"mb-2",children:[(0,i.jsx)(au.A.Label,{required:!0,children:"Commit message"}),(0,i.jsx)(eN.A,{block:!0,name:"commit_message",onChange:e=>p({type:ag.CHANGE_COMMIT_MESSAGE,payload:e.target.value}),value:m.commitMessage})]}),(0,i.jsxs)(au.A,{children:[(0,i.jsx)(au.A.Label,{children:"Extended description"}),(0,i.jsx)(am.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>p({type:ag.CHANGE_EXTENDED_DESCRIPTION,payload:e.target.value}),value:m.extendedDescription})]})]})}try{ap.displayName||(ap.displayName="DialogFooter")}catch{}try{ah.displayName||(ah.displayName="ApplySuggestionDialog")}catch{}function ay({reason:e,className:t="m-2"}){return(0,i.jsx)("div",{className:t,children:(0,i.jsx)("small",{className:"fgColor-muted",children:e})})}try{ay.displayName||(ay.displayName="CodeSuggestionUnavailable")}catch{}function ab({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let a=(0,c.useRef)(null),l=(0,c.useCallback)(()=>{t(a)},[t]),r=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:s}=(0,nB.s)();return(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-between",children:[(0,i.jsx)(z.A,{variant:"attention",className:"my-auto",children:"Pending in batch"}),(0,i.jsxs)("div",{className:"d-flex gap-2",children:[(0,i.jsx)(U.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(n),s("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,i.jsx)(U.Q,{ref:a,size:"medium",count:r,variant:"primary",onClick:l,children:`Apply suggestion${r>1?"s":""}`})]})]})}try{ab.displayName||(ab.displayName="CommitOrRemoveFromBatch")}catch{}function ak({commentingImplementation:e,suggestedChange:t}){let{setIsDialogOpen:n}=(0,c.useContext)(nk),[a,l]=(0,c.useState)(!1),r=(0,c.useRef)(void 0),{pendingSuggestedChangesBatch:s,submitSuggestedChanges:o}=e,d=s.some(e=>{var n,a;let l,i;return n=e,a=t,n.commentId===a.commentId&&n.path===a.path&&n.suggestion.length===a.suggestion.length&&(l=n.suggestion,i=a.suggestion,l.length===i.length&&!l.some((e,t)=>e!==i[t]))}),u=0===s.length,{isValid:m,reason:p}=function(e,t){let n={isValid:!1,reason:nW.INVALID_RANGE},a={isValid:!1,reason:nW.BATCH_TOO_BIG};return t.length>=50?a:t.find(t=>t.threadId===e.threadId)||function(e,t){for(let l of t)if(e.path===l.path){var n,a;return n=e.lineRange,a=l.lineRange,n.endLineNumber>=a.startLineNumber&&n.startLineNumber<=a.endLineNumber}return!1}(e,t)?n:{isValid:!0}}(t,s),g=(0,c.useMemo)(()=>d?s:[t],[d,s,t]),f=(0,c.useCallback)(e=>{l(e),n?.(e)},[n]),h=(0,c.useCallback)(()=>{if(f(!1),r.current){let e=r.current.current;setTimeout(()=>e?.focus())}},[f]),y=(0,c.useCallback)(e=>{f(!0),r.current=e},[f,r]),b=(0,c.useCallback)((e,t,n)=>{o({suggestedChanges:g,commitMessage:e,onCompleted:()=>{h(),n()},onError:t})},[h,o,g]);return(0,i.jsxs)("div",{className:"border-top p-2",children:[d&&(0,i.jsx)(ab,{commentingImplementation:e,suggestedChange:t,onOpenDialog:y}),!d&&!m&&p&&(0,i.jsx)(ay,{reason:p,className:"m-0"}),!d&&u&&(0,i.jsx)(ad,{commentingImplementation:e,suggestedChange:t,onOpenDialog:y}),!d&&m&&!u&&(0,i.jsx)(ar,{commentingImplementation:e,suggestedChange:t}),a&&(0,i.jsx)(ah,{authorLogins:g.map(e=>e.authorLogin),batchSize:g.length,onClose:h,onCommit:b})]})}try{ak.displayName||(ak.displayName="CodeSuggestionActions")}catch{}function ax({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:n,commentingImplementation:a,filePath:l,isOutdated:r,isThreadResolved:s,subject:o,suggestedChangesConfig:d,databaseId:u,viewerData:m}){let p=function(e,t,n,a,l){let[i,r]=(0,c.useState)();return(0,eC.N)(()=>{if(!e.current||t.subjectType?.toUpperCase()!=="LINE")return;let i=[...e.current.getElementsByClassName("js-apply-changes")];if(i.length>0){let e=[];for(let r of i){let i=r?.closest("div.js-suggested-changes-blob");if(!i)continue;let s=[...i.querySelectorAll(".js-blob-code-addition")];l.lineRange&&e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,path:n,ref:r,suggestion:s.map(e=>e.textContent),lineRange:l.lineRange,threadId:a})}r(e)}},[l.lineRange,t.author?.login,t.bodyHTML,t.id,t.subjectType,e,n,a]),i}(n,t,l,u,e),g=o?.state?.toUpperCase();return(0,i.jsx)(i.Fragment,{children:p?.length?p.map(n=>{let{isValid:l,reason:c}=function({suggestedChange:e,isOutdated:t,isPending:n,isResolved:a,pullRequestIsClosed:l,pullRequestIsInMergeQueue:i,userCanApplySuggestion:r,applySuggestedChangesValidationData:s,suggestedChangesConfig:o}){let{lineRange:d}=s;if(t)return{isValid:!1,reason:nW.IS_OUTDATED};if(n)return{isValid:!1,reason:nW.IS_PENDING};if(a)return{isValid:!1,reason:nW.IS_RESOLVED};if(l)return{isValid:!1,reason:nW.PULL_REQUEST_IS_CLOSED};if(i)return{isValid:!1,reason:nW.PULL_REQUEST_IS_IN_MERGE_QUEUE};if(!r)return{isValid:!1,reason:nW.USER_CANNOT_APPLY_SUGGESTION};if(!d)return{isValid:!1,reason:nW.RANGE_NOT_PROVIDED};if(!o)return{isValid:!1,reason:nW.UNABLE_TO_DETERMINE_VALIDITY};if(!o?.isValidSuggestionRange)return{isValid:!1,reason:nW.DELETED_LINES};let c=o?.sourceContentFromDiffLines,u=e.suggestion.join(`
`);return 0!==e.suggestion.length&&u===c?{isValid:!1,reason:nW.UNCHANGED_CODE}:{isValid:!0}}({suggestedChange:n,isOutdated:r,isPending:"PENDING"===t.state.toUpperCase(),isResolved:s,pullRequestIsClosed:void 0===g||"CLOSED"===g||"MERGED"===g,pullRequestIsInMergeQueue:!!o?.isInMergeQueue,userCanApplySuggestion:!!m?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:d});return!l&&c?(0,ai.createPortal)((0,i.jsx)(ay,{reason:c}),n.ref):(0,ai.createPortal)((0,i.jsx)(ak,{commentingImplementation:a,suggestedChange:n}),n.ref)}):null})}try{ax.displayName||(ax.displayName="SuggestedChangeView")}catch{}function aC({isAnchorable:e=!1,index:t=0,isInlineComment:n,isLastChild:a,isOutdated:l,isThreadResolved:r,anchorPrefix:s="r",comment:o,commentingImplementation:d,filePath:m,hideActions:p,isFirstComment:g=!1,enterDialogMode:f=ek.l,onRefreshThread:h,onQuoteReply:y=ek.l,subjectId:b,subject:k,threadCommentCount:x,threadId:C,threadPositionNumber:S,threadsConnectionId:j,suggestedChangesConfig:I,applySuggestedChangesValidationData:N,viewerData:_,ghostUser:T=n9.t.ghostUser,skipReactions:w=!1,originalDiffPathUri:A}){let{addToast:E}=(0,aa.Y6)(),[D,P]=(0,c.useState)(!1),[K,R]=(0,c.useState)(o.isHidden),[V,B]=(0,c.useState)(o.body),[O,U]=(0,c.useState)(!1),[$,H]=(0,c.useState)(""),{persistCommentToStorage:z,removePersistedCommentFromStorage:q}=nZ({subjectId:b,filePath:m,fileLevelComment:"FILE"===o.subjectType,threadId:o.id,handlePersistedCommentExists:({text:e})=>{e&&B(e)}}),{blockUserFromOrg:W,unblockUserFromOrg:G,editComment:Q,deleteComment:X,hideComment:Y,unhideComment:J,reactToComment:Z,lazyFetchReactionGroups:ee}=d,et=!!W,en=!!G,ea=(0,c.useRef)(null),el=(0,c.useRef)(null),[ei,er]=(0,c.useState)(""),{isInDialogMode:es}=no(),eo=()=>{ea.current?.focus()};(0,c.useEffect)(()=>{if(D){let e=window.setTimeout(eo);return()=>{window.clearTimeout(e)}}},[D]);let ed=(0,al.S)(),{enableInlineCommentDialogMode:ec,disableInlineCommentDialogMode:eu}=no(),em=async()=>{eu();let e=!1;try{e=await ed({title:"Delete comment?",content:"Are you sure you want to delete this comment?",confirmButtonContent:"Delete",confirmButtonType:"danger"})}finally{ec()}e&&X({commentId:o.id,onCompleted:()=>{h?.(C)},onError:()=>{U(!1),E({type:"error",message:"Failed to delete comment"})},threadCommentCount:x,threadId:C,threadsConnectionId:j,filePath:m})},ep=(0,c.useCallback)((e,t,n,a,l,i)=>{W&&W({duration:e,shouldHideComment:t,hiddenReason:n,organizationLogin:a,notifyBlockedUser:l,userLogin:i,onCompleted:()=>{t&&R(!0),h?.(C)},onError:()=>{er("Failed to block user")}})},[W,h,C]),eg=(0,c.useCallback)((e,t)=>{G&&G({organizationLogin:e,userLogin:t,onCompleted:()=>{h?.(C)},onError:()=>{er("Failed to unblock user")}})},[h,C,G]),ef=(0,c.useCallback)(()=>{U(!0);let e=n0(V,I?.sourceContentFromDiffLines??"");if(!e.isValid){H(e.errorMessage),U(!1);return}Q({text:V,comment:o,onCompleted:()=>{P(!1),U(!1),q(),h?.(C)},onError:()=>{U(!1),E({type:"error",message:"Failed to update comment"})}})},[E,V,o,Q,h,q,I,C]),eh=o.databaseId?.toString(),ey=eh?`${s}${eh}`:void 0,eb=ey&&v.fV?new URL(`${v.fV.pathname}#${ey}`,v.fV.origin).toString():"",ex=(0,c.useRef)(null);(0,c.useEffect)(()=>{e&&eh&&ey&&window.location.hash.split("#").pop()===ey&&(nq(eh,s),f?.(!1),ex.current?.focus())},[s,ey,eh,f,e]);let eC={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},ev=t>0,eS=t>1,ej=d.suggestedChangesEnabled,eI=D?"editing":K?"hidden":"visible",eN={headingProps:{as:"h3"},avatarUrl:o.author?.avatarUrl??T.avatarUrl,comment:{...o,url:eb,referenceText:o.reference.text??`#${o.reference.number}`},commentRef:ex,deleteComment:em,editComment:()=>{P(!0)},editHistoryComponent:void 0,hideComment:e=>{Y({commentDatabaseId:o.databaseId,reason:e,onCompleted:()=>{R(!0),h?.(C)},onError:()=>{U(!1),er("Failed to hide comment")}})},onBlock:et?ep:void 0,onUnblock:en?eg:void 0,onMinimize:R,onSuccessfulBlock:()=>{setTimeout(()=>v.cg?.location.reload(),800)},isMinimized:K,commentAuthorLogin:o.author?.login??T.login,navigate:ek.l,commentSubjectAuthorLogin:o.reference?.author?.login??"",commentSubjectType:d.commentSubjectType,onReplySelect:y,unhideComment:()=>{J({commentDatabaseId:o.databaseId,onCompleted:()=>{R(!1),h?.(C)},onError:()=>{U(!1),er("Failed to unhide comment")}})},hideActions:p,isReply:ev,forceInlineAvatar:!0,containerStyle:{},originalDiffPathUri:A,isOutdated:l,commentAuthorSlug:"copilot"===o.reviewVariantType?"copilot-pull-request-reviewer":void 0,commentAuthorType:"copilot"===o.reviewVariantType?n8.S.Bot:void 0};return(0,i.jsxs)(nU.az,{ref:ex,id:e?ey:void 0,tabIndex:n?es?0:-1:0,"data-first-thread-comment":g,"data-marker-navigation-comment-thread-id":C,"data-marker-navigation-comment-id":o.id,...es?{role:"document","aria-roledescription":"comment","aria-label":ev?void 0!==S?`Reply ${t} to Comment ${S}`:`Reply ${t}`:void 0!==S?`Comment ${S}`:"Comment"}:{},sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":eC,":focus":eC,scrollMarginTop:e?"120px":0},children:[eS&&(0,i.jsx)(nU.az,{sx:{display:"flex",pl:+!!ev},children:(0,i.jsx)(nU.az,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(nU.az,{sx:{px:3,pt:2*!eS,pb:0},children:(0,i.jsx)(n8.v,{...eN,commentBody:o.body,threadCommentCount:x,isInDialogMode:es,actions:p?void 0:(0,i.jsx)(n5.p,{...eN}),isOutdated:l})}),ei&&(0,i.jsxs)(L.A,{variant:"danger",className:"m-3",children:[(0,i.jsx)(u.StopIcon,{className:"mr-2"}),ei]}),(0,i.jsxs)(nU.az,{sx:{display:"flex",pl:+!!ev},children:[ev&&(0,i.jsx)(nU.az,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...a&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===eI&&(0,i.jsx)("div",{className:(0,F.$)("flex-1 min-width-0 pr-2 pt-1 pb-2",ev?"pl-0":"pl-2"),children:(0,i.jsxs)(n7,{ref:ea,label:"Update comment",value:V,onChange:e=>{z({text:e}),B(e),H(void 0)},onPrimaryAction:ef,subject:d.commentBoxSubject,suggestedChangesConfig:I,markdownErrorMessage:$,children:[(0,i.jsx)(n4.xR,{variant:"default",onClick:()=>{P(!1),q(),B(o.body)},children:"Cancel"}),(0,i.jsx)(n4.xR,{disabled:O||!V.length,variant:"primary",onClick:ef,children:"Update"})]})}),"visible"===eI&&(0,i.jsx)(nU.az,{sx:ev?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:o.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(M.vb,{ref:el,className:"markdown-body","comment-testid":`Comment body html for comment ${o.id}`,html:o.bodyHTML,sx:{mt:1,fontSize:1}}),"copilot"===o.reviewVariantType&&(0,i.jsxs)("p",{className:"text-small color-fg-muted mt-2 mb-1",children:[(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"Link--inTextBlock",href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-code-review",children:"Copilot"})," ","uses AI. Check for mistakes."]}),(0,i.jsxs)("div",{className:"d-flex flex-direction-column gap-2",children:["copilot"===o.reviewVariantType&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(n6.Z,{commentUrl:o.url,commentId:o.databaseId?.toString()??""})}),o.reactionGroups&&Z?(0,i.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,i.jsx)(ae.P,{reactionGroups:o.reactionGroups,onReact:(e,t)=>{Z?.({commentDatabaseId:o.databaseId,threadId:C,reaction:e,viewerHasReacted:t,onCompleted:()=>{h?.(C)},onError:()=>{U(!1),E({type:"error",message:"Failed to react to comment"})}})},canReact:o.viewerCanReact})}):!w&&(0,i.jsx)(nU.az,{sx:{display:"flex",flexDirection:"column",mt:3},children:ee?(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)(at.e,{}),children:(0,i.jsx)(an.ReactionViewerRelayQueryComponent,{id:o.id,subjectLocked:!o.viewerCanReact})}):(0,i.jsx)(an.ReactionViewerRelay,{reactionGroups:o,subjectId:o.id,canReact:o.viewerCanReact})})]}),ej&&N&&(0,i.jsx)(ax,{comment:o,commentBodyRef:el,commentingImplementation:d,filePath:m,isOutdated:l,isThreadResolved:r,databaseId:o.databaseId,suggestedChangesConfig:I,applySuggestedChangesValidationData:N,subject:k,viewerData:_})]})})]})]})}try{aC.displayName||(aC.displayName="ReviewThreadComment")}catch{}let av={StaticDiffPreview:"StaticUnifiedDiffPreview-module__StaticDiffPreview--R_cuY",HeaderContainer:"StaticUnifiedDiffPreview-module__HeaderContainer--l3mJd"};function aS({subject:e,tabSize:t,hideHeaderDetails:n,className:a,diffTableClassName:l}){if(!e?.diffLines||e?.diffLines.length<1)return null;let r=(0,eG.c7)(e.diffLines);return(0,i.jsxs)("div",{className:(0,F.$)(av.StaticDiffPreview,a),children:[!n&&(0,i.jsx)("div",{className:av.HeaderContainer,children:(0,i.jsxs)("span",{className:"text-small fgColor-muted",children:["Line"," ",(0,b.Ah)({originalStartLine:e.originalStartLine,originalEndLine:e.originalEndLine,startDiffSide:e.startDiffSide,endDiffSide:e.endDiffSide}),", commit ",(0,i.jsx)("code",{children:e.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,i.jsx)(b.l4,{lineWidth:r,lines:e.diffLines,tabSize:t,className:l})]})}try{aS.displayName||(aS.displayName="StaticUnifiedDiffPreview")}catch{}function aj({batchingEnabled:e,batchPending:t,commentAnchorPrefix:n,commentingImplementation:a,commentsConnectionId:l,filePath:r,hideDiffPreview:s,isInlineComment:o,onRefreshThread:d,enterDialogMode:u,repositoryId:m,subject:p,subjectId:g,tabSize:f,thread:h,threadPositionNumber:y,threadsConnectionId:b,shouldLimitHeight:k=!0,suggestedChangesConfig:x,viewerData:C,ghostUser:S}){let[j,I]=(0,c.useState)(!1),[N,F]=(0,c.useState)(void 0),{sendAnalyticsEvent:_}=(0,nB.s)(),{addThreadReply:L}=a,T=(0,c.useRef)(null),w=e=>{F(e),I(!0)};if(null===h.commentsData.comments||h.commentsData.comments.length<1)return null;let A=function(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let t=e.subject.startDiffSide??e.subject.endDiffSide;if(!t)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:t};if(!e.subject.endLine||!e.subject.endDiffSide)return;let n=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:n,startOrientation:t||"RIGHT"}}(h),E="LINE"===h.subjectType?{lineRange:A}:void 0;return(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)(nU.az,{sx:k?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!s&&h.isOutdated&&(0,i.jsx)(aS,{subject:h.subject,tabSize:f??4}),h.commentsData.comments.map((e,t)=>(0,i.jsx)(aC,{enterDialogMode:u,isAnchorable:!0,index:t,threadPositionNumber:y,isFirstComment:0===t,isInlineComment:o,isLastChild:t===h.commentsData.comments.length-1,anchorPrefix:n,comment:e,commentConnectionId:h.commentsData.__id,commentingImplementation:a,filePath:r,isOutdated:h.isOutdated,repositoryId:m,subject:p,subjectId:g,threadId:h.id,onRefreshThread:d,onQuoteReply:w,threadCommentCount:h.commentsData.comments.length,threadsConnectionId:b,isThreadResolved:!!h.isResolved,suggestedChangesConfig:x,applySuggestedChangesValidationData:E,viewerData:C,ghostUser:S},e.id)),h.reviewCommentsLimitExceeded&&(0,i.jsx)(eV.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${(h.reviewCommentsLimit||0)-1} replies are currently being shown.`,className:"m-3"}),h.viewerCanReply&&(0,i.jsxs)("div",{className:"rounded-bottom-2 p-2",children:[j&&(0,i.jsx)(n3,{batchingEnabled:e,batchPending:t,commentBoxSubject:a.commentBoxSubject,condensed:!1,fileLevelComment:!0,filePath:r,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{I(!1),_("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),v.cg?.requestAnimationFrame(()=>T.current?.focus())},repositoryId:m,quotedText:N,subjectId:g,threadId:h.id,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:a})=>{let i=[];h.commentsData.__id&&i.push(h.commentsData.__id),l&&i.push(l),L({commentsConnectionIds:i,filePath:r,thread:h,text:e,submitBatch:a,onCompleted:e=>{e&&nq(e.toString()),t?.(),d?.(h.id)},onError:n,threadsConnectionId:b}),_("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:x}),!j&&(0,i.jsx)(nz.z,{ref:T,onClick:()=>{_("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),I(!0)},children:"Write a reply"})]})]})})}try{aj.displayName||(aj.displayName="ReviewThread")}catch{}function aI({children:e}){return(0,i.jsx)("span",{className:"text-semibold fgColor-default",children:e})}function aN({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?a_({thread:e}):aF({thread:e}):null}function aF({thread:e}){let t="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)("h2",{className:nH.inlineReviewThreadHeading,children:["Comment on line"," ",(0,i.jsxs)(aI,{children:[t,e.line]})]})}function a_({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)("h2",{className:nH.inlineReviewThreadHeading,children:["Comment on lines"," ",(0,i.jsxs)(aI,{children:[t,e.startLine]})," ","to"," ",(0,i.jsxs)(aI,{children:[n,e.line]})]})}function aL({commentingImplementation:e,fileAnchor:t,filePath:n,threadId:a,threadPositionNumber:l,isOutdated:r,threads:s,threadsConnectionId:d,isFirstThread:m,enterDialogMode:p,ghostUser:g,manuallyUpdateCommentsWithThisThreadId:f,suggestedChangesConfig:h,...y}){let[b,k]=(0,c.useState)(void 0),{fetchThread:x,shouldRefetchThread:C}=e,v=(0,c.useRef)(null),S=(0,nV.A)("localStorage"),j=b?.isResolved,[I,N]=(0,c.useState)(""),[_,T]=(0,c.useState)(j??!1);(0,c.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${a}`);null!==e?T(JSON.parse(e)):j&&T(!0)},[j,a]);let w=(0,c.useCallback)(async(e,t=!0)=>{k(await x(e,t))},[x]);(0,c.useEffect)(()=>{w(a,!1)},[w,f,a]),nj({commentSubjectType:e.commentSubjectType,markerRef:v,isThread:!0,thread:b}),(0,c.useEffect)(()=>{b||w(a,!1)},[a,b,x,w]);let A=(0,c.useMemo)(()=>{if(t&&b&&b.subject?.startDiffSide&&b.subject?.endDiffSide&&b.subject?.startLine&&b.subject?.endLine&&h?.configureSuggestedChangesFromLineRange){let e=b.subject?.startLine??b?.subject?.endLine,n=b.subject?.startDiffSide??b?.subject?.endDiffSide,a={diffAnchor:t,endLineNumber:b?.subject?.endLine,endOrientation:b.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===n?"left":"right",startOrientation:"LEFT"===n?"left":"right"};return h?.configureSuggestedChangesFromLineRange(a)}},[t,b,h]);(0,c.useEffect)(()=>{b&&C?.(b)&&w(a,!0)},[w,C,b,a,s]);let{sendAnalyticsEvent:E}=(0,nB.s)(),{resolveThread:D,unresolveThread:P,resolvingEnabled:K}=e,R=s.find(e=>e.id===a);if(!b||!(b.commentsData.comments.length>0))return null;let M=!!b.isResolved,V=R?.commentsConnectionId,B=K&&b.commentsData.comments.some(e=>e.state?.toUpperCase()!=="PENDING");return(0,i.jsx)(o.t,{fallback:(0,i.jsx)(n$,{}),children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:v,children:[(0,i.jsxs)("div",{className:(0,F.$)("px-1",nH.ReviewThreadContainer),children:[(0,i.jsx)(nU.K0,{"aria-label":_?"Expand comment":"Collapse comment",icon:_?u.ChevronRightIcon:u.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{window.requestAnimationFrame(()=>{S.setItem(`reviewThreadIsCollapsed_${a}`,JSON.stringify(!_))}),T(e=>!e)},"data-is-first-collapse-button":m}),(0,i.jsx)(aN,{thread:R}),(0,i.jsxs)("div",{className:nH.ResolvableContainer,children:[M&&(0,i.jsx)(z.A,{variant:"secondary",children:"Resolved"}),B&&(0,i.jsx)(nO.m,{text:M?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(nU.K0,{"aria-labelledby":"resolve-conversation",icon:M?u.CheckCircleFillIcon:u.CheckCircleIcon,sx:{color:M?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:M?()=>{b&&(P({threadId:b.id,onCompleted:()=>{C||w(b.id),T(!1),S.removeItem(`reviewThreadIsCollapsed_${a}`)},onError:()=>{N("Failed to unresolve thread")}}),E("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{b&&(D({threadId:b.id,onCompleted:()=>{C||w(b.id),T(!0),S.removeItem(`reviewThreadIsCollapsed_${a}`)},onError:()=>{N("Failed to resolve thread")}}),E("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))}})})]})]}),(0,i.jsxs)(c.Suspense,{fallback:(0,i.jsxs)("div",{className:nH.ThreadLoading,children:[(0,i.jsx)(tj.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:[I&&(0,i.jsxs)(L.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(u.StopIcon,{className:"mr-2"}),I]}),!_&&(0,i.jsx)(aj,{enterDialogMode:p,commentingImplementation:e,commentsConnectionId:V,filePath:n,isInlineComment:!0,onRefreshThread:w,thread:b,threadPositionNumber:l,threadsConnectionId:d,suggestedChangesConfig:A,shouldLimitHeight:!1,...y,ghostUser:g})]})]})})}try{aI.displayName||(aI.displayName="Emphasis")}catch{}try{aN.displayName||(aN.displayName="ThreadBanner")}catch{}try{aF.displayName||(aF.displayName="SingleLineThreadBanner")}catch{}try{a_.displayName||(a_.displayName="MultineLineThreadBanner")}catch{}try{aL.displayName||(aL.displayName="InlineReviewThread")}catch{}let aT={[e5.Failure]:0,[e5.Warning]:1,[e5.Notice]:2};function aw(e){return(0,i.jsx)(nx,{children:(0,i.jsx)(aA,{...e})})}function aA({annotations:e,children:t,commentingImplementation:n,conversationListThreads:a,inlineMarkersRef:l,isMarkerListOpen:r,isRowSelected:s,fileAnchor:o,filePath:d,gutterSizeOffset:m,lineType:p,onAnnotationSelected:g,onCloseConversationList:f,onCloseFocusMode:h,onThreadSelected:y,returnFocusRef:b,selectedAnnotationId:k,selectedThreadId:x,threadsConnectionId:C,suggestedChangesConfig:v,manuallyUpdateCommentsWithThisThreadId:S,ghostUser:j,enterDialogMode:I,...N}){let[_,L]=(0,c.useState)({}),T=(0,c.useCallback)(async e=>{let t=await n.fetchThread(e,!1);t&&a.push(t),L({})},[n,a]);(0,c.useEffect)(()=>{0===a.length&&S&&""!==S&&T(S)},[n,a.length,T,S]);let{isInDialogMode:w,enableInlineCommentDialogMode:A}=no(),E=(0,c.useRef)(null),D=(0,c.useMemo)(()=>[...e].sort((e,t)=>aT[e.annotationLevel]-aT[t.annotationLevel]),[e]),P=(0,c.useMemo)(()=>t?[...a,{id:"new-comment"},...D]:[...a,...D],[t,a,D]);return!function({containerRef:e,markers:t,disabled:n=!1,focusInStrategy:a="previous",selectedMarkerId:l}){let i=(0,c.useRef)(void 0),r=(0,c.useRef)(void 0);(0,c.useEffect)(()=>{r.current=new MarkerNavigator(t,i.current?.focusedMarker?.id||l||void 0),i.current=r.current},[t,l]);let s=(0,c.useCallback)((e,t,n)=>{let a=n.key,l=!t?.hasAttribute("data-marker-id")&&!t?.hasAttribute("data-marker-navigation-comment-id");switch(!0){case l&&("ArrowUp"===a||"ArrowDown"===a||"ArrowRight"===a||"ArrowLeft"===a):return t?.closest("[data-marker-navigation-comment-id]")||t?.closest("[data-marker-id]")||void 0;case"ArrowUp"===a||"ArrowDown"===a:if(r.current&&t?.hasAttribute("data-marker-id")){let e=r.current.moveToNextMarker(a,t);if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(r.current&&t?.hasAttribute("data-marker-navigation-comment-id")){let e=r.current.moveToNextMarkerItem(a,t);if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0}return t;case"ArrowRight"===a:if(t?.hasAttribute("data-marker-navigation-comment-id"))return t;if(t?.hasAttribute("data-marker-id"))return t?.querySelector('[data-first-thread-comment="true"]')||void 0;return t;case"ArrowLeft"===a:if(t?.hasAttribute("data-marker-id"))return t;if(t?.hasAttribute("data-marker-navigation-comment-id"))return t?.closest("[data-marker-id]")||void 0;return t;default:return t??void 0}},[r]);(0,tA.G)({containerRef:e,bindKeys:nC,getNextFocusable:s,focusableElementFilter:e=>e.hasAttribute("data-marker-id")||e.hasAttribute("data-marker-navigation-comment-id"),focusInStrategy:a,disabled:n},[s,n])}({containerRef:E,markers:P,disabled:!w,selectedMarkerId:x}),(0,i.jsxs)("div",{className:(0,F.$)("d-flex pt-1",w?nM.markersDialogActive:""),style:w?{marginRight:`-${m}`,backgroundColor:tm(p,!0,s)}:{marginRight:`-${m}`},onFocus:()=>{w||A()},"data-inline-markers":!0,ref:l,children:[(0,i.jsxs)("div",{className:nM.markersWrapper,ref:E,children:[a.map((e,t)=>(0,i.jsx)("div",{className:(0,F.$)("mt-1 border rounded-2 color-border-default color-shadow-small",t===P.length-1?"mb-1":"mb-2"),"data-first-marker":0===t,"data-marker-id":`${e.id}`,tabIndex:w?0:-1,children:(0,i.jsx)(aL,{threadPositionNumber:t+1,manuallyUpdateCommentsWithThisThreadId:S,enterDialogMode:I,isFirstThread:0===t,commentingImplementation:n,filePath:d,fileAnchor:o,threadId:e.id,isOutdated:e.isOutdated,threads:a,threadsConnectionId:C,onThreadSelected:y,suggestedChangesConfig:v,ghostUser:j,...N})},`review-thread-${e.id}`)),t,D.map((e,t)=>{let a=0===t&&e===P[0];return(0,i.jsx)(nR,{annotation:e,commentingImplementation:n,isFirstMarker:a},`annotation-${e.id}`)})]}),w&&(0,i.jsx)(H.K,{icon:u.UndoIcon,className:(0,F.$)(nM.closeMarkersDialogButton,"ml-2 position-relative",0===a.length?"mt-2":"mt-1"),"aria-label":"Return to code","data-exit-dialog-mode-button":"true",variant:"default",size:"small",onMouseUp:h,onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&h()}})]})}try{aw.displayName||(aw.displayName="InlineMarkers")}catch{}try{aA.displayName||(aA.displayName="InlineMarkersInternal")}catch{}var aE=n(31604),aD=n(81960);function aP({addCommentDialogTitle:e,isLeftSide:t,filePath:n,lineNumber:a,onAddComment:l,onClose:r,viewerData:s,threadsConnectionId:o,showOnCloseIcon:d=!0,...c}){return(0,i.jsxs)("div",{className:"px-2 pb-2 pt-1",children:[(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[(0,i.jsxs)(aD.A,{as:"h4",className:"f5 ml-1 pt-1 pb-2",children:[(0,i.jsx)(nI.r,{alt:s.login,size:24,src:s.avatarUrl||"",className:"mr-2"}),(0,i.jsx)("span",{children:e??"Add a comment"})]}),r&&d&&(0,i.jsx)(H.K,{variant:"invisible",icon:u.XIcon,onClick:r,"aria-label":"Cancel"})]}),(0,i.jsx)(n3,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:n,lineNumber:a,onAddComment:({commentText:e,onCompleted:t,onError:a,submitBatch:i})=>{l({text:e,onError:a,onCompleted:(e,n)=>{n&&nq(n.toString()),t?.(e,n)},submitBatch:i,filePath:n,threadsConnectionId:o})},onCancelComment:r,side:t?"LEFT":"RIGHT",...c})]})}try{aP.displayName||(aP.displayName="StartThreadComment")}catch{}function aK({align:e="end",anchorRef:t,isOpen:n,isDialog:a=!0,returnFocusRef:l,onCloseCommentDialog:r,suggestedChangesConfig:s,...o}){let{sendAnalyticsEvent:d}=(0,nB.s)(),{isInDialogMode:u}=no(),m=(0,c.useMemo)(()=>{if(n&&s?.configureSuggestedChangesFromLineRange)return s.configureSuggestedChangesFromLineRange(s?.selectedDiffRowRange,s?.shouldStartNewConversationWithSuggestedChange)},[n,s]);return n?a?(0,i.jsx)(aE.T,{align:e,anchorRef:t,focusZoneSettings:{disabled:!0},open:n,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",preventOverflow:!1,returnFocusRef:l,style:{borderRadius:"8px"},"aria-label":"Add a comment",onClickOutside:ek.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:r,children:(0,i.jsx)(aP,{onClose:()=>{r(),d("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:m,...o})}):(0,i.jsx)("div",{className:"rounded-2 bgColor-default","data-marker-id":"new-comment",tabIndex:u?0:-1,children:(0,i.jsx)(aP,{onClose:()=>{r(),d("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},showOnCloseIcon:!1,suggestedChangesConfig:m,...o})}):null}try{aK.displayName||(aK.displayName="StartConversation")}catch{}function aR({cellId:e,actionBarRef:t,onOpenInLineThread:n}){let{replaceSelectedDiffRowRange:a}=th(),{fileAnchor:l}=tT(),[i,r]=(0,c.useState)(t),{annotations:s,openDialog:o,closeDialog:d,selectedAnnotationId:u,selectAnnotationId:m,selectedThreadId:p,selectThreadId:g,openContextMenuCell:f,openNewConversationCell:h,openMarkerDetailsCell:y,threads:b,anyMenuOpen:k}=ng(),{sendAnalyticsEvent:x}=(0,nB.s)(),C=(0,c.useMemo)(()=>h?.cellId===e,[e,h]),v=(0,c.useMemo)(()=>h?.withSuggestedChange,[h]),S=(0,c.useCallback)(t=>{n?.(),o("new-conversation",e,t)},[e,n,o]),j=(0,c.useCallback)(()=>{S()},[S]),I=(0,c.useCallback)(()=>{S({withSuggestedChange:!0}),x("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[S,x]),N=(0,c.useCallback)(()=>{d("new-conversation")},[d]),F=(0,c.useMemo)(()=>f===e,[e,f]),_=(0,c.useCallback)(()=>{o("context-menu",e)},[e,o]),L=(0,c.useCallback)(()=>{r(t),_()},[t,_]),T=(0,c.useCallback)(()=>{d("context-menu")},[d]),w=(0,c.useCallback)(()=>{F?T():_()},[T,F,_]),A=(0,c.useCallback)(()=>{r(t),w()},[t,w]),E=(0,c.useMemo)(()=>y===e?p:void 0,[e,y,p]),D=(0,c.useMemo)(()=>y===e?u:void 0,[e,y,u]),P=(0,c.useCallback)(()=>{n?.()},[n]),K=tg((e,t={skipLineSelection:!1})=>{if(g(e),P(),t.skipLineSelection)return;let n=b.find(t=>t.id===e);if(n&&n.diffSide&&n.line){let e=n.startLine??n.line,t=n.startDiffSide??n.diffSide;a({diffAnchor:l,endLineNumber:n.line,endOrientation:"LEFT"===n.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===t?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right"})}});return{isNewConversationDialogOpen:C,startNewConversation:j,closeNewConversation:N,startNewConversationWithSuggestedChange:I,shouldStartNewConversationWithSuggestedChange:v,isContextMenuOpen:F,openContextMenu:_,openContextMenuFromActionBar:L,closeContextMenu:T,toggleContextMenu:w,toggleContextMenuFromActionBar:A,optimizedSelectedThreadId:E,optimizedSelectedAnnotationId:D,selectThread:K,selectAnnotation:tg((e,t={skipLineSelection:!1})=>{if(m(e),P(),t.skipLineSelection)return;let n=s.find(t=>t.id===e);n&&a({diffAnchor:l,endLineNumber:n.endLine,endOrientation:"right",startLineNumber:n.startLine,startOrientation:"right",firstSelectedLineNumber:n.startLine,firstSelectedOrientation:"right"})}),openMarkersDialog:P,closeMarkerListDialog:(0,c.useCallback)(()=>{d("marker-list")},[d]),annotations:s,returnFocusRef:i,threads:b,anyMenuOpen:k}}function aM({cellRef:e}){let{showActionBar:t,hideActionBar:n,anyMenuOpen:a}=ng(),[l,i]=(0,c.useState)(!1),r=(0,c.useCallback)(()=>{t()},[t]),s=(0,c.useCallback)(t=>{!a&&(e.current&&e.current.contains(t.relatedTarget)||n())},[a,e,n]),o=(0,c.useCallback)(()=>{t()},[t]),d=(0,c.useCallback)(()=>{!a&&(e.current===document.activeElement||e.current?.contains(document.activeElement)||n())},[a,e,n]),u=(0,c.useCallback)(t=>{e.current&&(a||(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&i(!1):(n(),i(!1))))},[a,e,n]);return{isActionBarFocused:l,handleCellBlur:s,handleCellFocus:r,handleCellMouseEnter:o,handleCellMouseLeave:d,handleActionBarBlur:u,handleActionBarFocusCapture:(0,c.useCallback)(e=>{a||(e.stopPropagation(),i(!0))},[a]),handleActionBarKeydownCapture:(0,c.useCallback)(e=>{!a&&nn(e.key)&&e.stopPropagation()},[a])}}function aV({fileAnchor:e}){let{isSplit:t,isLeftSide:n,diffLine:a}=tT(),{selectedDiffRowRange:l}=th(),{getDiffSingleLineCode:i,getUnifiedDiffMultiLineCode:r,getSplitDiffMultiLineCode:s}=function(e,t){let{selectedDiffLines:n,getDiffLinesByDiffAnchor:a}=th();return{getUnifiedDiffMultiLineCode:()=>{let n=a(e);if(!n||!t)return"";let{startOrientation:l,endOrientation:i,startLineNumber:r,endLineNumber:s}=t,o=0,d=0;return n.length>1&&(o=n.findIndex(e=>"left"===l?e.left===r:e.right===r),d=n.findIndex(e=>"left"===i?e.left===s:e.right===s)),tu(n.slice(o,d+1))},getDiffSingleLineCode:(t,n)=>{if(!t||!n)return"";let l=a(e)?.find(e=>"left"===t?e.left===n:e.right===n);return l?tu([l]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?tu(n.leftLines):tu(n.rightLines)}}(e,l);return(0,c.useCallback)(async()=>{let e=window.getSelection();return e&&""!==e.toString()?void document.execCommand("copy"):void 0===l||l?.startOrientation===l?.endOrientation&&l?.startLineNumber===l?.endLineNumber?void await (0,nh.D)(i(n?"left":"right",n?a?.left:a?.right)):t?void await (0,nh.D)(s(n?"left":"right")):void await (0,nh.D)(r())},[l,t,r,i,n,a?.left,a?.right,s])}function aB(e,t){switch(t){case"SHOW_MARKERS":return{userMinimized:!1,showMarkers:!0};case"USER_EXPANDED_MARKERS":return{showMarkers:!0,userMinimized:!1};case"USER_MINIMIZED_MARKERS":return{userMinimized:!0,showMarkers:!1};case"USER_EXITED_MARKERS_DIALOG":return{...e,showMarkers:!1}}}var aO=n(21513);let aU={"action-bar-position":"ActionBar-module__action-bar-position--INpbt","left-action-bar":"ActionBar-module__left-action-bar--B2Plj","left-action-bar-draft-compact":"ActionBar-module__left-action-bar-draft-compact--ru7MJ","left-action-bar-draft-relaxed":"ActionBar-module__left-action-bar-draft-relaxed--nHQ2x","left-action-bar-new":"ActionBar-module__left-action-bar-new--Emc9g",addCommentButtonNew:"ActionBar-module__addCommentButtonNew--EgyyF",actionBarArrowSizing:"ActionBar-module__actionBarArrowSizing--Fp2kh",actionBarHeight:"ActionBar-module__actionBarHeight--rjbc7",actionBarStartCommentWidth:"ActionBar-module__actionBarStartCommentWidth--f77cS","action-bar-button-group":"ActionBar-module__action-bar-button-group--mW855"};var a$=n(94602);let aH={commentIndicatorContainer:"CommentIndicator-module__commentIndicatorContainer--js8be",AvatarStack:"CommentIndicator-module__AvatarStack--jEc1l",Compact:"CommentIndicator-module__Compact--ZE18o",Relaxed:"CommentIndicator-module__Relaxed--BloMn",textStyles:"CommentIndicator-module__textStyles--F0_Xp"},az={compact:{avatarSize:18},relaxed:{avatarSize:20}};function aq({shouldAnimateRef:e,lineSpacingPreference:t="relaxed"}){let{diffLine:n}=tT(),{ghostUser:a}=e4();(0,c.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:l}=az[t],r=(n.threadsData?.totalCommentsCount||0)+(n.annotationsData?.totalCount||0);if(0===r)return null;let s={},o=[];n.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&o.push({id:e.id,level:e.annotationLevel})}),n.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?s[e?.author.login]=e.author:a?.login&&(s[a.login]=a)}));let d=[...o.sort((e,t)=>(nE[e.level]?.priority||0)<(nE[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(nA,{annotationLevel:t.level},t.id):(0,i.jsx)(nT,{annotationLevel:t.level},t.id)),...Object.keys(s).map(e=>{let t=s[e]?.login,n=s[e]?.avatarUrl??(a?.avatarUrl||" ");return(0,i.jsx)(nI.r,{alt:t,size:20,src:n},t)})].slice(0,3),u=r>9?"9+":`${r}`;return(0,i.jsxs)("div",{className:(0,F.$)("d-flex","flex-justify-between","flex-items-center",aH.commentIndicatorContainer),children:[(0,i.jsx)(a$.A,{disableExpand:!0,size:l,className:(0,F.$)(aH.AvatarStack,"relaxed"===t?aH.Relaxed:aH.Compact),children:d}),(0,i.jsx)("span",{className:(0,F.$)("fgColor-default","ml-1",aH.textStyles),children:u})]})}try{aq.displayName||(aq.displayName="CommentIndicator")}catch{}var aW=n(89141),aG=n(29255);function aQ(){let{nextHunk:e,currentHunk:t,previousHunk:n}=tT(),{addInjectedContextLines:a}=e4(),l=!!t&&0!==t.startBlobLineNumber,i=!!t&&!!e;return{expandStartOfHunk:()=>{l&&t&&a({start:Math.max(0,t.startBlobLineNumber-20),end:t.startBlobLineNumber})},expandEndOfHunk:()=>{i&&t&&a({start:t.endBlobLineNumber+1,end:t.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{n&&a({start:n.endBlobLineNumber+1,end:n.endBlobLineNumber+1+20})},canExpandEndOfHunk:i,canExpandStartOfHunk:l}}let aX={left:"L",right:"R"},aY="Add comment",aJ="Suggest change";function aZ(e,t,n){let a=n&&!ta(t)?aX.left:aX.right;return`${e} on line ${a}${t.blobLineNumber}`}function a0({handleStartConversationWithSuggestedChange:e,handleStartConversation:t}){let n,a,l,{selectedDiffRowRange:r,selectedDiffLines:s,replaceSelectedDiffRowRange:o}=th(),{commentingEnabled:d}=e4(),{diffLine:m,isLeftSide:p,isSplit:g,diffContext:f}=tT(),h=(0,c.useMemo)(()=>s.leftLines[0],[s.leftLines]),y=(0,c.useMemo)(()=>s.leftLines[s.leftLines.length-1],[s.leftLines]),b=(0,c.useMemo)(()=>s.leftLines.every(e=>!tn(e)&&"DELETION"!==e.type),[s.leftLines]),k=(0,c.useMemo)(()=>s.rightLines[0],[s.rightLines]),x=(0,c.useMemo)(()=>s.rightLines[s.rightLines.length-1],[s.rightLines]),C=(0,c.useMemo)(()=>0===s.rightLines.length,[s.rightLines]),v=(0,c.useMemo)(()=>0===s.leftLines.length,[s.leftLines]),S=(0,c.useMemo)(()=>!(s.leftLines.find(e=>!tn(e)&&!ta(e)&&"INJECTED_CONTEXT"!==e.type)||s.rightLines.find(e=>!tn(e)&&!ta(e)&&"INJECTED_CONTEXT"!==e.type)),[s.leftLines,s.rightLines]),j=(0,c.useCallback)((n,a)=>{!(!r||!y||!h||tn(y)||tn(h))&&h.left&&y.left&&(o({diffAnchor:r.diffAnchor,endLineNumber:y.left,endOrientation:"left",startLineNumber:h.left,startOrientation:"left",firstSelectedLineNumber:h.left,firstSelectedOrientation:"left"}),a?.withSuggestedChange?e():t())},[r,y,h,o,e,t]),I=(0,c.useCallback)((n,a)=>{!(!r||!x||!k||tn(x)||tn(k))&&k.right&&x.right&&(o({diffAnchor:r.diffAnchor,endLineNumber:x.right,endOrientation:"right",startLineNumber:k.right,startOrientation:"right",firstSelectedLineNumber:k.right,firstSelectedOrientation:"right"}),a?.withSuggestedChange?e():t())},[r,x,k,o,e,t]),N="DELETION"!==m.type&&("pr"===f||void 0===f),F=(0,c.useMemo)(()=>!!r&&(r.startOrientation!==r.endOrientation||r.startLineNumber!==r.endLineNumber),[r]);if(!d)return null;let _=!1,L=!1;if(r&&F){let s=aX[r.startOrientation],o=aX[r.endOrientation];return l=` on lines ${s}${r.startLineNumber}-${o}${r.endLineNumber}`,!tn(h)&&!tn(y)&&h&&y&&(_=!0,n=h.left===y.left?C?` on line L${h.left}`:`, original line L${h.left}`:C?` on lines L${h.left}-L${y.right}`:`, original lines L${h.left}-L${y.left}`),!tn(k)&&!tn(x)&&k&&x&&(L=!0,a=k.right===x.right?v||g&&S?` on line R${k.right}`:`, modified line R${x.right}`:v||g&&S?` on lines R${k.right}-R${x.right}`:`, modified lines R${k.right}-R${x.right}`),(0,i.jsx)(i.Fragment,{children:g?(0,i.jsx)(i.Fragment,{children:S?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:I,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),aY+a,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(es.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),aJ+a]})]}):(0,i.jsxs)(i.Fragment,{children:[_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:j,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),aY+n,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:C?"Alt+n":"Alt+Shift+N"})})]}),b&&(0,i.jsxs)(es.l.Item,{onSelect:e=>j(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),aJ+n]})]}):null,L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:I,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),aY+a,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(es.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),aJ+a]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),aY+l]}),N&&b&&(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),aJ+l]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),aZ(aY,m,p)]}),N&&(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),aZ(aJ,m,p)]})]})}try{a0.displayName||(a0.displayName="StartConversationContextMenuItems")}catch{}function a1(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a8,{...e}),(0,i.jsx)(a7,{fileDiffReference:e.copilotChatReference}),(0,i.jsx)(lt,{handleCopyCode:e.handleCopyCode}),(0,i.jsx)(a3,{}),(0,i.jsx)(a2,{}),(0,i.jsx)(ln,{})]})}function a2(){let{diffLine:e,fileAnchor:t}=tT(),{selectedDiffRowRange:n}=th(),a=(0,c.useCallback)(()=>{let a=ts({line:e,range:n,fileAnchor:t});a&&(0,nh.D)(a)},[t,e,n]);return(0,i.jsxs)(es.l.Item,{onSelect:a,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.LinkIcon,{})}),"Copy link",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:"Mod+Alt+y"})})]})}function a4(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(la,{}),(0,i.jsx)(a3,{})]})}let a7=e=>{let{selectedDiffRowRange:t}=th(),{diffLine:n,isLeftSide:a,fileAnchor:l}=tT(),r=((e,t,n,a)=>{let l;if(e)return e;if(!tn(t)){let e=(n?t.left:t.right)??0,i=n?"left":"right";l={startOrientation:i,endOrientation:i,startLineNumber:e,endLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:i,diffAnchor:a}}return l})(t,n,a,l);return e.fileDiffReference?(0,i.jsx)(aW.w,{showDivider:!0,selectedRange:r,fileDiffReference:e.fileDiffReference}):null};function a3(){let{fileAnchor:e}=tT();return(0,i.jsxs)(es.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:"Mod+a"})})]})}function a8({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t,showStartConversation:n,startConversationCurrentLine:a,startConversationWithSuggestedChange:l}){let{commentingEnabled:r}=e4(),{annotations:s,threads:o}=ng(),d=s.length>0;return r&&(n||o||d)?(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(a0,{handleStartConversation:a,handleStartConversationWithSuggestedChange:l}),(0,i.jsx)(a5,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}),(0,i.jsx)(es.l.Divider,{})]}):null}function a5({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{commentingEnabled:n}=e4(),{isSplit:a}=tT(),{viewerData:l}=e4();return n&&l.commentsPreference!==y.sI.Visible?a?(0,i.jsx)(a9,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}):(0,i.jsx)(a6,{onSelect:()=>e(),shouldDisplayCollapseComments:t}):null}function a9({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{originalLineHasThreads:n,modifiedLineHasThreads:a,isLeftSide:l}=tT(),{annotations:r}=ng(),s=r.length>0;return l?(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(le,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("LEFT")}),(a||s)&&(0,i.jsx)(le,{text:t?"Collapse comments, modified line":"Expand comments, modified line",onSelect:()=>e("RIGHT")})]}):(0,i.jsxs)(i.Fragment,{children:[(a||s)&&(0,i.jsx)(le,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("RIGHT")}),n&&(0,i.jsx)(le,{text:t?"Collapse comments, original line":"Expand comments, original line",onSelect:()=>e("LEFT")})]})}function a6({onSelect:e,shouldDisplayCollapseComments:t}){let{ghostUser:n}=e4(),{diffLine:a}=tT(),{annotations:l}=ng();return a&&tw(a.threadsData,n).length>0||l.length>0?(0,i.jsx)(le,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e()}):null}function le({onSelect:e,text:t}){return(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CommentDiscussionIcon,{})}),t]})}function lt({handleCopyCode:e}){return(0,i.jsxs)(es.l.Item,{onSelect:e,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CopyIcon,{})}),"Copy",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(aG.U,{keys:"Mod+c"})})]})}function ln(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=aQ(),{previousHunk:n,nextHunk:a}=tT();return e||t||n||a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.l.Divider,{}),(0,i.jsx)(la,{}),(0,i.jsx)(ll,{})]}):null}function la(){let{canExpandStartOfHunk:e,expandEndOfHunk:t,expandStartOfHunk:n,canExpandEndOfHunk:a}=aQ();return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsxs)(es.l.Item,{onSelect:n,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldUpIcon,{})}),"Expand above"]}),a&&(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldDownIcon,{})}),"Expand below"]})]})}function ll(){let{previousHunk:e,nextHunk:t}=tT(),{fileAnchor:n}=tT();return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(es.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(es.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{a1.displayName||(a1.displayName="CellContextMenu")}catch{}try{a2.displayName||(a2.displayName="CopyAnchorLink")}catch{}try{a4.displayName||(a4.displayName="EmptyCellContextMenu")}catch{}try{a3.displayName||(a3.displayName="SelectAllListItem")}catch{}try{a8.displayName||(a8.displayName="MarkerListItems")}catch{}try{a5.displayName||(a5.displayName="ViewMarkerListItems")}catch{}try{a9.displayName||(a9.displayName="SplitDiffMarkersListItems")}catch{}try{a6.displayName||(a6.displayName="UnifiedDiffMarkerListItem")}catch{}try{le.displayName||(le.displayName="MarkerListItem")}catch{}try{lt.displayName||(lt.displayName="CopyContentListItems")}catch{}try{ln.displayName||(ln.displayName="HunkListItems")}catch{}try{la.displayName||(la.displayName="ExpandHunksListItems")}catch{}try{ll.displayName||(ll.displayName="JumpToHunkListItems")}catch{}var li=n(17998);let lr={InProgressCommentIndicatorBackground:"InProgressCommentIndicator-module__InProgressCommentIndicatorBackground--zV0pN",InProgressCommentIndicatorContainer:"InProgressCommentIndicator-module__InProgressCommentIndicatorContainer--HrW1B"};function ls({authorAvatarUrl:e,authorLogin:t,lineSpacingPreference:n,sx:a}){return(0,i.jsx)(li.k,{altText:`${t}'s avatar image with pending indicator`,icon:u.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===n?18:20,src:e,sx:{...a},backgroundClassName:lr.InProgressCommentIndicatorBackground,className:lr.InProgressCommentIndicatorContainer})}try{ls.displayName||(ls.displayName="InProgressCommentIndicator")}catch{}let lo=(0,c.forwardRef)(function({authorAvatarUrl:e,authorLogin:t,cellId:n,cellRef:a,showStartConversation:l,hasDraftComment:r,copilotChatReference:s,handleCopyCode:o,onOpenInLineThread:d,shouldDisplayCollapseComments:m,toggleViewingMarkers:p},g){let f=(0,c.useRef)(null),h=(0,c.useRef)(null),{commentingEnabled:b,viewerData:{lineSpacingPreference:k,commentsPreference:x}}=e4(),{diffLine:C}=tT(),v=(0,c.useRef)(null),S=f.current?f:h;(0,aO.T)(g,S);let j=C.threadsData?.totalCommentsCount||0,I=C.annotationsData?.totalCount||0,{isActionBarFocused:N,handleActionBarBlur:_,handleActionBarFocusCapture:L,handleActionBarKeydownCapture:T}=aM({cellRef:a}),{annotations:w,isContextMenuOpen:A,startNewConversation:E,startNewConversationWithSuggestedChange:D,anyMenuOpen:P,threads:K,toggleContextMenu:R,toggleContextMenuFromActionBar:M}=aR({cellId:n,actionBarRef:v,onOpenInLineThread:d}),V=b&&j+I>0&&x===y.sI.Collapsed,B=b&&l,O={onBlur:_,onFocusCapture:L,onKeyDownCapture:T};return(0,i.jsxs)(i.Fragment,{children:[B&&(0,i.jsx)("div",{"aria-hidden":!N,className:(0,F.$)("d-flex","flex-row",aU["left-action-bar"]),children:(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(U.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,F.$)("py-0","compact"===k?aU["left-action-bar-draft-compact"]:aU["left-action-bar-draft-relaxed"],aU.actionBarHeight),onClick:E,...O,children:(0,i.jsx)(ls,{lineSpacingPreference:k,authorAvatarUrl:e,authorLogin:t})}):(0,i.jsx)(U.Q,{icon:u.PlusIcon,"aria-label":"Add comment",ref:h,size:"small",className:(0,F.$)("fgColor-muted","bgColor-accent-emphasis","fgColor-onEmphasis","px-0",aU["left-action-bar-new"],aU.addCommentButtonNew,aU.actionBarHeight,aU.actionBarStartCommentWidth),onClick:E,...O})})}),(0,i.jsx)("div",{"aria-hidden":!N,className:(0,F.$)("d-flex","flex-row",aU["action-bar-position"]),children:(0,i.jsxs)(as.A,{className:aU["action-bar-button-group"],...O,children:[V&&(0,i.jsx)(U.Q,{ref:f,"aria-expanded":P,"aria-label":"View comments",size:"small",className:(0,F.$)("py-0","px-1",aU.actionBarHeight),onClick:e=>{(1===K.length||1===w.length)&&e.preventDefault(),p?.()},children:(0,i.jsx)(aq,{lineSpacingPreference:k})}),(0,i.jsxs)(nb.W,{anchorRef:v,open:A,onOpenChange:R,children:[(0,i.jsx)(nb.W.Anchor,{children:(0,i.jsx)(U.Q,{ref:v,"aria-haspopup":"true","aria-label":"More actions",icon:u.TriangleDownIcon,size:"small",className:(0,F.$)("fgColor-muted",aU.actionBarArrowSizing),onClick:M})}),(0,i.jsx)(nb.W.Overlay,{width:"medium",children:(0,i.jsx)(es.l,{children:(0,i.jsx)(a1,{shouldDisplayCollapseComments:m,copilotChatReference:s,showStartConversation:l,handleCopyCode:o,handleViewMarkersSelection:p,startConversationCurrentLine:E,startConversationWithSuggestedChange:D})})})]})]})})]})});lo.displayName="ActionBar";let ld={visibilityHidden:"DiffHighlightedOverlay-module__visibilityHidden--OT0yL",userSelectNone:"DiffHighlightedOverlay-module__userSelectNone--ubGdL",focusedResultStyles:"DiffHighlightedOverlay-module__focusedResultStyles--JG6X3",nonFocusedResultStyles:"DiffHighlightedOverlay-module__nonFocusedResultStyles--JUCld",nonHunkStyles:"DiffHighlightedOverlay-module__nonHunkStyles--JFK7K"};function lc({searchResults:e,focusedSearchResult:t,className:n,styleObject:a}){let l=0,r=e[0]?.text??"",s=e[0]?.diffLineNumIndex??-1,o=`overlay-${s}-${r}`;return(0,i.jsxs)("span",{className:(0,F.$)(n,"position-absolute",ld.userSelectNone,!e[0].isHunk&&ld.nonHunkStyles),style:{...a},children:[e.map(e=>{var n,a;let s=e.indexWithinPathDigest===t,o=(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:(0,F.$)(ld.visibilityHidden,ld.userSelectNone),children:r.substring(l,e.column)}),(0,i.jsx)("span",{className:(0,F.$)(ld.userSelectNone,s&&ld.focusedResultStyles,!s&&ld.nonFocusedResultStyles),children:(0,i.jsx)("span",{className:(0,F.$)(!s&&ld.visibilityHidden),id:(n=e.indexWithinPathDigest,a=e.pathDigest,`match-${a}-${n}`),children:r.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return l=e.columnEnd,o}),(0,i.jsx)("span",{className:(0,F.$)(ld.visibilityHidden,ld.userSelectNone),children:r.substring(l)})]},o)}try{lc.displayName||(lc.displayName="DiffHighlightedOverlay")}catch{}function lu({diffLine:e}){let t=function(e){let t=(e.annotationsData?.annotations??[]).length>0,n=(e.threadsData?.threads??[]).length>0;switch(!0){case t&&n:return"Code has comments and alerts. Press enter to view.";case n:return"Code has comments. Press enter to view.";case t:return"Code has alerts. Press enter to view.";default:return""}}(e);return t?(0,i.jsx)("span",{className:"sr-only user-select-none",children:t}):null}try{lu.displayName||(lu.displayName="DiffLineScreenReaderSummary")}catch{}let lm={"comment-indicator":"DiffLineTableCellParts-module__comment-indicator--EOzeT","in-progress-comment-indicator":"DiffLineTableCellParts-module__in-progress-comment-indicator--DmbGA"},lp=["CONTEXT","INJECTED_CONTEXT"];function lg(e){let{rowId:t}=tT();if(t)return tt(t,e)}let lf=(0,c.forwardRef)(function({children:e,ContextMenu:t,className:n,columnIndex:a,handleDiffCellClick:l,handleDiffCellMouseDown:r,handleExitDialogMode:s,handleHideMarkersFromFocus:o,handleDiffSideCellSelectionBlocking:d,handleStartConversation:u,handleUserClosedMarkersDialog:m,lineAnchor:p,firstLineNumberSelection:g,commentDialogOpen:f,enterDialogMode:h,hasThreads:y,...b},k){let{diffLine:x,fileAnchor:C,isRowSelected:S,isLeftSide:j}=tT(),I=(0,c.useRef)(null);(0,c.useImperativeHandle)(k,()=>I.current,[]);let[N,F]=(0,c.useState)(!1),{selectedDiffRowRange:_}=th(),{disableInlineCommentDialogMode:L,isInDialogMode:T}=no(),w=(0,c.useRef)(null),A=(0,ny.U)(e=>{if(!e.target)return;let t=e.target;if(!N||w.current?.contains(t)||I.current?.contains(t)||2!==e.button?I.current?.contains(t)&&e.target.closest("button")?.contains(t)&&F(!1):F(!1),T){let t=!e.target.closest("[data-inline-markers]"),n=!e.target.closest("#__primerPortalRoot__");t&&n&&L()}});(0,c.useEffect)(()=>(v.XC?.addEventListener("mousedown",A),()=>v.XC?.removeEventListener("mousedown",A)),[A]),(0,c.useEffect)(()=>()=>v.XC?.removeEventListener("mousedown",A),[]);let E=(0,c.useCallback)(()=>{let e=ts({line:x,range:_,fileAnchor:C});e&&(0,nh.D)(e)},[C,x,_]),D=(0,c.useCallback)(()=>{g?.current&&(g.current=null)},[g]),P=(0,c.useCallback)(e=>{let t=e.target?.closest("td"),n=t?.classList.contains("diff-line-number");e.shiftKey?e.preventDefault():n?r?.():g&&(g.current=null),g&&n&&(g.current=j?x.left:x.right),d?.(e)},[d]),K=(0,c.useCallback)(()=>{I.current?.focus(),L(),s?.(),m?.()},[L,s,m]),R=aV({fileAnchor:C}),M=(0,c.useCallback)(async e=>{if(e.target===I.current&&(e?.metaKey||e?.ctrlKey)&&"c"===e.key){e.preventDefault(),await R();return}if(e.target===I.current&&(e?.metaKey||e?.ctrlKey)&&e.altKey&&"y"===e.key)return void E();if(I.current?.contains(e.target)&&e?.key==="Escape")return void K();if(I.current?.contains(e.target)&&"true"===e.target.getAttribute("data-exit-dialog-mode-button")&&!e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),I.current?.querySelector('[data-is-first-collapse-button="true"]')?.focus();return}if(I.current?.contains(e.target)&&"true"===e.target.getAttribute("data-is-first-collapse-button")&&e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),I.current?.querySelector('[data-exit-dialog-mode-button="true"]')?.focus();return}e.target===I.current&&"Enter"===e.key&&(h?.(),!1===y&&u?.(),e.preventDefault())},[R,E,K,h,y,u]),V=`inline-dialog-heading-${(0,c.useId)()}`;return(0,i.jsxs)("td",{ref:I,"data-grid-cell-id":lg(a),"data-line-anchor":p,"data-selected":S,role:T?"dialog":"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:n?`focusable-grid-cell ${n} ${a<3?"left-side":""}`:"focusable-grid-cell",onKeyDown:M,onBlur:e=>e.target.ariaSelected="false",onClick:l,onFocus:e=>e.target.ariaSelected="true",onMouseDown:P,onMouseUp:D,"aria-labelledby":T?V:void 0,...b,children:[T&&(0,i.jsx)("h1",{id:V,className:"sr-only",children:"Comment view"}),e,t&&N&&(0,i.jsx)(nb.W,{anchorRef:I,open:!0,onOpenChange:F,children:(0,i.jsx)(nb.W.Overlay,{width:e?"medium":"small",children:(0,i.jsx)(es.l,{children:t})})})]})});function lh(){let{isSplit:e}=tT();return(0,i.jsx)("div",{className:(0,F.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,i.jsx)(u.KebabHorizontalIcon,{})})}let ly=(0,c.forwardRef)(function({searchResultsForLine:e,focusedSearchResult:t,columnIndex:n,lineAnchor:a,firstLineNumberSelection:l,handleDiffCellClick:r,handleDiffSideCellSelectionBlocking:s,filePath:o,copilotChatReference:d},m){let{diffLine:p,fileAnchor:g,isLeftSide:f,isRowSelected:h}=tT(),b=(0,R.u)("react_diff_line_type_character_correction"),[k,x]=tl(p.html,p.type,b),C=x&&["+","-"].includes(x),[v,S]=(0,c.useState)(""),{isActionBarVisible:j}=ng(),{selectedDiffRowRange:I,selectedDiffLines:N}=th(),{commentBatchPending:_,commentingEnabled:L,commentingImplementation:T,initialExpandedThreadId:w,markerNavigationImplementation:A,repositoryId:E,subjectId:D,subject:P,viewerData:K}=e4(),{hasPersistedComment:V}=nZ({diffSide:f?"LEFT":"RIGHT",filePath:o,line:p.blobLineNumber,subjectId:D,fileLevelComment:!1}),{isInDialogMode:B,enableInlineCommentDialogMode:O,disableInlineCommentDialogMode:U}=no(),$=(0,c.useRef)(null),H=(0,c.useRef)(null);(0,c.useImperativeHandle)(m,()=>H.current,[]);let z=!!p.threadsData?.threads?.length||!!p.annotationsData?.annotations?.length,q=function({hasThreads:e}){return e?"80px":"24px"}({hasThreads:z&&K.commentsPreference===y.sI.Collapsed}),W=function(e,t,n){let{selectedDiffRowRange:a}=th();return(0,c.useMemo)(()=>{let l="Add a comment on",i=!!a&&a.startLineNumber!==a.endLineNumber;if(a&&i&&n){let e={left:"L",right:"R"},t=e[a.startOrientation],n=e[a.endOrientation];l+=a.startLineNumber!==a.endLineNumber?` lines ${t}${a.startLineNumber} to ${n}${a.endLineNumber}`:` line ${t}${a.startLineNumber}`}else{let n=t&&!ta(e)?"L":"R";l+=` line ${n}${e.blobLineNumber}`}return l},[e,t,a,n])}(p,!!f,h),G=lg(n),{handleCellBlur:Q,handleCellFocus:X,handleCellMouseEnter:Y,handleCellMouseLeave:J}=aM({cellRef:H}),Z=(0,c.useRef)(null),[ee,et]=function(e){let[t,n]=(0,c.useReducer)(aB,{userMinimized:e===y.sI.Collapsed,showMarkers:!1}),a=(0,c.useRef)(e);return(0,c.useEffect)(()=>{a.current!==e&&(a.current=e,e===y.sI.Visible?n("SHOW_MARKERS"):n("USER_MINIMIZED_MARKERS"))},[e,n]),[t,n]}(K.commentsPreference),en=(0,c.useCallback)((e=!0)=>{H.current?.classList.contains("diff-text-cell")&&(O(),et("USER_EXPANDED_MARKERS"),e&&setTimeout(()=>{H.current?.querySelector('[data-first-marker="true"]')?.focus()},0))},[et,O]),ea=(0,c.useCallback)(()=>{setTimeout(()=>H.current?.focus()),U(),et("USER_MINIMIZED_MARKERS")},[U,et]),el=(0,c.useCallback)(()=>{K.commentsPreference===y.sI.Collapsed&&ee.showMarkers?ea():en()},[ea,en,ee.showMarkers,K.commentsPreference]),{annotations:ei,isNewConversationDialogOpen:er,shouldStartNewConversationWithSuggestedChange:es,startNewConversation:eo,startNewConversationWithSuggestedChange:ed,selectAnnotation:ec,selectThread:eu,closeNewConversation:em,closeMarkerListDialog:ep,returnFocusRef:eg,optimizedSelectedAnnotationId:ef,optimizedSelectedThreadId:eh,threads:ey}=aR({cellId:G,actionBarRef:$,onOpenInLineThread:en}),eb=(0,c.useMemo)(()=>{var e;return!er&&(e=K.viewerCanComment,L&&e&&((e,t)=>{if(!e)return!1;let n=t.leftLines.concat(t.rightLines);return n.length>0&&n.includes(e)?n.every(e=>!tn(e)&&tc.includes(e.type)):!tn(e)&&tc.includes(e.type)})(p,N))},[er,L,K.viewerCanComment,p,N]);(0,c.useEffect)(()=>{T&&w&&eh!==w&&ey.map(e=>e.id).includes(w)&&eu(w,{skipLineSelection:!0})},[w]),(0,c.useEffect)(()=>{if(!A)return;let{activeGlobalMarkerID:e}=A;if(e){let t=ey.map(e=>e.id),n=ei.map(e=>e.id);t.includes(e)?eu(e,{skipLineSelection:!0}):n.includes(e)&&ec(e,{skipLineSelection:!0})}},[eu,ey,A,ei,ec]);let ek=function(e,t,n){let{sendAnalyticsEvent:a}=(0,nB.s)(),{getDiffLinesFromLineRange:l,selectedDiffRowRange:i}=th(),r=tg(function(n,i){if(!e)return;let r=function(e){if(!e)return"DELETION"!==t.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==t.type;let n=l(e)?.selectedLeftLines;return!!n?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(n);return{isValidSuggestionRange:r,showSuggestChangesButton:r,sourceContentFromDiffLines:r?function(e){let n=l(e)?.selectedRightLines;if(e&&n&&n.length>1)return tu(n);if(!t)return"";let[a]=tl(t.text,t.type);return a}(n):void 0,onInsertSuggestedChange:()=>{a("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,c.useMemo)(()=>({selectedDiffRowRange:i,configureSuggestedChangesFromLineRange:r,shouldStartNewConversationWithSuggestedChange:n}),[i,r,n])}(T?.suggestedChangesEnabled,p,es),ex=(0,c.useCallback)(()=>{en?.(),eo?.()},[en,eo]),eC=(0,c.useCallback)(()=>{B||0!==(H.current?.querySelectorAll(":focus")??[]).length||U()},[U,B]),ev=(0,c.useRef)(!0),{ghostUser:eS}=e4(),ej=aV({fileAnchor:g}),eI=(0,c.useMemo)(()=>z&&K.commentsPreference===y.sI.Collapsed?!ee.userMinimized:(!!er||!!z)&&!!L&&(K.commentsPreference===y.sI.Collapsed&&(!!er||!!B)||K.commentsPreference===y.sI.Visible&&(!!z||!!er||!!ee.showMarkers)||!1),[L,z,B,er,ee.showMarkers,ee.userMinimized,K.commentsPreference]),eN=(0,c.useMemo)(()=>!!(p.text.length<1&&("CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type)||("DELETION"===p.type||"ADDITION"===p.type)&&1===p.text.length&&["+","-"].includes(p.text.charAt(0))),[p]);return(0,i.jsxs)(lf,{ref:H,columnIndex:n,commentDialogOpen:er,handleDiffCellClick:r,enterDialogMode:en,handleDiffSideCellSelectionBlocking:s,handleExitDialogMode:()=>et("USER_EXITED_MARKERS_DIALOG"),handleUserClosedMarkersDialog:()=>et("USER_MINIMIZED_MARKERS"),lineAnchor:a,firstLineNumberSelection:l,handleStartConversation:ex,hasThreads:z,ContextMenu:(0,i.jsx)(a1,{shouldDisplayCollapseComments:eI,copilotChatReference:d,showStartConversation:eb,handleViewMarkersSelection:el,startConversationCurrentLine:ex,startConversationWithSuggestedChange:ed}),className:(0,F.$)(`diff-text-cell ${f?"left-side-diff-cell":"right-side-diff-cell"} ${eN?"pt-4":""}`,{"border-right":f&&"HUNK"!==p.type}),style:{backgroundColor:tm(p.type,!1,h),paddingRight:q},onBlur:e=>{Q(e),eC()},onFocus:X,onMouseEnter:Y,onMouseLeave:J,children:[(0,i.jsxs)("code",{className:(0,F.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===p.type,deletion:"DELETION"===p.type}),children:[C&&(0,i.jsx)("span",{className:"diff-text-marker",children:x}),e&&e.length>0&&(0,i.jsx)(lc,{searchResults:e,focusedSearchResult:t,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})}),(0,i.jsx)(M.$6,{html:k,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})})]}),p.displayNoNewLineWarning&&(0,i.jsx)(u.NoEntryIcon,{size:16,className:"fgColor-danger"}),j&&(0,i.jsx)(lo,{shouldDisplayCollapseComments:ee.showMarkers,copilotChatReference:d,authorAvatarUrl:K.avatarUrl,authorLogin:K.login,ref:$,cellId:G,cellRef:H,hasDraftComment:V,showStartConversation:eb,onOpenInLineThread:en,handleCopyCode:ej,toggleViewingMarkers:el}),T&&A&&(0,i.jsx)(i.Fragment,{children:eI?(0,i.jsx)(aw,{gutterSizeOffset:q,inlineMarkersRef:Z,manuallyUpdateCommentsWithThisThreadId:v,annotations:ei,enterDialogMode:en,batchPending:_,batchingEnabled:T.batchingEnabled,commentingImplementation:{...T,deleteComment:({onCompleted:e,...t})=>{T&&p&&T.deleteComment({...t,onCompleted:()=>{e?.(),ey.length<=1&&setTimeout(()=>H.current?.focus())},filePath:o})}},conversationListThreads:ey,fileAnchor:g,filePath:o,onCloseFocusMode:ea,isMarkerListOpen:!!H.current?.classList.contains("diff-text-cell")&&ey.length>0,isRowSelected:h,lineType:p.type,repositoryId:E,returnFocusRef:eg,selectedAnnotationId:ef,selectedThreadId:eh||(H.current?.classList.contains("diff-text-cell")&&ey.length>0?ey[0]?.id:null),subjectId:D,subject:P,suggestedChangesConfig:ek,onCloseConversationList:ep,onAnnotationSelected:ec,onThreadSelected:eu,viewerData:K,ghostUser:eS,children:er&&(0,i.jsx)("div",{className:(0,F.$)(" border rounded-2 color-border-default",(ey.length,"mt-2 mb-1")),children:(0,i.jsx)(aK,{isDialog:!1,addCommentDialogTitle:W,anchorRef:H,batchPending:_,batchingEnabled:T.batchingEnabled,commentBoxSubject:T.commentBoxSubject,filePath:o,isLeftSide:!!f,isOpen:er,lineNumber:h?I?.endLineNumber:p.blobLineNumber,repositoryId:E,returnFocusRef:eg,startLineNumber:h?I?.startLineNumber:void 0,subjectId:D,suggestedChangesConfig:ek,viewerData:K,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!T||!p)return;let{leftLines:a,rightLines:l}=N;if(I){var i;let e="left"===I.endOrientation?a:l,n=e[e.length-1];n&&(i=n)&&i!==e9&&n.threadsData?.__id&&(t=n.threadsData?.__id)}T.addThread({...n,diffLine:p,isLeftSide:f,isLineSelected:h,selectedDiffRowRange:I,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),eu(t),S(t)}})},onCloseCommentDialog:()=>{ea(),em()}})})}):null}),!j&&K.commentsPreference===y.sI.Collapsed&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===K.lineSpacingPreference?"-1px":"-2px"},className:(0,F.$)("position-absolute top-0 d-flex user-select-none",lm["in-progress-comment-indicator"]),children:V&&(0,i.jsx)(ls,{lineSpacingPreference:K.lineSpacingPreference,authorAvatarUrl:K.avatarUrl,authorLogin:K.login})}),(0,i.jsx)("div",{"aria-hidden":"true",className:(0,F.$)("position-absolute top-0 d-flex user-select-none",lm["comment-indicator"]),children:(0,i.jsx)(aq,{shouldAnimateRef:ev,lineSpacingPreference:K.lineSpacingPreference})})]}),(0,i.jsx)(lu,{diffLine:p})]})}),lb=(0,c.memo)(ly),lk=(0,c.memo)(lx);function lx({children:e,columnIndex:t,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:a,firstLineNumberSelection:l,filePath:r,copilotChatReference:s,contentRef:o,...d}){let u=(0,c.useRef)(null),{diffLine:m,fileAnchor:p,isLeftSide:g,isRowSelected:f}=tT(),{updateSelectedDiffRowRange:h}=th(),y=(0,c.useCallback)(()=>{l&&null!==l.current&&h(p,g?m.left:m.right,g?"left":"right",!0,!0)},[p,g,m.left,m.right,l,h]),b=(0,c.useCallback)(()=>{h(p,g?m.left:m.right,g?"left":"right",!1,!0)},[p,g,m.left,m.right,h]);return(0,i.jsx)(lf,{ref:u,className:(0,F.$)("diff-line-number position-relative",lp.includes(m.type)&&"diff-line-number-neutral"),columnIndex:t,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:a,firstLineNumberSelection:l,style:{backgroundColor:tm(m.type,!0,f),textAlign:"center"},handleDiffCellMouseDown:b,onMouseEnter:y,...d,children:(0,i.jsx)("code",{children:e})})}function lC({ContextMenu:e,renderHunkButton:t,searchResultsForLine:n,focusedSearchResult:a}){let l=(0,c.useRef)(null),[r,s]=function(e){let[t,n]=(0,c.useState)(!1),[a,l]=(0,c.useState)(!1),i=(0,c.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||n(!1)},[e]),r=(0,c.useCallback)(()=>{e.current===document.activeElement&&n(!0)},[e]),s=(0,c.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&n(!1),l(!1)},[e]),o=(0,c.useCallback)(e=>{e.stopPropagation(),l(!0)},[]);return[{onFocus:r,onBlur:i},{"aria-hidden":!a,tabIndex:t?0:-1,onBlur:s,onFocusCapture:o,onKeyDownCapture:(0,c.useCallback)(e=>{nn(e.key)&&e.stopPropagation()},[])}]}(l),{diffLine:o}=tT();return(0,i.jsx)(lf,{ref:l,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...r,className:"diff-hunk-cell",children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[t?.(s)??(0,i.jsx)(lh,{}),(0,i.jsxs)("code",{className:"diff-text-cell hunk",children:[n&&n.length>0&&(0,i.jsx)(lc,{searchResults:n,focusedSearchResult:a,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===o.type})}),(0,i.jsx)(M.$6,{className:"diff-text-inner color-fg-muted",html:o.html})]})]})})}function lv({columnIndex:e,showRightBorder:t}){return(0,i.jsx)(lf,{ContextMenu:(0,i.jsx)(a4,{}),className:(0,F.$)("empty-diff-line",{"border-right":t}),columnIndex:e})}try{lf.displayName||(lf.displayName="Cell")}catch{}try{lh.displayName||(lh.displayName="HunkKebabIcon")}catch{}try{ly.displayName||(ly.displayName="ContentCellUnmemoized")}catch{}try{lb.displayName||(lb.displayName="ContentCell")}catch{}try{lk.displayName||(lk.displayName="LineNumberCell")}catch{}try{lx.displayName||(lx.displayName="LineNumberCellUnmemoized")}catch{}try{lC.displayName||(lC.displayName="HunkCell")}catch{}try{lv.displayName||(lv.displayName="EmptyCell")}catch{}let lS=({resultsForLine:e,focusedSearchResult:t,handleDiffSideCellSelectionBlocking:n,handleDiffRowClick:a,lineAnchor:l,filePath:r,copilotChatReference:s,firstLineNumberSelection:o})=>{let{diffLine:d,hasHiddenUnicodeCharacters:u,isLeftSide:m,isSplit:p,setInGridMode:g}=tT(),f=(0,c.useRef)(null),h="ADDITION"!==d.type,y=!p||m,b=y&&!h,k="DELETION"!==d.type,x=!p||!m,C=x&&!k,v=(0,c.useCallback)(e=>{d.left&&a(e,d.left,"left",e.shiftKey,!0)},[a,d.left]),S=(0,c.useCallback)(e=>{d.left&&a(e,d.left,"left",e.shiftKey,!1)},[a,d.left]),j=(0,c.useCallback)(e=>{d.right&&a(e,d.right,"right",e.shiftKey,!0)},[a,d.right]),I=(0,c.useCallback)(e=>{d.right&&a(e,d.right,"right",e.shiftKey,!1)},[a,d.right]),N=(0,c.useCallback)(()=>{n&&n("left")},[n]),F=(0,c.useCallback)(()=>{n&&n("right")},[n]);return(0,i.jsxs)(np,{line:d,children:[y&&(0,i.jsxs)(lk,{copilotChatReference:s,columnIndex:0,filePath:r,handleDiffCellClick:b?j:v,handleDiffSideCellSelectionBlocking:F,firstLineNumberSelection:o,contentRef:f,children:[u&&!k&&(0,i.jsx)(lI,{children:(0,i.jsx)(ni.o,{})}),h&&d.left]}),x&&(0,i.jsxs)(lk,{copilotChatReference:s,columnIndex:p?2:1,filePath:r,handleDiffCellClick:C?v:j,handleDiffSideCellSelectionBlocking:N,firstLineNumberSelection:o,contentRef:f,children:[u&&k&&(0,i.jsx)(lI,{children:(0,i.jsx)(ni.o,{})}),k&&d.right]}),(0,i.jsx)(ns,{enableDiffGridMode:g,children:(0,i.jsx)(lb,{copilotChatReference:s,columnIndex:p?m?1:3:2,filePath:r,handleDiffCellClick:m?S:I,lineAnchor:l,handleDiffSideCellSelectionBlocking:m?F:N,searchResultsForLine:e,focusedSearchResult:t,firstLineNumberSelection:o,ref:f})})]})},lj=({resultsForLine:e,focusedSearchResult:t,fileAnchor:n,filePath:a,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:r,copilotChatReference:s,firstLineNumberSelection:o})=>{let{diffLine:d,isLeftSide:c}=tT();if(tn(d))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lv,{columnIndex:2*!c}),(0,i.jsx)(lv,{columnIndex:c?1:3,showRightBorder:c})]});let u=c?"left":(0,eG.XU)(d.type),m="left"===u?d.left:d.right,p=(0,eG.IQ)(n,u,m??0);switch(d.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(lF,{copilotChatReference:s,filePath:a,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:r,lineAnchor:p,resultsForLine:e,focusedSearchResult:t,firstLineNumberSelection:o});default:throw Error(`cannot handle type ${d.type}`)}};function lI({children:e}){return(0,i.jsx)("span",{className:"position-absolute",style:{left:"-1px",zIndex:"1"},children:e})}let lN=c.memo(lj),lF=c.memo(lS);try{lS.displayName||(lS.displayName="CodeDiffLineUnmemoized")}catch{}try{lj.displayName||(lj.displayName="DiffLineSideUnmemoized")}catch{}try{lI.displayName||(lI.displayName="DiffCodeAlert")}catch{}try{lN.displayName||(lN.displayName="DiffLineSide")}catch{}try{lF.displayName||(lF.displayName="CodeDiffLine")}catch{}let l_={"expand-button-line":"ExpandableHunkHeaderDiffLine-module__expand-button-line--iUeM1","expand-up-and-down":"ExpandableHunkHeaderDiffLine-module__expand-up-and-down--_W5im","expand-button-unified":"ExpandableHunkHeaderDiffLine-module__expand-button-unified--zEXxI"};function lL({direction:e,icon:t,label:n,onClick:a,ariaLabel:l,className:r,...s}){let{sendAnalyticsEvent:o}=(0,nB.s)(),{isSplit:d}=tT();return(0,i.jsx)("button",{onClick:()=>{a(),o("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,F.$)("Button Button--iconOnly Button--invisible",l_["expand-button-line"],!d&&l_["expand-button-unified"],r),"aria-label":l??n,"data-direction":e,...s,children:(0,i.jsx)(t,{})})}function lT({nextLine:e,prevLine:t,resultsForLine:n,focusedSearchResult:a}){let{fileLineCount:l,diffLine:r}=tT(),{expandStartOfHunk:s,expandEndOfPreviousHunk:o}=aQ(),d=!t,m=!e,p=0===r.blobLineNumber,g=d||m,f=m&&r.blobLineNumber===l,h=(0,c.useMemo)(()=>!g&&!(r.blobLineNumber<=0)&&(!!(r.blobLineNumber-t.blobLineNumber<=20)||!!(e.blobLineNumber-r.blobLineNumber>=20)),[g,r,e,t]),y=(0,c.useMemo)(()=>!g&&!f&&r.blobLineNumber-t.blobLineNumber>20,[g,f,r,t]),b=(0,c.useMemo)(()=>!(r.blobLineNumber<=0)&&!p&&!!d,[d,p,r]),k=(0,c.useMemo)(()=>!d&&!f&&!!m,[d,m,f]),x=(0,c.useMemo)(()=>{switch(!0){case h:return"expand-all";case y:return"expand-up-and-down";case b:return"expand-up";case k:return"expand-down"}},[h,y,b,k]),C=()=>s(),v=()=>o(),S=()=>s();return(0,i.jsx)(lC,{searchResultsForLine:n,focusedSearchResult:a,renderHunkButton:n=>{switch(x){case"expand-all":return(0,i.jsx)(lL,{...n,direction:"all",icon:u.UnfoldIcon,label:`Expand file from line ${t?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:S});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(lL,{...n,direction:"down",icon:u.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,className:l_["expand-up-and-down"],onClick:v}),(0,i.jsx)(lL,{...n,direction:"up",icon:u.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:l_["expand-up-and-down"],onClick:C})]});case"expand-up":return(0,i.jsx)(lL,{...n,direction:"up",icon:u.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:C});case"expand-down":return(0,i.jsx)(lL,{...n,direction:"down",icon:u.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,onClick:v});default:return null}},ContextMenu:(0,i.jsx)(lw,{handleCopyContent:()=>{let[e]=tl(ti(r.html),r.type);(0,nh.D)(e)},handleExpandAbove:C,handleExpandAll:S,handleExpandBelow:v,shouldCopyContent:!!r.html,shouldExpandAbove:y||b,shouldExpandBelow:y||k})})}function lw({shouldExpandBelow:e,shouldExpandAbove:t,shouldCopyContent:n,handleExpandAll:a,handleExpandBelow:l,handleExpandAbove:r,handleCopyContent:s}){let o={includeShiftKey:!0,key:"["},d={key:"]"},c={key:"["},m={key:"C"};return(0,i.jsx)(nb.W.Overlay,{width:"medium",children:(0,i.jsxs)(es.l,{children:[(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":td(o),onSelect:a,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.UnfoldIcon,{})}),"Expand all",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${to(o)}`})})]}),t?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":td(d),onSelect:r,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldUpIcon,{})}),"Expand above",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${to(d)}`})})]}):null,e?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":td(c),onSelect:l,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldDownIcon,{})}),"Expand below",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${to(c)}`})})]}):null,(0,i.jsx)(ll,{}),n?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":td(m),onSelect:s,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CopyIcon,{})}),"Copy",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${to(m)}`})})]}):null]})})}try{lL.displayName||(lL.displayName="ExpandButtonLine")}catch{}try{lT.displayName||(lT.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{lw.displayName||(lw.displayName="HunkContextMenu")}catch{}let lA=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:a,diffEntryId:l,diffHasHiddenUnicodeCharacters:r,diffLines:s,fileAnchor:o,fileLineCount:d,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,replaceSelectedDiffRowRangeFromGridCells:g,selectedDiffRowRange:f,setInGridMode:h,showHiddenUnicode:y,tableRef:b,updateDiffLines:k,copilotChatReference:x,inGridMode:C,firstLineNumberSelection:v}){let{leftLines:S,rightLines:j}=function(e){let t=e.reduce((e,t)=>e+(t.threadsData?.totalCount??0),0)??0,{leftLines:n,rightLines:a}=(0,c.useMemo)(()=>(function(e){let t=[],n=[],a=()=>{for(;t.length<n.length;)t.push(e9);for(;n.length<t.length;)n.push(e9)};for(let i of e)switch(i.type){case"ADDITION":n.push(i);break;case"DELETION":t.push(i);break;case"CONTEXT":case"INJECTED_CONTEXT":var l;a();let[e,r]=[{...l=i,threadsData:void 0,annotationsData:void 0},{...l,threadsData:l.threadsData?{...l.threadsData,threads:l.threadsData.threads,totalCommentsCount:l.threadsData.totalCommentsCount,totalCount:l.threadsData.totalCount}:void 0}];t.push(e),n.push(r);break;case"HUNK":a(),t.push(i),n.push(i)}return a(),{leftLines:t,rightLines:n}})(e),[e,t]);return{leftLines:n,rightLines:a}}(s),{ghostUser:I}=e4();na({clearSelectedDiffRowRange:a,containerRef:b,fileAnchor:o,isSplitDiff:!0,leftLines:S,replaceSelectedDiffRowRangeFromGridCells:g,rightLines:j,disabled:!C});let N=(0,c.useMemo)(()=>{if(f)return tp({selectedDiffRowRange:f,leftLines:S,rightLines:j,isNumberCell:!0})},[f,S,j]);(0,c.useEffect)(()=>{k(o,s)},[s,o,k]);let F=(0,c.useMemo)(()=>tv(S),[S]),_=new Map,L=new Map,T=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(_.has(n.leftLineNumber)?_.get(n.leftLineNumber)?.push(n):-1!==n.leftLineNumber&&_.set(n.leftLineNumber,[n]),T.has(n.hunkLineNumber)?T.get(n.hunkLineNumber)?.push(n):n.isHunk&&T.set(n.hunkLineNumber,[n]),L.has(n.rightLineNumber)?L.get(n.rightLineNumber)?.push(n):-1!==n.rightLineNumber&&L.set(n.rightLineNumber,[n]))}let w=e=>{let t=!1;return r&&!tn(e)&&(t=(0,eX.Y)(e.text),y&&t&&(e=e.html?{...e,html:(0,tF.Gx)(e.html)??e.html}:{...e,text:(0,eX.TA)(e.text)})),[e,t]},A=[];for(let e=0;e<S.length;e++){let a=S[e],r=j[e],s=S[e-1],[c,g]=w(a),[f,y]=w(r),b=tn(S[e+1])?j[e+1]:S[e+1],k=!!c&&c!==e9&&"HUNK"===c.type,C=te(o,c,f),E=tn(c)?tn(f)?void 0:f:c;if(!E)continue;let D=tn(c)?void 0:c.threadsData,P=tn(f)?void 0:f.threadsData,{currentHunk:K,nextHunk:R,previousHunk:M}=tC(E,F),V=_.get(tn(c)?-2:c.left??-2),B=L.get(tn(f)?-2:f.right??-2),O=T.get(E.blobLineNumber),U=O?.[0]?.rightLineNumber===f?.right?n:void 0,$=V?.[0]?.leftLineNumber===c?.left?n:void 0,H=B?.[0]?.rightLineNumber===f?.right?n:void 0,z=tw(P,I),q=tw(D,I),W={currentHunk:K,diffEntryId:l,fileAnchor:o,fileLineCount:d,filePath:u,isRowSelected:(N?.isRowSelected(a)||N?.isRowSelected(r))??!1,nextHunk:R,previousHunk:M,rowId:C,isSplit:!0,diffContext:t,setInGridMode:h};A.push((0,i.jsx)("tr",{className:"diff-line-row",children:k?(0,i.jsx)(tL,{...W,hasHiddenUnicodeCharacters:g||y,diffLine:E,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lT,{nextLine:b,prevLine:s,focusedSearchResult:U,resultsForLine:O})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tL,{...W,diffLine:c,hasHiddenUnicodeCharacters:g,isLeftSide:!0,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lN,{copilotChatReference:x,fileAnchor:o,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:V,focusedSearchResult:$,firstLineNumberSelection:v})}),(0,i.jsx)(tL,{...W,diffLine:f,hasHiddenUnicodeCharacters:y,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lN,{copilotChatReference:x,fileAnchor:o,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:B,focusedSearchResult:H,firstLineNumberSelection:v})})]})},C))}return(0,i.jsx)(i.Fragment,{children:A})});try{lA.displayName||(lA.displayName="SplitDiffLines")}catch{}let lE=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:a,diffEntryId:l,diffHasHiddenUnicodeCharacters:r,diffLines:s,fileLineCount:o,fileAnchor:d,filePath:u,tableRef:m,selectedDiffRowRange:p,showHiddenUnicode:g,handleDiffRowClick:f,updateDiffLines:h,replaceSelectedDiffRowRangeFromGridCells:y,copilotChatReference:b,setInGridMode:k,inGridMode:x,firstLineNumberSelection:C}){na({clearSelectedDiffRowRange:a,containerRef:m,fileAnchor:d,isSplitDiff:!1,leftLines:s,replaceSelectedDiffRowRangeFromGridCells:y,disabled:!x});let v=(0,c.useMemo)(()=>{if(p)return tp({selectedDiffRowRange:p,leftLines:s,isNumberCell:!0})},[p,s]),S=(0,c.useMemo)(()=>tv(s.map(e=>e)),[s]);(0,c.useEffect)(()=>{h(d,s)},[s,d,h]);let j=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(e&&j.has(n.diffLineNumIndex)?j.get(n.diffLineNumIndex)?.push(n):e&&j.set(n.diffLineNumIndex,[n]))}let I=s.map((e,a)=>{let c=e,m=s[a+1],p=s[a-1],h="HUNK"===e.type,y=(0,eG.IQ)(d,(0,eG.XU)(c.type),c.blobLineNumber),{currentHunk:x,nextHunk:I,previousHunk:N}=tC(c,S),F=j.get(a),_=a===F?.[0]?.diffLineNumIndex?n:void 0,L=v?.isRowSelected(e)??!1,T=te(d,c,c),w=r&&(0,eX.Y)(c.text);g&&w&&(c=c.html?{...c,html:(0,tF.Gx)(c.html)??c.html}:{...c,text:(0,eX.TA)(c.text)});let A={diffEntryId:l,diffLine:c,currentHunk:x,fileAnchor:d,fileLineCount:o,filePath:u,hasHiddenUnicodeCharacters:w,isLeftSide:"DELETION"===c.type,isRowSelected:L,isSplit:!1,nextHunk:I,previousHunk:N,diffContext:t,rowId:T,setInGridMode:k};return(0,i.jsx)("tr",{className:"diff-line-row",children:(0,i.jsx)(tL,{...A,children:h?(0,i.jsx)(lT,{nextLine:m,prevLine:p,focusedSearchResult:_,resultsForLine:F}):(0,i.jsx)(lF,{filePath:u,copilotChatReference:b,handleDiffRowClick:f,firstLineNumberSelection:C,lineAnchor:y,resultsForLine:F,focusedSearchResult:_})})},T)});return(0,i.jsx)(i.Fragment,{children:I})});try{lE.displayName||(lE.displayName="UnifiedDiffLines")}catch{}function lD({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})}let lP=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,diffEntryData:a,diffLinesManuallyUnhidden:l,baseHelpUrl:r,onHandleLoadDiff:s,copilotChatReference:o,hasExpandedAllRanges:d,...c}){let u=`diff-${a.pathDigest}`;if(a.isBinary)return(0,i.jsx)(lD,{diffAnchor:u,children:"Binary file not shown."});if((0,eU.dK)(a))return(0,i.jsx)(lD,{diffAnchor:u,children:"File renamed without changes."});if((0,eU.Jc)(a))return(0,i.jsx)(lD,{diffAnchor:u,children:"File copied without changes."});if((0,eU.Sn)(a,a.status,a.oldTreeEntry?.mode,a.newTreeEntry?.mode))return(0,i.jsx)(lD,{diffAnchor:u,children:"File mode changed."});if(!l&&(0,eU.HI)(a))return(0,i.jsx)(tN,{diffAnchor:u,onLoadDiff:s,children:(0,eU.l_)(a.truncatedReason)});if((0,eU.s8)(a))return(0,i.jsx)(lD,{diffAnchor:u,children:"Whitespace-only changes."});if(!l&&(0,eU.lO)(a))return(0,i.jsx)(tN,{diffAnchor:u,onLoadDiff:s,children:"This file was deleted."});if(!l&&(0,eU.xW)(a))return(0,i.jsxs)(tN,{diffAnchor:u,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${r}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:s,children:["Some generated files are not rendered by default. Learn more about"," "]});if(a.isTooBig&&0===a.diffLines.length)if(l)return(0,i.jsxs)(lD,{diffAnchor:u,children:["Diff is too big to render. To view,"," ",(0,i.jsx)($.A,{inline:!0,href:`${r}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]});else return(0,i.jsx)(tN,{diffAnchor:u,onLoadDiff:s,children:"Large diffs are not rendered by default."});return a.diffLines?(0,i.jsx)(e2,{...c,children:(0,i.jsx)(tb,{children:(0,i.jsx)(lK,{diffAnchor:u,diffContext:t,diffEntryData:a,viewerData:c.viewerData,focusedSearchResult:n,searchResults:e,copilotChatReference:o,hasExpandedAllRanges:d})})}):null});function lK({diffAnchor:e,viewerData:t,diffEntryData:n,searchResults:a,focusedSearchResult:l,copilotChatReference:r,diffContext:s,hasExpandedAllRanges:o}){let d=(0,c.useRef)(null),[u,m]=(0,c.useState)(!0),[p,g]=(0,c.useState)(null),[f,h]=(0,c.useState)(!1),y=n.newTreeEntry?.lineCount??n.oldTreeEntry?.lineCount??0,k=(0,c.useMemo)(()=>{let e=n.diffLines[n.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<y?n.diffLines.concat({__id:tk.finalLineId,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):n.diffLines},[n.diffLines,y]),{diffViewPreference:x,lineSpacingPreference:C,tabSizePreference:S}=t,{selectedDiffRowRange:j,replaceSelectedDiffRowRange:I,replaceSelectedDiffRowRangeFromGridCells:N,clearSelectedDiffRowRange:_,updateDiffLines:L,updateSelectedDiffRowRange:T}=th(),w=(0,c.useCallback)(e=>{if(!d.current||!e.target)return;let t=e.target,n=t.closest("td.diff-line-number"),a=d.current.contains(t);n&&!a&&(_(),M.current=null)},[_,d]);(0,c.useEffect)(()=>(v.XC?.addEventListener("mousedown",w),()=>{v.XC?.removeEventListener("mousedown",w)}),[w]);let A=e===j?.diffAnchor,E=(0,c.useMemo)(()=>{let e,t=n.status,a=n.oldTreeEntry?.path,l=n.newTreeEntry?.path;if(a||l)return e="RENAMED"===t?`${a} renamed to ${l}`:"DELETED"===t||"REMOVED"===t?a:l,`Diff for: ${e}`},[n]);(0,c.useEffect)(()=>{if(!A)return;let e=function(e,t){if(!e)return;if(!t)return e;let n=!1,a=!1,l=!1;for(let i of t)if(i&&(a||(a=e6(i,e.startLineNumber,e.startOrientation)),l||(l=e6(i,e.endLineNumber,e.endOrientation)),(n=l&&!a)||a&&l))break;return n?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation}:e}(j,k);e&&e!==j&&I(e)},[k,j,A,I]);let D=v.cg?.location.search,P=(0,c.useMemo)(()=>"split"===new URLSearchParams(D).get("diff")||"split"===x,[D,x]),K=(0,eG.c7)(k),R=(0,c.useCallback)(e=>{g(e)},[g]),M=(0,c.useRef)(null),V=(0,c.useCallback)(e=>{if(e.shiftKey&&e.metaKey&&"ArrowLeft"===e.key&&!o&&u&&e.target?.getAttribute("role")==="gridcell"){let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${n.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},[o,u,n.path]),B=(0,c.useCallback)((t,n,a,l,i)=>{!function(e){let t=document.getElementById("__primerPortalRoot__");return!!t&&!!e&&t.contains(e)}(t.target)&&!t.defaultPrevented&&i&&T(e,n,a,l,i)},[e,T]),O=(0,c.useCallback)(e=>{let t=document.getSelection();if(t){let n=[];for(let e=0;e<t.rangeCount;e++){let a=t.getRangeAt(e).cloneContents();if(a.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${P?`, ${"left"===p?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of a.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of a.children){let t=e.textContent;`
`===t?n.push(""):n.push(t)}}else 1===t.rangeCount?n.push(t.toString()):n.push(a.textContent)}e.clipboardData.setData("text/plain",n.join(`
`)),e.preventDefault()}},[p,P]),U=(0,c.useMemo)(()=>k.some(e=>(0,eX.Y)(e.text)),[k]),$={searchResults:a,diffContext:s,focusedSearchResult:l,clearSelectedDiffRowRange:_,diffEntryId:n.objectId,diffHasHiddenUnicodeCharacters:U,diffLines:k,fileAnchor:e,fileLineCount:y,filePath:n.path,handleDiffRowClick:B,handleDiffSideCellSelectionBlocking:R,replaceSelectedDiffRowRangeFromGridCells:N,selectedDiffRowRange:A?j:null,showHiddenUnicode:f,tableRef:d,updateDiffLines:L,updateSelectedDiffRowRange:T,copilotChatReference:r,setInGridMode:m,inGridMode:u,firstLineNumberSelection:M};return(0,i.jsxs)(i.Fragment,{children:[U&&(0,i.jsx)(eQ.a,{isShown:f,toggleShowHiddenCharacters:()=>h(!f)}),(0,i.jsx)("table",{"aria-label":E,onKeyDown:V,ref:d,className:(0,F.$)("tab-size","width-full",tS.tableLayoutFixed,{[tS.compact]:"compact"===C}),"data-block-diff-cell-selection":p,"data-diff-anchor":e,"data-tab-size":S,"data-paste-markdown-skip":!0,onCopy:O,role:"grid",style:{"--line-number-cell-width":`${K}px`,"--line-number-cell-width-unified":`${2*parseFloat(K)}px`},children:P?(0,i.jsx)(b.wj,{lineWidth:K,children:(0,i.jsx)(lA,{...$})}):(0,i.jsx)(b.Qe,{lineWidth:K,children:(0,i.jsx)(lE,{...$})})})]})}try{lD.displayName||(lD.displayName="PlainTextStatus")}catch{}try{lP.displayName||(lP.displayName="DiffLines")}catch{}try{lK.displayName||(lK.displayName="CodeDiffLines")}catch{}var lR=n(78049);let lM={filesActionList:"SubmoduleDiff-module__filesActionList--bnkEy",fileRowLinkItem:"SubmoduleDiff-module__fileRowLinkItem--B6ZhJ",path:"SubmoduleDiff-module__path--M3Bxi",fileRow:"SubmoduleDiff-module__fileRow--HYQLm",linesAdded:"SubmoduleDiff-module__linesAdded--db7oX",linesDeleted:"SubmoduleDiff-module__linesDeleted--zx_Ak"};function lV({submodule:e}){let{basePath:t,changedFiles:n,contentsUrl:a,newCommitOid:l,oldCommitOid:r,status:s,submoduleUrl:o}=e,d=e.summary.length>0&&e.contentsUrl&&"MODIFIED"===s,m=(0,c.useMemo)(()=>{switch(s){case"ADDED":return(0,i.jsx)(lU,{commitOid:l,contentsUrl:a,type:"added"});case"DELETED":case"REMOVED":return(0,i.jsx)(lU,{commitOid:r,contentsUrl:a,type:"deleted"});default:return(0,i.jsx)(l$,{newCommitOid:l,oldCommitOid:r,changedFiles:n,contentsUrl:a})}},[l,r,s,n,a]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:`px-3 py-2 ${d?"border-bottom bgColor-muted":""}`,children:[(0,i.jsx)(u.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),(0,i.jsx)(lB,{basePath:t,submoduleUrl:o}),m]}),d&&(0,i.jsx)(es.l,{className:lM.filesActionList,showDividers:!0,variant:"full",children:e.summary.map(e=>(0,i.jsx)(lH,{compareUrl:`${a}/compare/${r}...${l}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))})]})}function lB({basePath:e,submoduleUrl:t}){return(0,i.jsxs)(i.Fragment,{children:["Submodule"," ",t?(0,i.jsx)($.A,{inline:!0,href:t,children:e}):e," "]})}function lO(e){return e.slice(0,7)}function lU({commitOid:e="",contentsUrl:t,type:n}){let a="added"===n?"added at":"deleted from";return t?(0,i.jsxs)(i.Fragment,{children:[a," ",(0,i.jsx)($.A,{inline:!0,href:`${t}/tree/${e}`,children:lO(e)})]}):(0,i.jsxs)(i.Fragment,{children:[a," ",lO(e)]})}function l$({newCommitOid:e="",oldCommitOid:t="",changedFiles:n=0,contentsUrl:a}){let l=n>0&&a?`${n} ${1===n?"file":"files"}`:`from ${lO(t)} to ${lO(e)}`;return(0,i.jsxs)(i.Fragment,{children:["updated"," ",a?(0,i.jsx)($.A,{inline:!0,href:`${a}/compare/${t}...${e}`,children:l}):l]})}function lH({compareUrl:e,linesAdded:t,linesDeleted:n,path:a,pathDigest:l,status:r}){return(0,i.jsx)(es.l.LinkItem,{href:`${e}#diff-${l}`,className:lM.fileRowLinkItem,children:(0,i.jsxs)(K.B,{gap:"condensed",direction:"horizontal",align:"center",className:lM.fileRow,children:[(0,i.jsx)(lR.E,{status:r}),(0,i.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[(0,i.jsx)("span",{className:lM.path,children:a}),(t>0||n>0)&&(0,i.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,i.jsx)("div",{className:lM.linesAdded,children:t>0&&(0,i.jsxs)(eO.C,{isAddition:!0,children:["+",lz(t)]})}),(0,i.jsx)("div",{className:lM.linesDeleted,children:n>0&&(0,i.jsxs)(eO.C,{isAddition:!1,children:["-",lz(n)]})})]})]})]})})}function lz(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{lV.displayName||(lV.displayName="SubmoduleDiff")}catch{}try{lB.displayName||(lB.displayName="SubmodulePath")}catch{}try{lU.displayName||(lU.displayName="SubmoduleCommitChange")}catch{}try{l$.displayName||(l$.displayName="SubmoduleModified")}catch{}try{lH.displayName||(lH.displayName="SubmoduleFileRow")}catch{}function lq(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,a=n.get(t);return a?{...e,position:a.position}:{...e,position:null,threadsData:void 0}})}var lW=n(78252);function lG({oid:e,path:t,repo:n,isViewable:a=!0,copilotDiffChatProps:l}){return(0,i.jsxs)(nb.W,{children:[(0,i.jsx)(nb.W.Anchor,{children:(0,i.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,i.jsx)(u.KebabHorizontalIcon,{})})}),(0,i.jsx)(nb.W.Overlay,{children:(0,i.jsxs)(es.l,{children:[(0,i.jsxs)(es.l.LinkItem,{href:(0,x.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:a?void 0:"Action unavailable",children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.EyeIcon,{})}),"View file"]}),l&&(0,i.jsx)(lW.$,{...l})]})})]})}try{lG.displayName||(lG.displayName="BlobActionsMenu")}catch{}var lQ=n(33671),lX=n(8934);function lY({dependencyDiffPath:e,fileRendererInfo:t,proseDiffHtml:n,loading:a}){return a?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(tj.A,{size:"large"})}):n?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(M.vb,{html:n})}):t?(0,i.jsx)(lQ.default,{...t}):e?(0,i.jsx)(lX.x,{src:e,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(tj.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{lY.displayName||(lY.displayName="RichDiff")}catch{}let lJ=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:a,dependencyDiffPath:l}){let{loaded:s,richDiffData:o}=function(e,t,n,a){let l=!!t.proseDiffHtml||!!t.fileRendererInfo||!!a,i=(0,r.t)(),[s,o]=(0,c.useState)(l),[d,u]=(0,c.useState)(t),m=(0,c.useCallback)(async()=>{let t=await (0,ej.lS)(`${(0,x.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&u(await t.json()),o(!0)},[e,n,i]);return(0,c.useEffect)(()=>{l||m()},[l,m]),{loaded:s,richDiffData:d}}(e,{proseDiffHtml:n,fileRendererInfo:a},t,l);return(0,i.jsx)(lY,{dependencyDiffPath:l,fileRendererInfo:o.fileRendererInfo,loading:!s,proseDiffHtml:o.proseDiffHtml})});try{lJ.displayName||(lJ.displayName="CommitRichDiff")}catch{}let lZ={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--DiwLD"},l0={isInMergeQueue:!1,state:"OPEN"},l1=c.memo(l2);function l2({diffMatches:e,focusedSearchResult:t,diffEntryData:n,contextLinePathURL:a,recalcTotalHeightOfVirtualWindow:l,onOptionCollapseToggle:r,helpUrl:o,headerStickyOffset:u=0,repo:m,oid:p,index:g,ignoreWhitespace:f,virtualizerScrollTo:y}){let b=(0,s.i)(),{data:k}=(0,h.ID)();void 0===k&&(k=h.aX);let x=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:ek.l,incrementActiveMarker:ek.l,overlayPortalContainerName:"commit-details-marker-portal"}),[]),C=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:v,getInlineCommentInfoByPathAndPosition:S,updateInlineCommentMapWithNewComment:j,initialExpandedThreadId:I}=(0,e$.B)(),{commentBoxSubject:N}=(0,eH.X)(),F=function(e,t,n){let a=(0,d.B)(),{commit:l,commentInfo:i,repoOwnerGlobalRelayId:r}=a,s=(0,ez.I)({commit:l,repo:a.repo,viewerCanReply:i.canComment,repoOwnerGlobalRelayId:r,getInlineCommentInfoByPathAndPosition:t}),{addComment:o,deleteComment:u,editComment:m,hideComment:p,unhideComment:g}=(0,eH.X)(),{findInlineComment:f,findInlineCommentWithRelay:h}=(0,e$.B)(),y=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:n,text:a,thread:l})=>{let[i,r]=l.id.split("::");if(!i||!r)return void n(Error("Invalid threadId"));o(a,e,r).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[o]),b=(0,c.useCallback)(({text:e,diffLine:t,filePath:a,onCompleted:l,onError:i})=>{t&&t.position&&o(e,a,t.position.toString()).then(e=>{if(e.comment){let i=e.comment.id,r=`${a}::${t.position}`;n?.(a,t.position??0,[e.comment],!0),s(r,!0),l?.(r,i)}else i?.(Error("Failed to add comment"))})},[o,n,s]),k=(0,c.useCallback)(({comment:e,text:t,onCompleted:n,onError:a})=>{let l=h(e.id);if(!l)return void a(Error("Comment not found"));m(t,{id:l.id,bodyVersion:l.bodyVersion}).then(e=>{e.updatedFields?n?.():a(Error("Failed to edit comment"))})},[m,h]),x=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let a=h(e);if(!a)return void n?.(Error("Comment not found"));u(a.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[u,h]),C=(0,c.useCallback)(({commentDatabaseId:e,reason:t,onCompleted:n,onError:a})=>{let l=f(e);if(!l)return void a?.(Error("Comment not found"));p(l.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&a(Error("Failed to hide comment"))})},[f,p]),v=(0,c.useCallback)(({commentDatabaseId:e,onCompleted:t,onError:n})=>{let a=f(e);if(!a)return void n?.(Error("Comment not found"));g(a.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[f,g]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",commentBoxSubject:e,multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:b,addThreadReply:y,deleteComment:x,editComment:k,pendingSuggestedChangesBatch:[],submitSuggestedChanges:ek.l,addSuggestedChangeToPendingBatch:ek.l,removeSuggestedChangeFromPendingBatch:ek.l,addFileLevelThread:ek.l,resolveThread:ek.l,unresolveThread:ek.l,hideComment:C,unhideComment:v,fetchThread:s}),[b,y,x,k,s,C,v,e])}(N,S,j),[_,L]=(0,c.useState)(l4(n.current[g],v)),T=(0,c.useCallback)(e=>{L(l4(e,v))},[v]),[w,A]=(0,c.useState)(_.collapsed),[E,D]=(0,c.useState)(_.defaultToRichDiff),P=_.isSubmodule&&!!_.submodule,K=!P&&!E,[R,M]=(0,c.useState)(_.diffManuallyExpanded),V=(0,c.useRef)(!1);(0,c.useEffect)(()=>{A(_.collapsed)},[_.collapsed]);let B=(0,c.useRef)([]),O=(0,c.useCallback)(async e=>{B.current.push(e);let t=await eq(B.current,a,_.pathDigest);if(void 0!==t){let e={..._};e.diffLines=lq(e.diffLines,t.diffEntryWithContext),T(e),n.current[g]=e,l()}},[a,n,_,g]),U=async()=>{B.current=[],V.current||((_.newTreeEntry?.lineCount??0)<5e3?B.current.push({start:1,end:Math.max(_.oldTreeEntry?.lineCount??0,_.newTreeEntry?.lineCount??0)}):B.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let a=e[t-1>=0?t-1:0],l=e[t+1<e.length?t+1:e.length-1],i=a?.blobLineNumber,r=l?.blobLineNumber;i&&r&&(n.push({start:i,end:i+40}),n.push({start:Math.max(r-40,1),end:r}))}let a=e[e.length-1].blobLineNumber;return a<t&&n.push({start:a,end:a+40}),n}(_.diffLines,_.newTreeEntry?.lineCount??0)),V.current=!V.current;let e=await eq(B.current,a,_.pathDigest);if(void 0!==e){let t={..._};t.diffLines=lq(t.diffLines,e.diffEntryWithContext),T(t),n.current[g]=t,l()}},$=(0,c.useCallback)(async()=>{if(0===_.diffLines.length){let e;try{e=await eW({repo:m,sha1:_.oldOid,sha2:_.newOid,entry:_.diffNumber.toString()})}catch{throw Error("Error fetching diff lines")}let t={..._};t.diffLines=e,T(t),n.current[g]=t}_.diffManuallyExpanded=!0,n.current[g].diffManuallyExpanded=!0,M(!0),l(),requestAnimationFrame(()=>{y?.(g,{align:"center"})})},[n,_,g,l]);(0,c.useEffect)(()=>{T(n.current[g]),B.current=[]},[f,g,n,p,m.name,m.ownerLogin,_.path,T]);let H=(0,c.useMemo)(()=>{if(_.isBinary||_.isSubmodule||(0,eU.dK)(_))return!1;if(V.current||(n.current[g]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=n.current[g]?.diffLines?.length||0,t=n.current[g]?.diffLines?.[e-1]?.blobLineNumber||0,a=n.current[g]?.newTreeEntry?.lineCount||0;return!!(t<a)||!!(e-1<a)},[n.current[g]?.diffLines,n.current[g]?.newTreeEntry?.lineCount,g,n,_]),z=(0,c.useMemo)(()=>({avatarUrl:b?.avatarURL??"",diffViewPreference:k.splitPreference,isSiteAdmin:!1,commentsPreference:k.commentsPreference,login:b?.login??"",lineSpacingPreference:k.lineSpacing,tabSizePreference:b?.tabSize??4,viewerCanComment:C.canComment,viewerCanApplySuggestion:!1}),[b?.avatarURL,b,b?.login,b?.tabSize,k]),q=(0,c.useMemo)(()=>{if(_.copilotChatReference)return{copilotChatReference:_.copilotChatReference}},[_]),W=(0,c.useId)(),G=`heading-${W}`;return(0,i.jsxs)("div",{role:"region","aria-labelledby":G,className:"position-relative",style:{contain:"layout"},children:[(0,i.jsx)("div",{className:lZ.diffHeaderWrapper,style:{"--header-sticky-offset":`${u}px`},children:(0,i.jsx)(eO.B,{areLinesExpanded:V.current,canExpandOrCollapseLines:H,fileLinkHref:`#diff-${_.pathDigest}`,isCollapsed:w,isBinary:_.isBinary,isSubmodule:P,headingId:G,size:_.diffSize,canToggleRichDiff:_.canToggleRichDiff,linesAdded:_.linesAdded,linesChanged:_.linesChanged,linesDeleted:_.linesDeleted,newMode:_.newTreeEntry?.mode,newPath:_.newTreeEntry?.path,oldMode:_.oldTreeEntry?.mode,oldPath:_.oldTreeEntry?.path,patchStatus:_.status,path:_.path,onToggleExpandAllLines:U,onToggleFileCollapsed:e=>{e.altKey?r(!w):(_.collapsed=!w,n.current[g].collapsed=!w,A(!w))},onToggleDiffDisplay:e=>D(e),rightSideContent:(0,i.jsx)(lG,{oid:"REMOVED"===_.status&&_.deletedSha?_.deletedSha:p,path:_.path,repo:m,isViewable:!_.isSubmodule,copilotDiffChatProps:q}),showRichDiff:E})}),w?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[P&&_.submodule&&(0,i.jsx)(lV,{submodule:_.submodule}),E&&(0,i.jsx)(lJ,{commitOid:p,path:_.path,proseDiffHtml:_.proseDifffHtml,fileRendererInfo:_.renderInfo,dependencyDiffPath:_.dependencyDiffPath}),K&&(0,i.jsx)(lP,{diffContext:"commit",copilotChatReference:_.copilotChatReference,searchResults:e,focusedSearchResult:t,diffEntryData:_,baseHelpUrl:o,commentingEnabled:!0,commentBatchPending:!1,repositoryId:m.id.toString(),subject:l0,subjectId:p,viewerData:z,newCommitOid:_.newOid,oldCommitOid:_.oldOid,addInjectedContextLines:O,commentingImplementation:F,markerNavigationImplementation:x,diffLinesManuallyUnhidden:R,onHandleLoadDiff:$,initialExpandedThreadId:I})]})]},`${_.pathDigest}_${_.diffLines.length}`)}function l4(e,t){for(let n of e.diffLines??[]){let a=t(e.path,n.position);a?n.threadsData={totalCommentsCount:a.count,totalCount:a.count,threads:(a.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{l1.displayName||(l1.displayName="Diff")}catch{}try{l2.displayName||(l2.displayName="DiffUnmemoized")}catch{}var l7=n(27028);let l3=(0,c.memo)(l8);function l8({treeToggleElement:e,headerInfo:t,searchBox:n,ignoreWhitespace:a}){let l=(0,c.useRef)(null),r=function(e){let[t,n]=(0,c.useState)(!1),a=(0,c.useCallback)(e=>{let a=e[e.length-1].intersectionRatio<1;a!==t&&n(a)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(a,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,a]),t}(l),s=r?"d-none d-sm-flex":"";return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:l,children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,i.jsxs)(aD.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,i.jsxs)(eO.C,{className:s,isAddition:!0,children:["+",t.additions]}),(0,i.jsxs)(eO.C,{className:s,isAddition:!1,children:["-",t.deletions]}),(0,i.jsx)("span",{className:`${s} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[r&&(0,i.jsx)(l5,{}),void 0!==n&&n,(0,i.jsx)(l7.G,{reloadOnWhitespaceChange:!0,defaultHideWhitespace:a})]})]})}let l5=()=>(0,i.jsx)(U.Q,{leadingVisual:u.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{l3.displayName||(l3.displayName="DiffsHeader")}catch{}try{l8.displayName||(l8.displayName="DiffsHeaderUnmemoized")}catch{}try{l5.displayName||(l5.displayName="GoToTopButton")}catch{}let l9=c.memo(l6);function l6(){return(0,i.jsx)("div",{className:"pt-3",children:(0,i.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,i.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,i.jsx)(B.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,i.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{l9.displayName||(l9.displayName="LoadingContentBlock")}catch{}try{l6.displayName||(l6.displayName="LoadingContentBlockUnmemoized")}catch{}function ie({diffEntryData:e,contextLinePathURL:t,repo:n,oid:a,treeToggleElement:l,headerInfo:r,totalFileCount:s}){let o=(0,c.useRef)(e),u=(0,ex.X)(),m=(0,d.B)();return(0,i.jsxs)("div",{"data-hpc":!0,children:[s>40&&(0,i.jsx)(eB,{}),(0,i.jsx)(l3,{treeToggleElement:l,headerInfo:r}),e.map((e,l)=>l>=10?null:(0,i.jsx)("div",{className:0===l?"pt-0":"pt-3",children:(0,i.jsx)(l1,{onOptionCollapseToggle:ek.l,diffEntryData:o,index:l,helpUrl:u.helpUrl,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ek.l,repo:n,ignoreWhitespace:m.ignoreWhitespace,oid:a})},e.pathDigest))]})}try{ie.displayName||(ie.displayName="SSRDiffs")}catch{}let it=(0,c.memo)(ia);function ia({totalFileCount:e,diffEntryData:t,contextLinePathURL:n,unselectedFileExtensions:a,repo:l,oid:r,ignoreWhitespace:s,filterTerm:o,searchTerm:u,setSearchTerm:m,isTreeExpanded:p,treeToggleElement:g,headerInfo:f}){let y=function(){let[e,t]=(0,c.useState)(""),n=(0,c.useCallback)(()=>{t((eT(v.fV.hash??"")??"").replace("diff-",""))},[]);return(0,c.useEffect)(()=>(window.addEventListener("hashchange",n),n(),()=>{window.removeEventListener("hashchange",n)}),[n]),e}(),{data:b}=(0,h.ID)();void 0===b&&(b=h.aX);let k=b.lineSpacing,C=(0,h.Qn)(s),S=(0,d.B)(),j=(0,c.useCallback)(()=>N({}),[]),[I,N]=(0,c.useState)({}),F=(0,c.useRef)(t),{findInDiffWorkerPath:_}=(0,W.D)(),T=(0,c.useRef)(t),w=(0,c.useRef)(e>40),A=(0,c.useRef)(null),[E,D]=(0,c.useState)(C),P=(0,c.useRef)(0),K=(0,c.useRef)(e),[R,M]=(0,c.useState)(r),{focusedSearchResult:V,setFocusedSearchResult:B,searchResults:O,currentIndex:U,setCurrentIndex:$}=function(e,t,n,a){let[l,i]=(0,c.useState)(new Map),[r,s]=(0,c.useState)(void 0),[o,d]=(0,c.useState)(0),u=c.useRef();!u.current&&t&&(u.current=new eD.N(new eE.z(n,eP),200,e=>1!==e.query.length));let m=(0,c.useRef)(t);m.current=t;let p=(0,c.useRef)("");(0,c.useEffect)(()=>function(){u.current?.terminate()},[]);let g=(0,c.useRef)([]);return u.current&&e!==g.current&&(u.current.onResponse=e=>{e.query===m.current&&(i(e.matchingDiffs),p.current=m.current)},g.current=e),(0,c.useEffect)(()=>{if(!e||!u.current||!p.current||""===p.current){i(new Map),s(void 0);return}i(new Map),s(void 0),u.current.post({query:p.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,c.useEffect)(()=>{if(e&&u.current)if(""===t)i(new Map),s(void 0),d(0),p.current="";else{var n;if(!((n=t).length>0&&n.length<=1e3))return;let a=p.current.length>0&&t.startsWith(p.current);u.current.post({query:t,diffEntryInfo:e,currentDiffEntryData:a?l:void 0}),d(0)}},[t,a]),{focusedSearchResult:r,setFocusedSearchResult:s,searchResults:l,currentIndex:o,setCurrentIndex:d}}(F.current,u,_,I);function H(e){for(let t of F.current)t.collapsed=e;j()}(0,c.useEffect)(()=>{if(a&&a.size>0?F.current=T.current.filter(e=>!a.has((0,eb.QC)(e.path))):F.current=T.current,o&&(F.current=F.current.filter(e=>e.path.toLowerCase().includes(o.toLowerCase()))),K.current!==F.current.length||0===F.current.length){let e=F.current.length;!function(e,t=0){if(void 0===v.XC)return;let n=v.XC.getElementById("screenReaderAnnouncementDiv")??void 0;if(n||(n=function(){if(void 0===v.XC)return;let e=v.XC.createElement("div");return e.classList.add("sr-only","mt-n1"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),v.XC.body.appendChild(e),e}()),!n)return;let a=n.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{n&&(n.textContent=a)},t)}(0===e?"There are no files selected for viewing":`${e} file${1===e?"":"s"} remain${1===e?"s":""}`,150)}K.current=F.current.length,w.current=F.current.length>40,j()},[a?.size,o]),(0,c.useEffect)(()=>{F.current=t,T.current=t,w.current=e>40,j(),D(s),M(r)},[S.path]);let z=(0,ex.X)(),q=(0,x.VWf)({owner:S.repo.ownerLogin,repo:S.repo.name,sha1:S.commit.sha1,sha2:S.commit.sha2,oid:S.commit.oid}),G=function(e,t,n,a,l,i){let[r,s]=(0,c.useState)(eI),o=(0,c.useRef)([]),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!a||!l)return;let i=!1,r=async(e,t,n)=>{s(eI);let l=await (0,ej.lS)(`${a}&start_entry=${e}&bytes=${t}&lines=${n}`);if(!i)try{if(l.ok){let e=await l.json();e&&(e.loading=e.loadMore,o.current=o.current.concat(e.extraDiffEntries),e.extraDiffEntries=o.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,s(e),setTimeout(()=>r(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,s(e)))}else s(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}catch{s(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}};return r(n,e,t),function(){i=!0}},[e,t,l,n,a,i]),(0,c.useEffect)(()=>{o.current=[],d.current=n},[a,n,i]),r}(S.asyncDiffLoadInfo.byteCount,S.asyncDiffLoadInfo.lineShownCount,S.asyncDiffLoadInfo.startIndex,q,S.moreDiffsToLoad,s);(0,c.useEffect)(()=>{let e=t.concat(G.extraDiffEntries);a&&a.size>0?F.current=e.filter(e=>!a.has((0,eb.QC)(e.path))):F.current=e,o&&(F.current=F.current.filter(e=>e.path.toLowerCase().includes(o.toLowerCase()))),T.current=e,j()},[G.extraDiffEntries.length]);let Q=(0,c.useRef)(null),[X,Y]=(0,c.useState)(0);(0,eC.N)(()=>{Y(Q.current?.offsetTop??0)},[]);let J=(0,ev.XW)({count:p?0:F.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;if(!w.current)return 0;let a=(t=F.current[e],n=57,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===k?n+=20*t.diffLines.length:n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n));return 0===e&&(a-=16),a},[k]),overscan:3,scrollMargin:X,rangeExtractor(e){if(!w.current)return(0,eS.vp)(e);let t=eT(v.fV.hash.substring(1)),n=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),a=F.current.findIndex(e=>e.pathDigest===n),l=F.current.findIndex(e=>t?.endsWith(e.pathDigest));return a<0&&l<0?(0,eS.vp)(e):Array.from(new Set([...(0,eS.vp)(e),...[a,l].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,c.useEffect)(()=>{let e=y.includes("R"),t=y.includes("L"),n=t||e,a=n?t?y.split("L")[0]:y.split("R")[0]:y,l=il(a??y,F.current);if(-1===l){if(G.error&&null!==A){let e=A.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(w.current)J.scrollToIndex(l,{align:"center"}),requestAnimationFrame(()=>{if(n&&ii(Q,y));else{let e=Q.current?.querySelectorAll(`[aria-label="collapse file: ${F.current[l]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&ii(Q,y));else{let e=Q.current?.querySelectorAll(`[data-diff-anchor=diff-${a}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(v.cg?.scrollY??0)-57-60;v.cg?.scrollTo(0,t);let n=Q.current?.querySelectorAll(`[aria-label="collapse file: ${F.current[l]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[y,G]);let Z=(0,i.jsx)(e_,{currentPathDigestIndex:P,searchTerm:u,focusedSearchResult:V,currentIndex:U,setCurrentIndex:$,setFocusedSearchResult:B,setSearchTerm:m,searchResults:O,scrollDiffCellIntoView:e=>{let t=il(e?.pathDigest??"",F.current);-1!==t&&(J.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{!function(e,t){let n=v.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})}(e?.indexWithinDigest??0,e?.pathDigest??"")}))}});return(0,i.jsxs)("div",{"data-hpc":!0,ref:Q,children:[w.current&&(0,i.jsx)(eB,{}),(0,i.jsx)(l3,{treeToggleElement:g,headerInfo:f,searchBox:Z,ignoreWhitespace:E}),!w.current&&F.current.map((e,t)=>{let a,r;return O.has(e?.pathDigest??"")&&(a=O.get(e?.pathDigest??"")??[]),V&&e?.pathDigest===V?.pathDigest&&(r=V?.indexWithinDigest??-1),(0,i.jsx)("div",{style:{paddingTop:16*(0!==t),left:3,right:3},children:(0,i.jsx)(l1,{diffEntryData:F,diffMatches:a,focusedSearchResult:r,onOptionCollapseToggle:H,index:t,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:ek.l,repo:l,helpUrl:z.helpUrl,oid:R,ignoreWhitespace:E})},e.pathDigest)}),w.current&&(0,i.jsx)("div",{style:{height:J.getTotalSize(),width:"100%",position:"relative"},children:J.getVirtualItems().map(e=>{let t,a,r=F.current[e.index];return(O.has(r?.pathDigest??"")&&(t=O.get(r?.pathDigest??"")??[]),V&&r?.pathDigest===V?.pathDigest&&(a=V?.indexWithinDigest??-1),r)?(0,i.jsx)("div",{ref:J.measureElement,"data-index":e.index,style:{position:"absolute",paddingTop:16*(0!==e.index),left:3,right:3,transform:`translateY(${e.start-J.options.scrollMargin}px)`},children:(0,i.jsx)(l1,{diffMatches:t,focusedSearchResult:a,diffEntryData:F,index:e.index,contextLinePathURL:n,onOptionCollapseToggle:H,recalcTotalHeightOfVirtualWindow:j,headerStickyOffset:-(e.start-J.options.scrollMargin),helpUrl:z.helpUrl,repo:l,oid:R,ignoreWhitespace:E,virtualizerScrollTo:J.scrollToIndex})},r.pathDigest):null})}),S.moreDiffsToLoad&&(0,i.jsxs)(i.Fragment,{children:[G.loading&&(0,i.jsx)(l9,{}),G.error&&(0,i.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:A,children:(0,i.jsx)(L.A,{variant:"danger",tabIndex:0,children:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function il(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function ii(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{it.displayName||(it.displayName="Diffs")}catch{}try{ia.displayName||(ia.displayName="DiffsUnmemoized")}catch{}var ir=n(70170),is=n(56051),io=n(1946),id=n(94195);let ic="diff_file_tree",iu=(0,c.memo)(im);function im({contentId:e,diffs:t,onFileSelected:n,diffsHeader:a,unselectedFileExtensions:l,onFilterTextChange:r,onFileExtensionsChange:s}){let[o,d]=(0,c.useState)(""),{getCommentCountByPath:u}=(0,e$.B)(),m=(0,c.useRef)(null),p=(0,c.useRef)(null),g=(0,c.useRef)(null),f=(0,c.useMemo)(()=>(0,eb.s2)(t),[t]),h=t;l&&l.size>0&&(h=h.filter(e=>!l.has((0,eb.QC)(e.path))));let y=(o?h.filter(e=>e.path.toLowerCase().includes(o.toLowerCase())):h).map(e=>{let t=u(e.path);return{...e,totalCommentsCount:t??0}});return(0,i.jsxs)("div",{className:"d-flex flex-column gap-2",id:ic,tabIndex:-1,children:[(0,i.jsx)(S.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),n=document.getElementById(ic),a=!1;if(t?.contains(document.activeElement)&&(a=!0),a){let e=g.current||n;p.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=p.current||t;g.current=n?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,i.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,i.jsx)("div",{className:"d-md-none",ref:m,children:a}),(0,i.jsx)(ip,{filterText:o,onFilterTextChange:e=>{d(e),r(e)},fileExtensions:f,unselectedFileExtensions:l,onFileExtensionsChange:s}),(0,i.jsx)(io.oj,{diffs:y,onSelect:()=>{n((0,id.nn)(window.innerWidth)<=id.Gy.medium?"close_tree":void 0)},sortByDiffOrder:!1})]})}function ip({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:a,onFileExtensionsChange:l}){let r=(0,c.useRef)((0,ir.s)(e=>t(e),250));return(0,i.jsx)(is.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:a,onFilterTextChange:e=>r.current(e),onFilterChange:(e,t)=>{l(e,t.extension)}})}try{iu.displayName||(iu.displayName="FileTree")}catch{}try{im.displayName||(im.displayName="FileTreeUnmemoized")}catch{}try{ip.displayName||(ip.displayName="FileFilter")}catch{}var ig=n(21935);async function ih({repo:e,commitOid:t,untilCommentId:n}){let a=await (0,ej.Sr)((0,x.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:n}));if(a.ok)return await a.json();throw Error("Failed to fetch comment data")}var iy=n(8624),ib=n(71833);let ik={sm:id.Gy.small,md:id.Gy.medium,lg:id.Gy.large},ix={size:"medium",mobileBreakpoint:"md"},iC=(0,c.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function iv({children:e,searchTerm:t,setSearchTerm:n}){let a=(0,c.useRef)(""),[l,r]=(0,c.useState)(!1),s=(0,c.useCallback)(e=>{e&&""===t&&""!==a.current?n(a.current):e||""===t||(a.current=t,n("")),r(e)},[t,n]),o=(0,c.useMemo)(()=>({diffFindOpen:l,setDiffFindOpen:s}),[l,s]);return(0,i.jsx)(iC.Provider,{value:o,children:e})}try{iC.displayName||(iC.displayName="DiffFindOpenContext")}catch{}try{iv.displayName||(iv.displayName="DiffFindOpenProvider")}catch{}let iS={SplitPageLayout_Content:"Commit-module__SplitPageLayout_Content--uy_M4",HiddenPane:"Commit-module__HiddenPane--CH19B",Pane:"Commit-module__Pane--jjRPV",MobileExpanded:"Commit-module__MobileExpanded--TvGDJ",TreeExpanded:"Commit-module__TreeExpanded--mn5GU"},ij=(0,C.E7)(),iI="diff-content-parent";function iN(){(0,I.L)(!0);let e=(0,d.B)(),{splitPagePaneHidden:t,splitPageContentHidden:n,treeToggleElement:a,collapseTree:l,isMobileTreeExpanded:s,isTreeExpanded:u}=function(e,t,n,a){let l={...ix,...void 0},[r]=(0,j.I)(()=>!1,!0,[]),s=(0,c.useRef)(null),o=(0,c.useRef)(null),d=ik[l.mobileBreakpoint??"md"],[u,m]=(0,c.useState)(t),[p,g]=(0,c.useState)(!1),f=(0,c.useCallback)(()=>{(0,id.nn)(window.innerWidth)<=d?(g(!0),requestAnimationFrame(()=>o.current?.focus())):(m(!0),(0,ib.B)(!0,n),requestAnimationFrame(()=>s.current?.focus()))},[d,n]),h=(0,c.useCallback)(()=>{(0,id.nn)(window.innerWidth)<=d?(g(!1),requestAnimationFrame(()=>o.current?.focus())):(m(!1),(0,ib.B)(!1,n),requestAnimationFrame(()=>s.current?.focus()))},[d,n]),y=(0,c.useMemo)(()=>(0,i.jsx)(iy.L,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:s,onToggleExpanded:()=>{u?h():f()},className:`d-none d-${l.mobileBreakpoint}-flex position-relative`,size:l.size}),[u,e,l.mobileBreakpoint,l.size,h,f]),b=(0,c.useMemo)(()=>(0,i.jsx)(iy.L,{expanded:p,alignment:"left",ariaLabel:p?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:o,onToggleExpanded:()=>{p?h():f()},className:`d-${l.mobileBreakpoint}-none position-relative`,size:l.size}),[p,e,l.mobileBreakpoint,l.size,h,f]);return{splitPagePaneHidden:r&&!t,splitPageContentHidden:{narrow:p,regular:!1},isTreeExpanded:u,isMobileTreeExpanded:p,expandTree:f,collapseTree:h,treeToggleElement:(0,c.useMemo)(()=>(0,i.jsxs)(i.Fragment,{children:[b,y]}),[b,y]),treeToggleRef:s}}(ic,e.fileTreeExpanded,e.currentUser),[m,p]=(0,c.useState)(()=>new Set),[g]=(0,j.I)(()=>!1,!0,[]),[C,L]=(0,c.useState)(""),[T,w]=(0,c.useState)(""),[A,E]=(0,c.useState)(!1),K=(0,c.useCallback)(e=>{"close_tree"===e&&l()},[l]),R=function(e){let t=(0,r.t)(),[n,a]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1;return(async()=>{a({branches:[],tags:[],loading:!0});let l=await (0,ej.lS)((0,x.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(l.ok){let e=await l.json();e.loading=!1,e&&a({...e,loading:!1})}else a({branches:[],tags:[],loading:!1})}catch{a({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),M=(0,x.t0c)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),{mutate:V}=(0,f.U)({onSuccess:()=>{},onError:()=>{}}),B=(0,h.C0)(e.splitViewPreference),O=(0,c.useMemo)(()=>({splitPreference:B,lineSpacing:e.diffLineSpacingPreference,commentsPreference:e.commentsPreference}),[e.commentsPreference,e.diffLineSpacingPreference,B]),{data:U}=(0,h.ID)(O),$=(0,c.useCallback)(()=>{V({commentsPreference:U?.commentsPreference===y.sI.Visible?y.sI.Collapsed:y.sI.Visible})},[U?.commentsPreference,V]),H=(0,c.useCallback)((e,t)=>{let n=new Set(m);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),p(n)},[m]);(0,c.useEffect)(()=>{p(new Set)},[e.commit]),(0,c.useEffect)(()=>{(v.cg?.scrollY??0)>0&&v.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:z,state:q}=function(e,t){let[n,a]=(0,c.useState)(void 0),[l,i]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{let n;a(void 0),i("loading");let l=v.cg?.location.hash;l&&/^#commitcomment-\d+$/.test(l)&&(n=l.replace("#commitcomment-","")),(async()=>{try{let l=await ih({repo:e,commitOid:t,untilCommentId:n});a(l),i("loaded")}catch{i("error")}})()},[t,e]),{deferredCommentData:n,state:l}}(e.repo,e.commit.oid),W=z?.threadMarkers,G=z?.inlineComments,[Q,X]=(0,c.useState)(void 0);if((0,c.useEffect)(()=>{if("loaded"===q){let e=v.cg?.location.hash.slice(1);if(e&&z){if(/^commitcomment-\d+$/.test(e))z?.discussionComments.comments.find(t=>t.urlFragment===e)&&v.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of z.threadMarkers)if(e.threads){for(let n of e.threads)if(n.commentsData.comments){for(let e of n.commentsData.comments)if(e&&e.id&&e.id.toString()===t)return void X(n.id)}}}}}},[z,q]),e.unavailableReason)return(0,i.jsx)(eh,{commit:e.commit,commitInfo:R,unavailableReason:e.unavailableReason});let[Y,J]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,i.jsx)(_.RelayEnvironmentProvider,{environment:ij,children:(0,i.jsxs)(e$.r,{initialInlineComments:G,initialFiles:W,initialExpandedThreadId:Q,children:[(0,i.jsx)(S.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,x.$Qz)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});(0,k.kd)(t)},"commit-diff-view:collapse-expand-comments":$}}),(0,i.jsxs)(N.O7,{children:[(0,i.jsxs)(N.O7.Header,{children:[(0,i.jsx)(D,{commitBranchState:R,oid:e.commit.oid,repo:e.repo}),(0,i.jsx)(em,{commit:e.commit,commitInfo:R,repo:e.repo})]}),(0,i.jsx)(N.O7.Pane,{position:"start",sticky:!0,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,className:(0,F.$)(t?iS.HiddenPane:iS.Pane,s&&iS.MobileExpanded,u&&iS.TreeExpanded),children:(0,i.jsx)(o.t,{fallback:(0,i.jsx)("span",{children:"File tree failed to load."}),children:(0,i.jsx)(iu,{contentId:iI,diffs:J,onFileSelected:K,unselectedFileExtensions:m,diffsHeader:(0,i.jsx)(l3,{treeToggleElement:a,headerInfo:e.headerInfo}),onFileExtensionsChange:H,onFilterTextChange:L})})}),(0,i.jsx)(N.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",className:iS.SplitPageLayout_Content,children:(0,i.jsxs)("div",{id:iI,tabIndex:-1,children:[g?(0,i.jsx)(ie,{diffEntryData:Y,contextLinePathURL:M,repo:e.repo,oid:e.commit.oid,treeToggleElement:a,headerInfo:e.headerInfo,totalFileCount:e.diffEntryData?.length??0}):(0,i.jsx)(iv,{searchTerm:T,setSearchTerm:w,children:(0,i.jsx)(it,{totalFileCount:e.diffEntryData?.length??0,treeToggleElement:a,headerInfo:e.headerInfo,isTreeExpanded:s,searchTerm:T,setSearchTerm:w,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:Y,contextLinePathURL:M,filterTerm:C,unselectedFileExtensions:m,repo:e.repo,oid:e.commit.oid})}),(0,i.jsx)(ig.c,{comments:z?.discussionComments?.comments,commentCount:z?.discussionComments?.count,canLoadMore:z?.discussionComments?.canLoadMore,subscribed:z?.subscribed,providerState:q,repo:e.repo,commitOid:e.commit.oid,children:(0,i.jsx)(P.$,{commit:e.commit,commentInfo:e.commentInfo,repoOwnerGlobalRelayId:e.repoOwnerGlobalRelayId})}),(0,i.jsx)(b.nq,{})]})})]})]})})}try{iN.displayName||(iN.displayName="Commit")}catch{}var iF=n(69599);function i_({url:e}){return(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,i.jsxs)($.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{i_.displayName||(i_.displayName="CommitHelpMessage")}catch{}let iL=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function iT({filters:e,children:t}){return(0,i.jsx)(iL.Provider,{value:e,children:t})}function iw(){return(0,c.useContext)(iL)}try{iL.displayName||(iL.displayName="FilterContext")}catch{}try{iT.displayName||(iT.displayName="FilterProvider")}catch{}var iA=n(34745),iE=n(4095);let iD={TimelineRow:"FileHistory-module__TimelineRow--IgQLc"};var iP=n(89830);function iK(){let e=iw();return e.newPath&&e.originalBranch}function iR(){let e=(0,r.t)(),t=iw();return iK()?(0,i.jsx)(iP.s,{className:iD.TimelineRow,children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(iP.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,i.jsx)(ei.N,{to:(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function iM(){let e=(0,iE.ej)();return e?.hasRenameCommits?(0,i.jsx)(iP.s,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(iP.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,i.jsx)(ei.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function iV(){let e=(0,iE.ej)();return e?.hasRenameCommits?null:(0,i.jsx)(iP.s,{clipTimeline:"bottom",children:(0,i.jsx)(iP.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function iB(){let e=iw(),t=(0,iE.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(iP.s,{leadingVisual:(0,i.jsx)(tj.A,{size:"small"})}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM,{}),(0,i.jsx)(iV,{})]})]})}try{iR.displayName||(iR.displayName="RenamedToHistory")}catch{}try{iM.displayName||(iM.displayName="RenamedFromHistory")}catch{}try{iV.displayName||(iV.displayName="EndOfFileHistory")}catch{}try{iB.displayName||(iB.displayName="EndOfFile")}catch{}function iO({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let a=iw(),l=(0,r.t)(),s=(0,G.wu)(t);return(0,i.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,i.jsx)(iA.f,{leadingContent:(0,i.jsx)(iR,{}),commitGroups:e,trailingContent:(0,i.jsx)(iB,{}),repository:l,deferredCommitData:s,shouldClipTimeline:function(){let e=iK(),t=iw();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:a.currentBlobPath,softNavToCommit:n})]})}try{iO.displayName||(iO.displayName="CommitList")}catch{}var iU=n(78328),i$=n(4817),iH=n(54589),iz=n(62935);let iq={Box:"CopilotCommitRecapPanel-module__Box--FD5ej",Box_1:"CopilotCommitRecapPanel-module__Box_1--nhXX2",Box_2:"CopilotCommitRecapPanel-module__Box_2--xtWb6",Octicon:"CopilotCommitRecapPanel-module__Octicon--mL7Wb",Heading:"CopilotCommitRecapPanel-module__Heading--xNRxb",Box_3:"CopilotCommitRecapPanel-module__Box_3--j9Ce0",Box_4:"CopilotCommitRecapPanel-module__Box_4--G1Y8S",Text:"CopilotCommitRecapPanel-module__Text--M5_1P",Box_5:"CopilotCommitRecapPanel-module__Box_5--iXw2r",Box_6:"CopilotCommitRecapPanel-module__Box_6--_r4Ho",Box_7:"CopilotCommitRecapPanel-module__Box_7--C0btw",Text_1:"CopilotCommitRecapPanel-module__Text_1--SYCkI",Box_8:"CopilotCommitRecapPanel-module__Box_8--ETSez",Text_2:"CopilotCommitRecapPanel-module__Text_2--B03jL",fadeInAuthor:"CopilotCommitRecapPanel-module__fadeInAuthor--sP6yf",avatarLink:"CopilotCommitRecapPanel-module__avatarLink--o9oMm",headerContainer:"CopilotCommitRecapPanel-module__headerContainer--DVfrh",authorNameLink:"CopilotCommitRecapPanel-module__authorNameLink--iNSl5",authorNameText:"CopilotCommitRecapPanel-module__authorNameText--GppXf",prLink:"CopilotCommitRecapPanel-module__prLink--zm2QK",commitMetadataContainer:"CopilotCommitRecapPanel-module__commitMetadataContainer--zl5sU",commitCountLink:"CopilotCommitRecapPanel-module__commitCountLink--OK0QX",commitCountText:"CopilotCommitRecapPanel-module__commitCountText--Ym2YE",Footer:"CopilotCommitRecapPanel-module__Footer--MlgKD",FeedbackButtons:"CopilotCommitRecapPanel-module__FeedbackButtons--fU6am",isHidden:"CopilotCommitRecapPanel-module__isHidden--XMEtq",relativeTime:"CopilotCommitRecapPanel-module__relativeTime--dlXGT"},iW=({size:e})=>(0,i.jsxs)(z.A,{className:"ml-2",variant:(e=>{switch(e.toUpperCase()){case"XS":case"S":return"success";case"M":return"attention";case"L":return"severe";case"XL":return"danger";default:return"secondary"}})(e),size:"small",children:["size: ",e]}),iG=({initials:e})=>(0,i.jsx)("div",{className:iq.Box,children:e.toUpperCase()}),iQ=({login:e,avatarUrl:t,name:n,repoOwner:a,repoName:l,refName:r})=>{let s=(e=>{let t=e.trim();if(!t)return"??";let n=t.split(/\s+/).filter(e=>e.length>0);return n.length>=2?(n[0]?.charAt(0)||"")+(n[n.length-1]?.charAt(0)||""):t.charAt(0)+(t.charAt(1)||"")})(e||n);if(t&&e){let n=`/${encodeURIComponent(a)}/${encodeURIComponent(l)}/commits${r?`/${encodeURIComponent(r)}`:""}?author=${encodeURIComponent(e)}`;return(0,i.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer nofollow",className:iq.avatarLink,children:(0,i.jsx)(nI.r,{src:t,size:24,alt:`@${e}`})})}return(0,i.jsx)(iG,{initials:s})},iX=({author:e,repoOwner:t,repoName:n,refName:a,className:l})=>{if(e.login){let r=`/${encodeURIComponent(t)}/${encodeURIComponent(n)}/commits${a?`/${encodeURIComponent(a)}`:""}?author=${encodeURIComponent(e.login)}`;return(0,i.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer nofollow",className:`${l} ${iq.authorNameLink}`,children:e.name})}return(0,i.jsx)("span",{className:`${l} ${iq.authorNameText}`,children:e.name})},iY=({pr:e,repoOwner:t,repoName:n})=>{let a=`/${encodeURIComponent(t)}/${encodeURIComponent(n)}/pull/${encodeURIComponent(e.number)}`;return(0,i.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:iq.prLink,children:[(0,i.jsx)("span",{style:{color:"merged"===e.state?"var(--fgColor-done)":"var(--fgColor-open)"},children:(0,i.jsx)(u.GitPullRequestIcon,{size:16})}),(0,i.jsxs)("span",{children:["#",e.number]})]})},iJ=({pr:e,commits:t,size:n,repoOwner:a,repoName:l})=>{let r=(()=>{if(1===t.length&&t[0])return(0,x.$Qz)({owner:a,repo:l,commitish:t[0].oid});if(t.length>=2){let e=t.filter(e=>e.author?.date&&""!==e.author.date.trim());if(e.length>=2){let t=[...e].sort((e,t)=>new Date(e.author.date).getTime()-new Date(t.author.date).getTime());if(t.length>=2){let e=t[0],n=t[t.length-1];if(e&&n)return`/${encodeURIComponent(a)}/${encodeURIComponent(l)}/compare/${e.oid}^...${n.oid}`}}}return null})(),s=t.length;return(0,i.jsxs)("div",{className:iq.commitMetadataContainer,children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[r?(0,i.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:iq.commitCountLink,children:[(0,i.jsx)(u.GitCommitIcon,{size:16}),1===s?"1 commit":`${s} commits`]}):(0,i.jsxs)("span",{className:iq.commitCountText,children:[(0,i.jsx)(u.GitCommitIcon,{size:16}),1===s?"1 commit":`${s} commits`]}),n&&(0,i.jsx)(iW,{size:n})]}),e&&(0,i.jsx)(iY,{pr:e,repoOwner:a,repoName:l})]})},iZ=[];function i0({isVisible:e,isLoading:t,analysis:n,repoOwner:a,repoName:l,refName:r,onClose:s,commitGroups:o=iZ}){let d=(0,c.useRef)(null),m=(0,c.useRef)(null),{sendClickAnalyticsEvent:p}=(0,nB.S)(),[g,f]=(0,c.useState)(!1),h=n.analysisData,y=n.errorMessage,b=(0,c.useMemo)(()=>{let e=new Map;for(let t of h)e.set(t.oid,{summary:t.summary,size:t.size});return e},[h]),k=(0,c.useMemo)(()=>o&&0!==o.length?o.map((e,t)=>{let n=new Map;for(let t of e.commits)if(t.author){let e=t.author.login||t.author.name;n.has(e)||n.set(e,{login:t.author.login,avatarUrl:t.author.avatar_url,name:t.author.name})}return{groupIndex:t,authors:Array.from(n.values()),commitCount:e.commits.length,commits:e.commits,pr:e.pr}}):[],[o]),x=!!y,C=(0,c.useCallback)(e=>{p({category:"copilot.commit-recap",action:`feedback-${e}`,refName:r||""}),f(!0)},[p,r]),v=(0,c.useCallback)(()=>{p({category:"copilot.commit-recap",action:"panel-closed",refName:r||""}),s?.()},[s,p,r]);if((0,c.useEffect)(()=>{let e=m.current;if(!e)return;let t=e=>{let t=e.target.closest("a");t&&t.href&&p({category:"copilot.commit-recap",action:"link-clicked",refName:r||"",href:t.href})};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}},[e,r,h,p]),!e)return null;let S=0===h.length&&!x;return(0,i.jsxs)("div",{className:iq.Box_1,ref:m,children:[(0,i.jsxs)("div",{className:iq.Box_2,children:[(0,i.jsxs)("div",{className:iq.headerContainer,children:[(0,i.jsx)(T.A,{icon:u.CopilotIcon,className:iq.Octicon}),(0,i.jsx)(aD.A,{as:"h3",className:iq.Heading,children:"Commit Recap"}),(0,i.jsx)(iH.X,{className:"pl-2"})]}),s&&(0,i.jsx)(H.K,{"aria-label":"Close commit recap",icon:u.XIcon,size:"small",variant:"invisible",onClick:v})]}),S&&(0,i.jsxs)("div",{className:iq.Box_3,children:[(0,i.jsx)("div",{className:iq.Box_4,children:(0,i.jsx)(iU.A,{})}),(0,i.jsx)("span",{className:iq.Text,children:"Analyzing recent commits..."})]}),x&&(0,i.jsx)(L.A,{variant:"danger",className:iq.Box_4,children:y}),h.length>0&&!x&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:d,className:`${iq.Box_5} ${iq.fadeInAuthor}`,children:k.map((e,n)=>{let s=e.commits[0]?.oid,o=s?b.get(s):void 0,d=e.authors,c=e.commits.reduce((e,t)=>{let n=new Date(t.author?.date||0);return n>e?n:e},new Date(0));return o?(0,i.jsxs)("div",{className:iq.Box_6,children:[d.length>0&&(0,i.jsxs)("div",{className:iq.Box_7,children:[d.slice(0,3).map((e,s)=>(0,i.jsx)("div",{className:`${iq.fadeInAuthor} ${t&&n===k.length-1?iq.isHidden:""}`,style:{animationDelay:`${200*n+100*s}ms`},children:(0,i.jsx)(iQ,{login:e.login,avatarUrl:e.avatarUrl,name:e.name,repoOwner:a,repoName:l,refName:r})},e.login||e.name)),d.length>3&&(0,i.jsxs)("span",{className:iq.Text_1,children:["+",d.length-3]})]}),(0,i.jsxs)("div",{className:`${iq.Box_8} ${iq.fadeInAuthor}`,style:{animationDelay:`${200*n}ms`},children:[d.length>0&&(0,i.jsxs)("span",{children:[d.map((e,t)=>(0,i.jsxs)("span",{children:[(0,i.jsx)(iX,{author:e,repoOwner:a,repoName:l,refName:r,className:iq.fadeInAuthor}),t<d.length-1&&", "]},e.login||e.name)),(0,i.jsx)(iz.A,{className:`${iq.fadeInAuthor} ${iq.relativeTime}`,date:c})]}),(0,i.jsx)(i$.To,{markdown:o.summary,isStreaming:!1,openLinksInCurrentTab:!1})]}),e&&(0,i.jsx)("div",{className:`${iq.fadeInAuthor} ${t&&n===k.length-1?iq.isHidden:""}`,style:{animationDelay:`${200*n+300}ms`},children:(0,i.jsx)(iJ,{pr:e.pr,commits:e.commits,size:e.commits.length>0&&e.commits[0]?.oid?b.get(e.commits[0].oid)?.size:void 0,repoOwner:a,repoName:l})})]},`commitGroup-${e.groupIndex}`):null})})}),(0,i.jsxs)("div",{className:iq.Footer,children:[(0,i.jsx)("span",{className:iq.Text_2,children:"AI-generated content may be inaccurate. Please verify important information."}),g?(0,i.jsxs)("span",{className:iq.Text_2,children:["Thank you. This feature is under development and ",(0,i.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeKJgUAL0ENwW13Qy-QuiihzSfXfs81vzP0Jc5FZX-CCNDJnQ/viewform",children:"detailed feedback"})," is appreciated!"]}):(0,i.jsxs)("div",{className:iq.FeedbackButtons,children:[(0,i.jsx)(H.K,{"aria-label":"Good summary",icon:u.ThumbsupIcon,size:"small",variant:"invisible",onClick:()=>C("positive")}),(0,i.jsx)(H.K,{"aria-label":"Bad summary",icon:u.ThumbsdownIcon,size:"small",variant:"invisible",onClick:()=>C("negative")})]})]})]})}try{iW.displayName||(iW.displayName="SizeBadge")}catch{}try{iG.displayName||(iG.displayName="Monogram")}catch{}try{iQ.displayName||(iQ.displayName="AuthorAvatar")}catch{}try{iX.displayName||(iX.displayName="AuthorNameLink")}catch{}try{iY.displayName||(iY.displayName="RichPullRequestLink")}catch{}try{iJ.displayName||(iJ.displayName="CommitGroupMetadata")}catch{}try{i0.displayName||(i0.displayName="CopilotCommitRecapPanel")}catch{}var i1=n(66990),i2=n(96459),i4=n(40058),i7=n(29295),i3=n(84929),i8=n(96912),i5=n(5225);async function i9(e){let t=await (0,ej.lS)(e);return t.ok?await t.json():void 0}let i6=new Map,re=(0,i5.A)(i9,{cache:i6});function rt(e,t){let n=new URL(v.fV.origin+v.fV.pathname+v.fV.search,v.fV.origin),a=n.searchParams;for(let e of t)a.has(e)&&a.delete(e);for(let[t,n]of Object.entries(e))a.set(t,n.toString());return n.pathname+n.search}var rn=n(6907);let ra={calendarIcon:"ListHeader-module__calendarIcon--ubuuD",breadcrumbItem:"ListHeader-module__breadcrumbItem--UVN4V"},rl=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,83463)).then(e=>({default:e.DatePicker}))),ri=()=>(0,i.jsx)(T.A,{icon:u.CalendarIcon,className:(0,F.$)("fgColor-muted",ra.calendarIcon)});function rr({repo:e,refInfo:t,path:n,author:a,contributorsUrl:l,since:s,until:o,showCopilotButton:d=!1,showCopilotPopover:m=!1,onCopilotRecap:p,isLoadingCopilotRecap:g=!1}){let f=t.name;f===t.currentOid&&(f=(0,Q.F)(t.currentOid));let h=(0,i2.Z)(),y=function(e){let t=(0,r.t)(),[n,a]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{a({users:[],error:!1,loading:!0});let n=await re(e);if(t)return;let l=[],i=!1;try{n?l=n.authors:i=!0}catch{i=!0}a({users:l,error:i,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(l),[b,k]=(0,c.useState)(m);c.useEffect(()=>{k(m)},[m]);let C=(0,c.useCallback)(async()=>{k(!1),await (0,ej.DI)("/settings/dismiss-notice/copilot_commit_recap_new_user_popover",{method:"POST"})},[]),v=c.useMemo(()=>{let e=(0,i3.H)(s??""),t=(0,i3.H)(o??"");return(0,i8.f)(e)&&(0,i8.f)(t)?{from:e,to:t}:null},[s,o]),S=n?.split("/");return(0,i.jsxs)(K.B,{direction:"horizontal",gap:"condensed",justify:"space-between",className:"mb-3",children:[n&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,i.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,i.jsxs)(nU.BI,{className:"ml-1",children:[(0,i.jsx)(nU.BI.Item,{href:(0,x.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),S.map((n,a,l)=>{let r=(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:l.slice(0,a+1).join("/")}),s=a===l.length-1;return(0,i.jsx)(nU.BI.Item,{sx:{...s?{fontWeight:"bold"}:{}},href:r,selected:s,className:ra.breadcrumbItem,children:n},r)})]}),(0,i.jsxs)("div",{className:"no-wrap",children:[(0,i.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,i.jsx)(ee.A,{href:(0,x.IO9)({repo:e,commitish:t.name,action:"tree"}),children:f})]})]})}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,i.jsx)(i1.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[d&&(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(U.Q,{variant:"default",leadingVisual:u.CopilotIcon,disabled:g,onClick:p,children:g?"Analyzing...":"Commit Recap"}),b&&(0,i.jsx)(i7.A,{relative:!1,open:!0,caret:"top",className:"mt-2",style:{left:"50%",transform:"translateX(-50%)"},children:(0,i.jsxs)(i7.A.Content,{overflow:"visible",className:"p-3",children:[(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)("strong",{children:"Introducing the Commit Recap"})}),(0,i.jsx)("div",{className:"mb-3 text-small",children:"Groups together commits to cut through noise with summarized changes and linked PRs."}),(0,i.jsx)("div",{className:"d-flex gap-2",children:(0,i.jsx)(U.Q,{size:"small",onClick:C,children:"OK, got it"})})]})})]}),(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,i.jsx)(i4.T,{defaultText:"All users",width:"medium",usersState:y,showTypedInUser:!0,currentUser:a??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==a?.login&&h(rt({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,i.jsx)("div",{className:"px-2 py-3 border-top border-color-border-default",children:(0,i.jsx)(U.Q,{variant:"link",as:"a",href:rt({},["author"]),block:!0,children:"View commits for all users"})})}),(0,i.jsxs)(c.Suspense,{fallback:(0,i.jsx)(U.Q,{leadingVisual:ri,trailingVisual:u.TriangleDownIcon,children:"All time"}),children:[(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,i.jsx)(rl,{variant:"range",value:v,maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e)return void h(rt({},["since","until"]));let t=function(e){if(e)return{startDate:(0,rn.x)(e.from,{representation:"date"}),endDate:(0,rn.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:a}=t;h(rt({since:n,until:a},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,i.jsx)(U.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:ri,trailingVisual:u.TriangleDownIcon,children:e})})]})]})]})}try{rl.displayName||(rl.displayName="DatePicker")}catch{}try{ri.displayName||(ri.displayName="StyledCalendarIcon")}catch{}try{rr.displayName||(rr.displayName="ListHeader")}catch{}function rs({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,a=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};if(!t&&!n)return null;let{sx:l,...r}=a(!t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aD.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,i.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsxs)(as.A,{children:[(0,i.jsx)(nU.$n,{as:ei.N,to:ro(e,!1),className:"fgColor-accent text-normal",...r,sx:l,tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,i.jsx)(T.A,{icon:u.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,i.jsx)(nU.$n,{as:ei.N,to:ro(e,!0),className:"fgColor-accent text-normal",...a(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,i.jsx)(T.A,{icon:u.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]})}function ro(e,t){return rt(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{rs.displayName||(rs.displayName="Pagination")}catch{}var rd=n(96628);let rc={LayoutHeader:"Layout-module__LayoutHeader--pSMxQ"};function ru({children:e,title:t}){return(0,i.jsxs)(rd.M,{rowGap:"none",children:[(0,i.jsx)(rd.M.Header,{divider:"line",className:rc.LayoutHeader,children:(0,i.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,i.jsx)(aD.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,i.jsx)(rd.M.Content,{as:"div",children:(0,i.jsx)("div",{children:e})})]})}try{ru.displayName||(ru.displayName="Layout")}catch{}var rm=n(21067),rp=n(65411),rg=n(25641),rf=n(53419),rh=n(97286);let ry="Failed to generate commit recap";function rb(e,t,n,a,l){let i=a?` at path ${a}`:"";return`Below is a JSON array of metadata for a series of commits in the repository ${e}/${t}${i} on branch ${n}.

${JSON.stringify(l,null,2)}

Each entry in the array represents metadata for a group of commits. These groups represent logical units of work, such as those merged together from a pull request or by the same author in a short timeframe.

You will provide an analysis of each commit group, writing a brief summary and scoring its size in terms of the file.

#### oid

This is the oid value of the first commit in the commit group, used as an identifier to ensure proper ordering.

#### summary

- These are terse, succinct paragraphs of 1-2 sentences, summarizing the work represented by the commit group.
- Focus on the content of the included commit diffEntries as a source of truth.
- Prefer a past-tense imperative "changelog entry" style, in simple, even "telegraphic" terms. Start the first sentence with a verb.
- Avoid directly referencing the author or the pull request that contributed the change.
- Avoid using the file as an object in the sentence, it's self-evident that the changes are being made to the file.
- Consider both the specific structure of the changes (functions/templates/config values/etc) and the general impact on the nature and purpose of the file.
- Descriptive context like the explicit purpose/intent of a change (from the commit message, pull request title, or pull request body) of the change may be used.
- If that context includes links (such as to a GitHub issue) that are NOT the author or pull request, you may include them in markdown format.
- Obvious or implicit intent ("simplify the codebase", "improve maintainability", "resolve syntax error") should not be mentioned.
- Good examples of summaries:
  - "Extracted most of the module to another file as part of Project Tailspin, moving the encoding helpers and deleting some unused functions."
  - "Updated config values for the \`GreatApp\` integration to increase max instances and resolve [incident #49](https://github.com/foo/bar/issues/123).
  - "Removed unused function \`functionName\`."
  - "Fixed typo in a variable name."
- Bad examples of summaries:
  - "Deleted functions \`func1\`, \`func2\`, \`func3\` and \`func4\` from the file, improving the code for readability".
  - "This commit by @monalisa in [pull request #49](https://github.com/foo/bar/pulls/49) adds a new feature to the application, improving the user experience."

#### size
- This is a "t-shirt size" subjectively scoring both the scope and impact of the changes in the commit group.
- Sizes include XS, S, M, L, XL.
- This should be judged entirely from the commit diffEntries and the nature and purpose of the file.
- The cognitive complexity of the changes is more important than the number of lines changed. "Added" is simpler than "updated".
- Examples of XS changes:
  - cleanly deleting a large number of unused functions
  - renaming a variable throughout a file via find-and-replace
  - a simple typo fix
- Examples of S changes:
  - created the file, which is simple and contains a couple helper functions imported elsewhere
  - flipping a couple configuration values
  - adding a new function
  - removing a section of markup to get rid of some HTML content
- Examples of M changes:
  - adding couple new functions that supply a new data field in an existing function
  - updating how one complex function works without changing its interface
- Example of L changes:
  - broke one complex function into several simpler ones, but also changed the initial arguments provided from elsewhere
  - created the file, which contains several API handlers with callbacks, imported dependecies, and dynamic templating
- Example of XL changes:
  - removed one of the two sections of configuraiton encapsulated by this file
  - complete overhaul of a class, fundamentally changing its interface and internal logic

Return your analysis as a JSON array of objects each containing these three fields, corresponding to the order of the provided commit groups:

[
  {
    "oid": "commit_oid_1",
    "summary": "Brief summary of the changes",
    "size": "S"
  },
  {
    "oid": "commit_oid_2",
    "summary": "Brief summary of the changes",
    "size": "M"
  }
]
`}function rk(e){return Math.ceil(e.length/3)}function rx(e,t){let{refName:n,blobPath:a,...l}=t;(0,rf.BI)(`copilot.commit-recap.${e}`,{refName:n,blobPath:a||null,...l})}async function rC(e,t,n,a){let l=a.currentBlobPath||"",i=new URLSearchParams;i.append("name",n),a.since&&i.append("since",a.since),a.until&&i.append("until",a.until),a.author&&i.append("author",a.author.login);let r=l?`/${e}/${t}/commit_recap/${encodeURIComponent(l)}?${i}`:`/${e}/${t}/commit_recap.json?${i}`;try{let e=await (0,ej.lS)(r,{headers:{Accept:"application/json"}});if(!e.ok)throw rx("failed",{refName:n,blobPath:l,reason:"commit_groups_fetch_failed",statusCode:e.status}),Error(`Failed to fetch commit groups: ${e.status}`);let t=await e.json(),i=t.map(e=>e.type).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});return rx("commit-groups-returned",{refName:n,blobPath:l,totalGroups:t.length,groupTypeCounts:i,hasAuthorFilter:!!a.author,hasDateFilters:!!(a.since||a.until)}),t}catch(e){throw rx("failed",{refName:n,blobPath:l,reason:"commit_groups_fetch_error",errorMessage:e instanceof Error?e.message:String(e)}),e}}async function rv(e,t,n,a){let l=new URLSearchParams;l.append("name",n);let i=a?`/${e}/${t}/commit_recap_check/${encodeURIComponent(a)}?${l}`:`/${e}/${t}/commit_recap_check.json?${l}`;try{let e=await (0,ej.lS)(i,{headers:{Accept:"application/json"}});if(!e.ok)throw Error(`Failed to check path: ${e.status}`);return await e.json()}catch(e){throw e}}async function rS(e,t,n,a){try{let l=a.currentBlobPath||"",i="pull_request"===n.type&&n.commits.length>0?[n.commits[0]?.oid].filter(Boolean):n.commits.map(e=>e.oid),r=new URLSearchParams;r.append("commit_oids",i.join(","));let s=l?`/${e}/${t}/commit_recap_diffs/${encodeURIComponent(l)}?${r}`:`/${e}/${t}/commit_recap_diffs.json?${r}`,o=await (0,ej.lS)(s,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(o.ok){let e=await o.json();return{...n,diffEntries:e.diff_entries||[]}}return{...n,diffEntries:[]}}catch{return{...n,diffEntries:[]}}}async function rj(e,t,n,a,l,i,r){let s=rb(a,l,i,n,e),o=function(e){let t=e.map(e=>e.type).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{}),n=new Set,a=new Set;for(let t of e){for(let e of t.commits)e.author?.login&&n.add(e.author.login);t.pr?.number&&a.add(t.pr.number)}return{groupTypeCounts:t,authorsInBatch:n,pullRequestsInBatch:a,hasDiffData:e.some(e=>e.diffEntries&&e.diffEntries.length>0)}}(e);rx("capi-request-sent",{refName:i,blobPath:n,batchSize:e.length,tokenCount:rk(s),groupTypeCounts:o.groupTypeCounts,uniqueAuthorsCount:o.authorsInBatch.size,uniquePullRequestsCount:o.pullRequestsInBatch.size,hasDiffData:o.hasDiffData});try{let a=await (0,rg.p)({basePath:(0,rm._$)().copilotApiOverrideUrl||"https://api.githubcopilot.com",body:{messages:[{role:"user",content:s}],model:"gpt-4o-mini",stream:!1,responseFormat:{type:"json_schema",jsonSchema:{name:"CommitGroupAnalysisList",description:"Array of commit group analyses with summaries and size assessments",strict:!0,schema:{type:"array",items:{type:"object",additionalProperties:!1,properties:{oid:{type:"string",description:"The oid value of the first commit in the commit group, used as an identifier to ensure proper ordering."},summary:{type:"string",description:"A brief summary of the work represented by the commit group."},size:{type:"string",enum:["XS","S","M","L","XL"],description:"A t-shirt size scoring both the scope and impact of the changes in the commit group."}},required:["oid","summary","size"]}}}},temperature:.3},path:"/chat/completions",method:"POST",streamingResponse:!1,authToken:t,integrationId:"copilot-directory"});if(a.ok){let t,l=await a.json(),s=l.choices?.[0]?.message?.content;if(!s)throw Error("No analysis content received from Copilot API");if("object"==typeof s)t=s;else try{let e=s;e.startsWith(`\`\`\`json
`)&&e.endsWith(`
\`\`\``)?e=e.slice(8,-4):e.startsWith(`\`\`\`
`)&&e.endsWith(`
\`\`\``)&&(e=e.slice(4,-4)),t=JSON.parse(e)}catch{throw Error("Invalid analysis response format")}let d=new Map(e.filter(e=>e.commits.length>0).map((e,t)=>[e.commits[0]?.oid,t])),c=t?.sort((e,t)=>{let n=d.get(e.oid)??Number.MAX_SAFE_INTEGER,a=d.get(t.oid)??Number.MAX_SAFE_INTEGER;return n-a}),u=c.map(e=>(console.log(`Commit group ${e.oid}: Size ${e.size}`),e.summary)).join(`

`);r(e=>[...e,...c]),rx("capi-response-received",{refName:i,blobPath:n,batchSize:e.length,responseLength:u.length,linkedAuthorsPercentage:o.authorsInBatch.size>0?function(e,t){let n=0;for(let a of Array.from(t))(e.includes(`@${a}`)||e.includes(a))&&n++;return n}(u,o.authorsInBatch)/o.authorsInBatch.size:0,linkedPullRequestsPercentage:o.pullRequestsInBatch.size>0?function(e,t){let n=0;for(let a of Array.from(t))(e.includes(`#${a}`)||e.includes(`[#${a}]`))&&n++;return n}(u,o.pullRequestsInBatch)/o.pullRequestsInBatch.size:0})}else throw rx("failed",{refName:i,blobPath:n,reason:"capi_response_not_ok",statusCode:a.status}),Error(ry)}catch(e){throw rx("failed",{refName:i,blobPath:n,reason:"capi_request_failed",errorMessage:e instanceof Error?e.message:String(e)}),e}}var rI=n(57028);function rN(){let e=(0,r.t)(),t=(0,W.D)(),n=(0,d.B)(),a=n.filters,l=n.commitGroups,s=n.metadata?.softNavToCommit||!1,o=(0,iF.G7)("copilot_commit_recap"),{response:u,isLoadingCopilotRecap:m,commitGroups:p,showRecapPanel:g,showRecapButton:f,showRecapPopover:h,handleCopilotRecap:y,handleCloseRecap:b}=function({repoOwner:e,repoName:t,refName:n,defaultBranch:a,filters:l}){let[i,r]=(0,c.useState)([]),[s,o]=(0,c.useState)(""),[d,u]=(0,c.useState)(!1),[m,p]=(0,c.useState)(!1),g=(0,c.useRef)(!1),f=(0,c.useRef)(null),h=(0,iF.G7)("copilot_commit_recap"),y=n||a||"main",{data:b,isSuccess:k,isFetching:x,refetch:C}=(0,rh.I)({queryKey:["commit-rollup",e,t,y,l],queryFn:()=>rC(e,t,y,l),enabled:!1}),{data:v,isSuccess:S,refetch:j}=(0,rh.I)({queryKey:["path-check",e,t,y,l.currentBlobPath],queryFn:()=>rv(e,t,y,l.currentBlobPath||""),enabled:h&&!!l.currentBlobPath}),I=(0,c.useMemo)(()=>b||[],[b]),N=(0,c.useMemo)(()=>!!l.currentBlobPath&&(void 0===v||v?.is_file!==!1),[v,l.currentBlobPath]),F=(0,c.useMemo)(()=>N&&v?.show_popover===!0,[N,v]),_=(0,c.useCallback)(async n=>{if(0!==n.length&&!g.current){g.current=!0,p(!0),r([]),o("");try{let a=l.currentBlobPath||"",i=new rp.J([]),s=await i.getAuthToken(),o=rk(rb(e,t,y,a,[])),d=[],c=o;for(let i=0;i<n.length;i++){let u=n[i];if(!u)continue;let m=await rS(e,t,u,l),p=rk(JSON.stringify(m,null,2));c+p>16e3&&d.length>0?(await rj(d,s,a,e,t,y,r),d=[m],c=o+p):(d.push(m),c+=p)}d.length>0&&await rj(d,s,a,e,t,y,r)}catch{o(ry)}finally{p(!1),g.current=!1}}},[e,t,y,l]);(0,c.useEffect)(()=>{k&&d&&I.length>0&&!g.current&&_(I)},[k,d,I,_]);let L=(0,c.useCallback)(async()=>{if(rx("requested",{refName:y,blobPath:l.currentBlobPath||"",hasAuthorFilter:!!l.author,hasDateFilters:!!(l.since||l.until)}),r([]),o(""),!l.currentBlobPath){u(!0),k&&0!==I.length||C();return}if(v?.is_file===!0)u(!0),k&&0!==I.length||C();else try{let e=await j();e.data?.is_file===!0?(u(!0),k&&0!==I.length||C()):u(!1)}catch{u(!1)}},[C,j,y,l,k,I,v]),T=(0,c.useCallback)(()=>{u(!1),r([]),o(""),p(!1),g.current=!1},[]);return((0,c.useEffect)(()=>{let e=f.current;if(null===e){f.current=l;return}(e.pagination?.endCursor!==l.pagination?.endCursor||e.pagination?.startCursor!==l.pagination?.startCursor||e.since!==l.since||e.until!==l.until||e.author?.login!==l.author?.login||e.currentBlobPath!==l.currentBlobPath)&&d&&(u(!1),r([]),o(""),p(!1),g.current=!1),f.current=l},[l,d]),h)?{response:{analysisData:i,errorMessage:s},analysisData:i,errorMessage:s,isLoadingCopilotRecap:x||m,triggerAnalysis:_,commitGroups:I,showRecapPanel:d,showRecapButton:N,showRecapPopover:F,handleCopilotRecap:L,handleCloseRecap:T}:{response:{analysisData:[],errorMessage:""},analysisData:[],errorMessage:"",isLoadingCopilotRecap:!1,commitGroups:[],showRecapPanel:!1,showRecapButton:!1,showRecapPopover:!1,handleCopilotRecap:()=>{},handleCloseRecap:()=>{}}}({repoOwner:e.ownerLogin,repoName:e.name,refName:n.refInfo?.name,defaultBranch:e.defaultBranch,filters:a}),k=`There isn't any commit history to show here${null!==a.since||null!==a.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!v.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,i.jsx)(iT,{filters:n.filters,children:(0,i.jsxs)(ru,{title:"Commits",children:[(0,i.jsx)(rr,{repo:e,contributorsUrl:n.metadata?.deferredContributorUrl||"",since:a.since,until:a.until,author:a.author,refInfo:n.refInfo,path:a.currentBlobPath,showCopilotButton:o&&f,showCopilotPopover:h,onCopilotRecap:y,isLoadingCopilotRecap:m}),o&&(0,i.jsx)(i0,{isVisible:g,isLoading:m,analysis:u,repoOwner:e.ownerLogin,repoName:e.name,refName:n.refInfo?.name,onClose:b,commitGroups:p}),0===l.length&&(0,i.jsx)(rI.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:k}),l.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iO,{commitGroups:l,deferredDataUrl:n.metadata?.deferredDataUrl||"",softNavToCommit:s}),(0,i.jsx)(rs,{paginationInfo:a.pagination})]}),n.metadata?.showProfileHelp&&(0,i.jsx)(i_,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{rN.displayName||(rN.displayName="Commits")}catch{}(0,l.o)("commits",()=>({App:g,routes:[(0,a.a)({path:"/:owner/:repo/commits",Component:rN}),(0,a.a)({path:"/:owner/:repo/commits/:ref",Component:rN}),(0,a.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:rN}),(0,a.a)({path:"/:owner/:repo/commit/:oid",Component:iN}),(0,a.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:iN}),(0,a.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:iN})]}))},62180:(e,t,n)=>{n.d(t,{x:()=>d});var a=n(74848),l=n(71555),i=n(65826),r=n(96540),s=n(67702);let o=[];function d({tone:e,...t}){let[n,d]=(0,r.useState)(),c=(0,s.P)(void 0!==n),{calculateSuggestions:u,trigger:m}=(0,i.x)(c.isPending?"loading":c.data??o,{tone:e}),p=(0,r.useMemo)(()=>void 0!==n?u(n):null,[n,u]);return(0,a.jsx)(l.a,{triggers:[m],suggestions:p,onShowSuggestions:({query:e})=>d(e),onHideSuggestions:()=>d(void 0),...t})}try{d.displayName||(d.displayName="EmojiAutocomplete")}catch{}},62559:(e,t,n)=>{n.d(t,{KG:()=>d,O_:()=>i,QK:()=>o,iy:()=>s,sT:()=>r,wY:()=>l});let a={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},l={...a,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${a.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${a.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${a.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${a.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:l.titleCanNotBeEmpty}:e.length>l.maxIssueTitleLength?{isValid:!1,errorMessage:l.issueTitleExceedsMaxLength}:{isValid:!0}}function r(e,t){return 0===e.trim().length&&t?{isValid:!1,errorMessage:l.fieldCanNotBeEmpty}:e.length>l.maxBodyLength?{isValid:!1,errorMessage:l.fieldExceedsMaxLength}:{isValid:!0}}function s(e){return 0===e.trim().length?{isValid:!1,errorMessage:l.titleCanNotBeEmpty}:e.length>l.maxViewTitleLength?{isValid:!1,errorMessage:l.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>l.maxBodyLength?{isValid:!1,errorMessage:l.issueBodyExceedsMaxLength}:{isValid:!0}}function d(e){return 0===e.length?{isValid:!1,errorMessage:l.commentBodyEmpty}:{isValid:!0}}},63352:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(74848),l=n(21728),i=n(75202),r=n(71315),s=n(96540),o=n(38621),d=n(26108),c=n(15220),u=n(64451),m=n(86877),p=n(4175),g=n(21373),f=n(46720);let h=[{label:"Comment is harmful or unsafe",value:"OFFENSIVE_OR_DISCRIMINATORY"},{label:"Comment is poorly formatted",value:"POORLY_FORMATTED"},{label:"Comment is not true",value:"INCORRECT"},{label:"Comment is not helpful",value:"UNHELPFUL"},{label:"Comment is attached to the wrong line(s)",value:"INCORRECT_LINE"},{label:"Comment is a duplicate of another comment",value:"DUPLICATE"},{label:"Code suggestion is harmful or unsafe",value:"SUGGESTION_OFFENSIVE_OR_DISCRIMINATORY"},{label:"Code suggestion is poorly formatted",value:"SUGGESTION_POORLY_FORMATTED"},{label:"Code suggestion does not solve the problem in the comment",value:"SUGGESTION_UNHELPFUL"},{label:"Code suggestion is invalid",value:"SUGGESTION_INVALID"}],y=e=>{let t,n,i,r,o=(0,l.c)(16),{commentId:d,onClose:f,onSubmit:y,feedbackOptions:k,returnFocusRef:x}=e,C=void 0===k?h:k,[v,S]=(0,s.useState)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0];let[j,I]=(0,s.useState)(t),[N,F]=(0,s.useState)("");o[1]!==d||o[2]!==j||o[3]!==y||o[4]!==N?(n=e=>{e.preventDefault(),S(!0),j.length&&y({commentId:d,type:"NEGATIVE",feedbackChoice:j,textResponse:N})},o[1]=d,o[2]=j,o[3]=y,o[4]=N,o[5]=n):n=o[5];let _=n;return o[6]!==v||o[7]!==j||o[8]!==C||o[9]!==_||o[10]!==N?(i=()=>(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsxs)(c.l.Body,{children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)(u.A,{onChange:I,required:!0,children:[(0,a.jsx)(u.A.Label,{children:"Category"}),C.map(b),v&&!j&&(0,a.jsx)(u.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,a.jsxs)(m.A,{id:"text_response",children:[(0,a.jsx)(m.A.Label,{children:"How should we improve this response?"}),(0,a.jsx)(p.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:N,resize:"vertical",onChange:e=>F(e.currentTarget.value)})]})]}),(0,a.jsx)(c.l.Footer,{children:(0,a.jsx)(g.Q,{type:"submit",disabled:v&&(!N||!j),children:"Submit"})})]}),o[6]=v,o[7]=j,o[8]=C,o[9]=_,o[10]=N,o[11]=i):i=o[11],o[12]!==f||o[13]!==x||o[14]!==i?(r=(0,a.jsx)(c.l,{onClose:f,title:"Provide additional feedback",subtitle:"Please help us improve GitHub Copilot by sharing more details about this comment.",returnFocusRef:x,renderBody:i}),o[12]=f,o[13]=x,o[14]=i,o[15]=r):r=o[15],r};try{y.displayName||(y.displayName="NegativeFeedbackForm")}catch{}function b(e){return(0,a.jsxs)(m.A,{id:`feedback_choice_${e.value}`,children:[(0,a.jsx)(f.A,{value:e.value}),(0,a.jsx)(m.A.Label,{children:e.label})]},e.value)}let k=e=>{let t,n,i=(0,l.c)(6),{onClick:r,commentId:s,disabled:c}=e;return i[0]!==s||i[1]!==r?(t=()=>r({type:"POSITIVE",commentId:s}),i[0]=s,i[1]=r,i[2]=t):t=i[2],i[3]!==c||i[4]!==t?(n=(0,a.jsx)(d.K,{size:"small",variant:"invisible",disabled:c,icon:o.ThumbsupIcon,title:"Positive Feedback","aria-label":"Positive Feedback",onClick:t}),i[3]=c,i[4]=t,i[5]=n):n=i[5],n},x=e=>{let t,n,i,r,c,u=(0,l.c)(13),{onClick:m,commentId:p,disabled:g,feedbackOptions:f}=e,[h,b]=(0,s.useState)(!1),k=(0,s.useRef)(null);u[0]!==m?(t=e=>{m(e),b(!1)},u[0]=m,u[1]=t):t=u[1];let x=t;return u[2]!==p||u[3]!==h||u[4]!==f||u[5]!==x?(n=h&&(0,a.jsx)(y,{onClose:()=>b(!1),onSubmit:x,commentId:p,feedbackOptions:f,returnFocusRef:k}),u[2]=p,u[3]=h,u[4]=f,u[5]=x,u[6]=n):n=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i=()=>b(!0),u[7]=i):i=u[7],u[8]!==g?(r=(0,a.jsx)(d.K,{ref:k,size:"small",variant:"invisible",disabled:g,icon:o.ThumbsdownIcon,title:"Negative Feedback","aria-label":"Negative Feedback",onClick:i}),u[8]=g,u[9]=r):r=u[9],u[10]!==n||u[11]!==r?(c=(0,a.jsxs)(a.Fragment,{children:[n,r]}),u[10]=n,u[11]=r,u[12]=c):c=u[12],c};try{k.displayName||(k.displayName="PositiveFeedbackButton")}catch{}try{x.displayName||(x.displayName="NegativeFeedbackButton")}catch{}var C=n(96379);let v=e=>{let t,n,i,o,d,c,u=(0,l.c)(20),{commentId:m,commentUrl:p,feedbackPath:g,feedbackOptions:f,additionalParameters:h}=e,[y,b]=(0,s.useState)();e:{if(g){t=g;break e}if(p){let e;u[0]!==p?((e=new URL(p,r.fV.origin)).hash="",u[0]=p,u[1]=e):e=u[1],t=`${e}/code_review_feedback`;break e}throw Error("missing feedbackPath and commentUrl")}let v=t;u[2]!==h||u[3]!==v?(n={path:v,additionalParameters:h},u[2]=h,u[3]=v,u[4]=n):n=u[4];let S=(({path:e,additionalParameters:t})=>(0,s.useCallback)(({type:n,commentId:a,feedbackChoice:l,textResponse:i})=>{try{let r=new FormData;if(r.set("comment_id",a),r.set("feedback",n),t)for(let[e,n]of Object.entries(t))r.set(e,n);for(let e of l??[])r.append("feedback_choice[]",e);i&&r.set("text_response",i),(0,C.DI)(e,{method:"POST",body:r})}catch{}},[e,t]))(n);u[5]!==S?(i=e=>{b(e.type),S(e)},u[5]=S,u[6]=i):i=u[6];let j=i,I=`copilot-code-review-feedback-${m}`;return u[7]!==m||u[8]!==j||u[9]!==y?(o="NEGATIVE"!==y&&(0,a.jsx)(k,{disabled:!!y,commentId:m,onClick:j}),u[7]=m,u[8]=j,u[9]=y,u[10]=o):o=u[10],u[11]!==m||u[12]!==f||u[13]!==j||u[14]!==y?(d="POSITIVE"!==y&&(0,a.jsx)(x,{disabled:!!y,onClick:j,commentId:m,feedbackOptions:f}),u[11]=m,u[12]=f,u[13]=j,u[14]=y,u[15]=d):d=u[15],u[16]!==I||u[17]!==o||u[18]!==d?(c=(0,a.jsxs)("div",{"data-testid":I,className:"d-flex gap-1",children:[o,d]}),u[16]=I,u[17]=o,u[18]=d,u[19]=c):c=u[19],c},S=e=>{let t,n=(0,l.c)(2);return n[0]!==e?(t=(0,a.jsx)(i.t,{fallback:null,children:(0,a.jsx)(v,{...e})}),n[0]=e,n[1]=t):t=n[1],t};try{v.displayName||(v.displayName="Feedback")}catch{}try{S.displayName||(S.displayName="CopilotCodeReviewFeedback")}catch{}},65249:(e,t,n)=>{n.d(t,{E:()=>l});var a=n(2635);function l({additionalConditions:e=[],repositoryVisibility:t,userCanPushToRepo:n,userSettingCopilotEnabled:l}){let i=(0,a.mo)();return i?.mode!=="immersive"&&!!l&&("PUBLIC"!==t||!!n)&&e.every(e=>e)}},65787:(e,t,n)=>{n.d(t,{U:()=>i});let a=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let n=t.getPropertyValue(e);return"auto"===n||"scroll"===n})},l=(e,t)=>e&&null!==e.parentNode?l(e.parentNode,t.concat([e])):t;function i(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of l(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&a(t))return t;return document.scrollingElement||document.documentElement}}},66718:(e,t,n)=>{n.d(t,{Ge:()=>l,UI:()=>i,$J:()=>r});let a={fieldMustBeANumber:"This field must be a number",fieldMustBeBetween:"This value must be between",fieldValueTooLong:"This value is too long",floatingPointValueTooPrecise:"This floating point value is too precise"};function l(e){let t=r(e);if(Number.isNaN(t))return a.fieldMustBeANumber;if(t<-0x7fffffff||t>0x7fffffff)return`${a.fieldMustBeBetween} -2147483647 and 2147483647`;let n=e.split(".")[1];if(n&&n.length>15)return a.floatingPointValueTooPrecise}function i(e){return new Blob([e]).size>1024?a.fieldValueTooLong:void 0}function r(e){return Number(e.replace(/,/g,""))}},67702:(e,t,n)=>{n.d(t,{P:()=>i});var a=n(34418),l=n(97286);function i(e){return(0,l.I)({queryKey:["autocomplete-emojis-for-editor"],enabled:e,queryFn:()=>(0,a.X)({queryDeps:{pathname:"/autocomplete/emojis_for_editor"}}),select:e=>Object.entries(e).map(([e,[t,n]])=>({name:e,character:n,url:t}))})}},68245:(e,t,n)=>{n.d(t,{_:()=>i,z:()=>s});var a=n(74848),l=n(21728);let i=(0,n(96540).createContext)("handle"),r={NAME_HANDLE:"name_handle",NAME_AND_HANDLE:"name_handle",HANDLE:"handle"};function s(e){let t,n=(0,l.c)(3),{value:s,children:o}=e,d=s&&r[s.toUpperCase()]||"handle";return n[0]!==o||n[1]!==d?(t=(0,a.jsx)(i.Provider,{value:d,children:o}),n[0]=o,n[1]=d,n[2]=t):t=n[2],t}try{i.displayName||(i.displayName="UserNameDisplayContext")}catch{}try{s.displayName||(s.displayName="UserNameDisplayContextProvider")}catch{}},68534:(e,t,n)=>{n.d(t,{F:()=>a});function a(e){return e.slice(0,7)}},69599:(e,t,n)=>{n.d(t,{G7:()=>o,XY:()=>d,fQ:()=>s});var a=n(5225),l=n(21067);function i(){return new Set((0,l._$)().featureFlags)}let r=n(71315).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?i:(0,a.A)(i);function s(){return Array.from(r())}function o(e){return r().has(e)}let d={isFeatureEnabled:o}},71073:(e,t,n)=>{n.d(t,{p:()=>S});var a=n(74848),l=n(33643),i=n(21067),r=n(40260),s=n(69599),o=n(59464),d=n(50167),c=n(71315),u=n(38621),m=n(26108),p=n(94236),g=n(5524),f=n(96540),h=n(46173),y=n(20459);let b={CommentActionsIconButton:"CommentActions-module__CommentActionsIconButton--EOXv7",CommentActionsListItem:"CommentActions-module__CommentActionsListItem--rBMCI"};var k=n(59123),x=n(4551),C=n(14969),v=n(14406);function S({comment:e,commentAuthorLogin:t,editComment:n,onReplySelect:S,isMinimized:j=!1,isReply:I=!1,navigate:N,onBlock:F,onUnblock:_,onMinimize:L,hideComment:T,unhideComment:w,deleteComment:A,onSuccessfulBlock:E,commentRef:D,isDisabled:P=!1}){let[K,R]=(0,f.useState)(!1),[M,V]=(0,f.useState)(null),[B,O]=(0,f.useState)(!1),[U,$]=(0,f.useState)(!1),[H,z]=(0,f.useState)(!1),[q,W]=(0,f.useState)(!1),G=(0,f.useCallback)(n=>`${n.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${t} in [${e.referenceText}](${e.url})_`,[e.referenceText,t,e.url]),Q=e=>{(0,r.D)(e)},X=!!e.pendingMinimizeReason||e.isHidden,Y=(0,f.useMemo)(()=>X&&!j&&e.viewerCanSeeMinimizeButton?(0,a.jsx)(m.K,{"aria-label":"hide comment",variant:"invisible",onClick:()=>L?.(!0),icon:u.FoldIcon,size:"small",className:b.CommentActionsIconButton}):null,[X,j,L,e.viewerCanSeeMinimizeButton]),J=(0,f.useMemo)(()=>X&&j&&e.viewerCanSeeUnminimizeButton?(0,a.jsx)(m.K,{"aria-label":"show comment",variant:"invisible",onClick:()=>L?.(!1),icon:u.UnfoldIcon,size:"small",className:b.CommentActionsIconButton}):null,[X,j,L,e.viewerCanSeeUnminimizeButton]),Z=(0,f.useMemo)(()=>{if(!e.author)return;let n=c.cg?.location.origin;if(!n)return;let a=`content_url=${encodeURIComponent(e.url)}&report=${t}+(user)`;return`${n}/contact/report-content?${a}`},[t,e.author,e.url]),ee=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,et=function(e){let{viewerCanBlockFromOrg:t,pendingBlock:n,hasAuthor:a,pendingUnblock:l}=e;return!!a&&!n&&(!!l||t)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),en=function(e){let{viewerCanUnblockFromOrg:t,pendingBlock:n,hasAuthor:a,pendingUnblock:l}=e;return!!a&&!l&&(!!n||t)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),ea="boolean"!=typeof e.viewerCanReferenceInIssue||e.viewerCanReferenceInIssue,el="boolean"!=typeof e.viewerCanQuoteReply||e.viewerCanQuoteReply,ei={isCreateDialogOpen:B,setIsCreateDialogOpen:O,navigate:N,optionConfig:{storageKeyPrefix:e.id,defaultDisplayMode:d.q.IssueCreation,scopedOrganization:e.repository.owner.login,issueCreateArguments:{initialValues:{body:G(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}},er=(0,l.C)(new Date(e.createdAt)),es=`Actions for ${t}'s ${I?"reply":"comment"}, ${er}`;return(0,a.jsxs)(a.Fragment,{children:[B&&(0,a.jsx)(o.or,{...ei}),U&&(0,a.jsx)(C._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:Z,contentId:e.id,onClose:()=>$(!1),contentType:"comment"}),H&&e.author&&(0,a.jsx)(k.r5,{onBlock:F,onClose:()=>{E?.(),z(!1)},organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),q&&e.author&&(0,a.jsx)(v.o,{onClose:()=>W(!1),onUnblock:_,organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),Y,J,(0,a.jsxs)(p.W,{open:K,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?V({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):V(null)}R(e)},children:[(0,a.jsx)(p.W.Anchor,{"data-testid":h.Y.commentHeaderHamburger,children:(0,a.jsx)(m.K,{disabled:P,size:"small",icon:u.KebabHorizontalIcon,variant:"invisible","aria-label":es,tooltipDirection:"n",description:"More actions",className:b.CommentActionsIconButton})}),(0,a.jsx)(p.W.Overlay,{children:(0,a.jsxs)(g.l,{"data-testid":h.Y.commentHeaderHamburgerOpen,children:[(0,a.jsxs)(g.l.Item,{inactiveText:""===e.url?"Comment must have a URL to be copied":void 0,onSelect:()=>Q(e.url),children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.LinkIcon,{})}),"Copy link"]}),(0,s.G7)("comment_viewer_copy_raw_markdown")?(0,a.jsxs)(g.l.Item,{inactiveText:""===e.body?"Comment must have content to be copied":void 0,onSelect:()=>Q(e.bodyForClipboard||e.body),children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.MarkdownIcon,{})}),"Copy Markdown"]}):null,(0,i.M3)()&&(0,a.jsxs)(a.Fragment,{children:[el&&(0,a.jsxs)(g.l.Item,{onSelect:()=>{S((0,y.E)(D?.current,M,e.body))},children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.QuoteIcon,{})}),"Quote reply"]}),ea&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.l.Divider,{}),(0,a.jsxs)(g.l.Item,{"data-testid":h.Y.commentMenuRefComment,onSelect:()=>O(!0),className:b.CommentActionsListItem,children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.IssueOpenedIcon,{})}),"Reference in a new issue"]})]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,a.jsx)(g.l.Divider,{}),e.viewerCanUpdate&&(0,a.jsxs)(g.l.Item,{onSelect:()=>n(),children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!X&&(0,a.jsxs)(p.W,{children:[(0,a.jsx)(p.W.Anchor,{children:(0,a.jsxs)(g.l.Item,{children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.EyeClosedIcon,{})}),"Hide"]})}),(0,a.jsx)(p.W.Overlay,{children:(0,a.jsx)(g.l,{children:(0,a.jsx)(x.w,{onSelect:T,setMenuOpen:R})})})]}),e.viewerCanUnminimize&&X&&(0,a.jsxs)(g.l.Item,{onSelect:w,children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,a.jsxs)(g.l.Item,{variant:"danger",onSelect:A,children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.TrashIcon,{})}),"Delete"]}),ee&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.l.Divider,{}),e.viewerCanReportToMaintainer?(0,a.jsxs)(g.l.Item,{onSelect:()=>{$(!0)},children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.ReportIcon,{})}),"Report content"]}):(0,a.jsxs)(g.l.LinkItem,{href:Z,target:"_blank",children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.ReportIcon,{})}),"Report content"]})]}),(et||en)&&!ee&&(0,a.jsx)(g.l.Divider,{}),et&&(0,a.jsxs)(g.l.Item,{onSelect:()=>z(!0),children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.BlockedIcon,{})}),"Block user"]}),en&&(0,a.jsxs)(g.l.Item,{onSelect:()=>W(!0),children:[(0,a.jsx)(g.l.LeadingVisual,{children:(0,a.jsx)(u.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{S.displayName||(S.displayName="CommentActions")}catch{}},71315:(e,t,n)=>{n.d(t,{KJ:()=>a.KJ,Kn:()=>l.Kn,X3:()=>a.X3,XC:()=>l.XC,cg:()=>l.cg,fV:()=>l.fV,g5:()=>a.g5});var a=n(6923),l=n(56038)},72274:(e,t,n)=>{n.d(t,{u:()=>c});let a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[e,t,n,a,l,i,r],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[t,{kind:"InlineFragment",selections:[e,n,a,l,i,r],type:"Actor",abstractKey:"__isActor"}],storageKey:null}]},params:{id:"6987ff2f32d01960d1bbe40dda9de91d",metadata:{},name:"useViewerSafeViewerSharedQuery",operationKind:"query",text:null}}}();a.hash="5a013278916f7fee830e1904fafc0041";var l=n(30721),i=n(71315),r=n(43755),s=n(96540),o=n(18312);n(69487);var d=n(19720);function c(){let e=(0,o.useRelayEnvironment)(),{currentUser:t}=(0,r.J)(),[n,c]=(0,s.useState)(t);return i.X3||n||(0,l.SD)({environment:e,query:a,variables:{}}).subscribe({next:e=>{e.safeViewer&&c((0,d.uX)(e.safeViewer))}}),n}},72690:(e,t,n)=>{n.d(t,{CZ:()=>h});var a=n(74848);let l={kind:"InlineDataFragment",name:"IssueSingleSelectFieldPickerOption"};l.hash="d8bcb73a6758269a0f127f7a03e396bc";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[n,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueSingleSelectFieldPickerOption",selections:a,args:null,argumentDefinitions:[]}],storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:a,storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null},n],storageKey:null}]},params:{id:"c64e6ba36203e1baee1d8517134d7d4c",metadata:{},name:"IssueSingleSelectFieldPickerFieldQuery",operationKind:"query",text:null}}}();i.hash="0979e35fc8348ec832d8c8f2a2b59fec";var r=n(69599),s=n(19918),o=n(86391),d=n(81289),c=n(81709),u=n(30721),m=n(71315),p=n(96540),g=n(18312),f=n(14709);function h({anchorElement:e,isLazy:t,shouldOpen:n=!1,...l}){return t&&!n?(0,a.jsx)(d.y,{anchorElement:(t,n)=>e(t,n),createChild:()=>(0,a.jsx)(y,{anchorElement:(t,n)=>e(t,n),...l})}):(0,a.jsx)(y,{anchorElement:(t,n)=>e(t,n),...l})}function y({fieldId:e,anchorElement:t,...n}){let l=(0,g.useRelayEnvironment)(),[r,o]=(0,p.useState)(!0),[d,f]=(0,p.useState)(0),[h,y]=(0,p.useState)(!1),[k,x]=(0,p.useState)([]);(0,p.useEffect)(()=>{m.X3||(0,u.SD)({environment:l,query:i,variables:{id:e}}).subscribe({next:e=>{x(e.node?.options??[]),o(!1),y(!1)},error:()=>{y(!0),o(!1)}})},[l,d,e]);let{createFallbackComponent:C}=(0,c.j)({errorMessage:s.k.cantEditItems("fields"),anchorElement:t,open:!0});return h?C(()=>f(e=>e+1)):(0,a.jsx)(b,{fieldId:e,values:k,isLoading:r,anchorElement:t,...n})}function b({title:e=s.k.fieldSingleSelectHeader,width:t="medium",values:n,fieldName:i,selectedOption:d,onSelectionChange:c,onClose:u,insidePortal:m,anchorElement:h,isLoading:y}){let[b,k]=(0,p.useState)(""),x=i?s.k.fieldSingleSelectHeaderWithName(i):e,C=n.flatMap(e=>e?[(0,g.readInlineData)(l,e)]:[]),v=(0,p.useMemo)(()=>b?C.filter(e=>e.name&&e.name.toLowerCase().indexOf(b.toLowerCase())>=0):C,[C,b]),S=(0,p.useCallback)(e=>{k(e)},[]),j=(0,p.useCallback)(e=>e.id||"",[]),I=(0,p.useCallback)(e=>({id:e.id,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,f.z)(e.color),source:e}),[]),N=(0,p.useMemo)(()=>{if(d){let e=C.find(e=>e.name===d);if(e)return[e]}return[]},[C,d]),F=(0,p.useRef)(null),_=(0,p.useMemo)(()=>0===v.length,[v]),L=(0,r.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,a.jsx)(o.O,{loading:y,items:v,initialSelectedItems:N,filterItems:S,title:x,getItemKey:j,convertToItemProps:I,placeholderText:"Filter option",selectionVariant:"single",onSelectionChange:e=>c(e&&e.length>0&&e[0]?e[0]:null),onClose:u,renderAnchor:e=>h(e,F),insidePortal:m,height:"large",width:t,resultListAriaLabel:"Issue field option results",triggerOpen:!0,selectPanelRef:F,improvedNoMatchAccessibility:_,noMatchMessage:_?{title:"No option found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:L})}try{h.displayName||(h.displayName="IssueSingleSelectFieldPicker")}catch{}try{y.displayName||(y.displayName="IssueSingleSelectFieldPickerFetcher")}catch{}try{b.displayName||(b.displayName="ItemPickerWrapper")}catch{}},72767:(e,t,n)=>{n.d(t,{E:()=>K,F:()=>P});var a=n(74848);let l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filename"},t={defaultValue:null,kind:"LocalArgument",name:"repoId"},n=[{kind:"Variable",name:"id",variableName:"repoId"}],a=[{kind:"Variable",name:"filename",variableName:"filename"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={kind:"Literal",name:"first",value:20},c=[d,{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f=[u,m,i,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},p,g],h={alias:null,args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:f,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},y=[{kind:"Literal",name:"first",value:10}],b={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},x={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},C={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},v={alias:null,args:y,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[l,u,b,i,k,x,C],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},S={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},j=[u,i,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],I={kind:"InlineFragment",selections:j,type:"IssueFieldText",abstractKey:null},N={kind:"InlineFragment",selections:j,type:"IssueFieldSingleSelect",abstractKey:null},F={kind:"InlineFragment",selections:j,type:"IssueFieldDate",abstractKey:null},_={kind:"InlineFragment",selections:j,type:"IssueFieldNumber",abstractKey:null},L={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[u,i,S,p,m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[l,I,N,F,_],storageKey:null}],storageKey:null},T={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},w={alias:null,args:[d],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[u,o,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},A={alias:null,args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:f,storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},E={alias:null,args:y,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[l,b,i,k,x,C],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},D={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[u,i,S,p,m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[l,I,N,F,_,{kind:"InlineFragment",selections:[u],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},P={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:a,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[l,i,r,s,o,h,v,L,T],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:a,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[l,i,r,o,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},h,v,w,L,T],args:null,argumentDefinitions:[]}],storageKey:null}],args:a,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,u,{kind:"InlineFragment",selections:[{alias:null,args:a,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[l,i,r,s,o,A,E,D,T],storageKey:null},{alias:null,args:a,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[l,i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[l,{kind:"InlineFragment",selections:[P,K,R,M,V,B,T],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[P,K,R,M,V,B,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},T],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[P,K,R,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},B,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},T],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[P,K,R,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},B],storageKey:null},T],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},A,E,w,D,T],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"9d61a16c09f0942244d0c47feead112e",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}}}();l.hash="a07055edea10e255144aa55d8c188972";let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};i.hash="8a3f411e97612f6b11008dffb70a56f0";var r=n(69599),s=n(16654),o=n(43258),d=n(96540),c=n(18312),u=n(16642),m=n(96480),p=n(17831);let g={CreateIssueContainer:"CreateIssue-module__CreateIssueContainer--Laikr"};var f=n(99726),h=n(94252),y=n(98338);let b=y.k.crossRepoIssueDuplicationDefaultWarning;var k=n(92858),x=n(41057),C=n(89946);let v=["220px","250px","290px","210px"].map((e,t)=>({id:`skeleton-${t}`,width:e}));function S(){let{optionConfig:e}=(0,m.a)();return(0,a.jsx)("div",{className:`${C.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:v.map(({id:e,width:t})=>(0,a.jsx)(x.Q,{height:"xl",width:t},e))})}try{S.displayName||(S.displayName="TemplateListLoading")}catch{}var j=n(47685);function I({repository:e,setRepository:t,topRepositories:n,organization:l,onTemplateSelected:i}){let{optionConfig:r}=(0,m.a)(),o=(0,d.useId)(),c=r.insidePortal?"ml-3":"ml-0";return(0,a.jsxs)("div",{className:r.insidePortal?"pt-2":"","data-testid":k.Y.repositoryAndTemplateDialog,children:[(0,a.jsx)(N,{className:c,name:"Repository"}),(0,a.jsx)("div",{className:`${r.insidePortal?"mb-2":"mb-3"} ${c}`,children:(0,a.jsx)(s.f0,{"aria-describedby":o,initialRepository:e,onSelect:t,organization:l,topRepositories:n,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0,includeForks:!0}})}),(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)(S,{}),children:e&&(0,a.jsx)(j.N,{repositoryId:e.id,onTemplateSelected:i,descriptionId:o})})]})}function N({name:e,className:t}){return(0,a.jsxs)("div",{className:`pt-1 pb-1 ${t}`,children:[(0,a.jsx)("span",{className:"text-bold",children:e}),(0,a.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}try{I.displayName||(I.displayName="RepositoryAndTemplatePickerDialog")}catch{}try{N.displayName||(N.displayName="Field")}catch{}let F={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};F.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var _=n(38621),L=n(21373);n(69487);let T={TemplatePickerButtonContainer:"TemplatePickerButton-module__TemplatePickerButtonContainer--sNawE",repositoryConnectorText:"TemplatePickerButton-module__repositoryConnectorText--CKviI"};var w=n(50167);function A({repository:e,template:t}){let n=(0,c.useFragment)(F,e),{setDisplayMode:l}=(0,m.a)(),i=t?t.name:y.k.blankIssueName,r=(0,d.useRef)(null);return((0,d.useEffect)(()=>{r.current?.focus()},[]),n.hasAnyTemplates)?(0,a.jsx)("div",{"data-testid":"template-picker-button",className:T.TemplatePickerButtonContainer,children:(0,a.jsxs)(L.Q,{"data-testid":"template-picker-button-el",onClick:()=>l(w.q.TemplatePicker),leadingVisual:_.RepoIcon,trailingVisual:_.PencilIcon,ref:r,children:[n&&(0,a.jsxs)("span",{children:[i," ",(0,a.jsx)("span",{className:T.repositoryConnectorText,children:"in"})," ",n.nameWithOwner]}),!e&&(0,a.jsx)(a.Fragment,{children:"Select a repository"})]})}):null}try{A.displayName||(A.displayName="TemplatePickerButton")}catch{}var E=n(93997),D=n(81724);let P=l,K=({topRepositories:e,navigate:t,currentRepository:n,onCreateSuccess:l,issueFormRef:s,...y})=>{let b=(0,c.useFragment)(i,n),{addToast:k}=(0,o.Y6)(),x=(0,c.useRelayEnvironment)(),{title:C,body:v,setBody:S,repository:N,setRepository:F,template:_,setNewTitle:L,resetMetadata:T,clearSessionData:K}=(0,p.u)(),{optionConfig:V,displayMode:B,initialDefaultDisplayMode:O,setDisplayMode:U,setCreateMoreCreatedPath:$}=(0,m.a)(),H=(0,r.G7)("memex_default_issue_create_repository"),z=(0,d.useRef)({defaultIssueCreateRepoEnabled:H,isInitialRender:!0,values:{resetMetadata:T,initialDefaultDisplayMode:O,repository:N,setDisplayMode:U}});(0,d.useEffect)(()=>{if(z.current.isInitialRender){if(z.current.isInitialRender=!1,!z.current.defaultIssueCreateRepoEnabled)return;let{resetMetadata:e,initialDefaultDisplayMode:t,repository:n,setDisplayMode:a}=z.current.values;if(t!==w.q.IssueDuplication){if(e(),n?.hasAnyTemplates)return void a(w.q.TemplatePicker);if(!n?.hasAnyTemplates&&n?.isBlankIssuesEnabled)return void a(w.q.IssueCreation);a(t)}}},[]);let q=(0,d.useCallback)(e=>{e&&(N?.id!==e.id&&(T({repository:z.current.values.repository,selectedRepository:e}),H&&(e.hasAnyTemplates?U(w.q.TemplatePicker):!e.hasAnyTemplates&&e.isBlankIssuesEnabled&&U(w.q.IssueCreation))),F(e),$({owner:e.owner.login,repo:e.name,number:void 0}))},[T,N,$,F,U,H]),W=(0,E.wT)({optionConfig:V,repository:N,navigate:t,setDisplayMode:U}),G=(0,d.useCallback)((e,n)=>{let a;if(N){if(N?.viewerInteractionLimitReasonHTML&&N.viewerInteractionLimitReasonHTML.length>0)return void t(`/${N.owner.login}/${N.name}/issues/new`);if(n!==D.t7.ContactLink){if(V.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(a={appendTitleToTemplate:V.issueCreateArguments.initialValues.appendTitleToTemplate}),n===D.t7.BlankIssue)return void W((0,D.AI)(),a,!0);(0,c.fetchQuery)(x,P,{repoId:N.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let t=(0,E.EV)(e.node);t&&W(t,a,!0)},error:()=>{reportError(Error(u.S.unableToLoadSelectedTemplate)),k({type:"error",message:u.S.unableToLoadSelectedTemplate})}})}}},[N,x,V.issueCreateArguments?.initialValues?.appendTitleToTemplate,W,k,t]),Q=(0,h.K)({issueFormRef:s,handleTemplateChange:W,template:_,callback:l});if((0,d.useEffect)(()=>{N&&$({owner:N.owner?.login||"",repo:N.name||"",number:void 0})},[N,$]),!b&&!N)return(0,a.jsx)(R,{repository:N,onRepositorySelected:q,topRepositories:e,organization:V.scopedOrganization,onTemplateSelected:G});let X=O===w.q.IssueCreation;return(0,a.jsxs)("div",{tabIndex:-1,className:g.CreateIssueContainer,children:[B===w.q.IssueCreation&&(0,a.jsxs)(a.Fragment,{children:[X&&b&&(0,a.jsx)(A,{repository:b,template:_}),N&&(0,a.jsx)(f.e,{...y,issueFormRef:s,onCreateSuccess:Q,selectedTemplate:_,repository:N,title:C,setTitle:L,body:v,setBody:S,clearOnCreate:K,focusTitleInput:!X,footer:void 0})]}),B===w.q.IssueDuplication&&(0,a.jsx)(M,{navigate:t,onCreateSuccess:Q,topRepositories:e,issueFormRef:s,...y}),V.showRepositoryPicker&&B===w.q.TemplatePicker&&e&&(0,a.jsx)(I,{repository:N,setRepository:q,topRepositories:e,organization:V.scopedOrganization,onTemplateSelected:G}),!V.showRepositoryPicker&&B===w.q.TemplatePicker&&b&&(0,a.jsx)("div",{"data-hpc":!0,children:(0,a.jsx)(j.e,{repository:b,onTemplateSelected:G,...y})})]})};function R({repository:e,onRepositorySelected:t,topRepositories:n,organization:l,onTemplateSelected:i}){return n?(0,a.jsx)("div",{tabIndex:-1,className:g.CreateIssueContainer,children:(0,a.jsx)(I,{repository:e,setRepository:t,topRepositories:n,organization:l,onTemplateSelected:i})}):null}function M({onCreateSuccess:e,topRepositories:t,issueFormRef:n,...l}){let{title:i,body:o,setBody:c,repository:u,setNewTitle:m,clearSessionData:g}=(0,p.u)(),{onRepositoryChange:h,notice:k,sourceRepository:x}=(()=>{let{repository:e,setRepository:t,assignees:n,setAssignees:a,issueType:l,setIssueType:i,issueFields:r,setIssueFields:s,milestone:o,setMilestone:c,labels:u,setLabels:m}=(0,p.u)(),[g,f]=(0,d.useState)({repository:e,assignees:n,issueType:l,issueFields:r,milestone:o,labels:u}),[h,k]=(0,d.useState)(b),x=(0,d.useCallback)(e=>{if(!e)return;let n=[],l=e.id===g.repository?.id,r=e.owner?.databaseId===g.repository?.owner?.databaseId;l?(a?.(g.assignees),s?.(g.issueFields),i?.(g.issueType),c?.(g.milestone),m?.(g.labels)):(c?.(null),n.push("Milestone","Labels"),r?(a?.(g.assignees),s?.(g.issueFields),i?.(g.issueType)):(a?.([]),s?.([]),i?.(null),n.push("Assignees"),g.repository?.owner?.issueTypesEnabled&&n.push("Type"))),k(n.length>0?y.k.crossRepoIssueDuplicationWarning(n):b),t(e)},[g,a,s,i,m,c,t]);return(0,d.useEffect)(()=>{e?.databaseId===g.repository?.databaseId&&f({repository:e,assignees:n,issueType:l,issueFields:r,milestone:o,labels:u})},[e,n,l,r,o,u,g.repository?.databaseId]),{onRepositoryChange:x,notice:h,sourceRepository:g.repository}})(),C=(0,r.G7)("issues_react_select_panel_fullscreen_on_narrow"),v=(0,d.useCallback)(e=>e.id===x?.id?e.viewerIssueCreationPermissions.triageable:e.viewerIssueCreationPermissions.triageable&&e.isBlankIssuesEnabled,[x?.id]);return(0,a.jsx)(a.Fragment,{children:t&&u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.f0,{"aria-describedby":"Choose repository to duplicate issue in",initialRepository:u,topRepositories:t,onSelect:h,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0},notice:{text:k,variant:"warning"},repositoryFilter:v,responsiveOnNarrow:C}),(0,a.jsx)(f.e,{...l,issueFormRef:n,onCreateSuccess:e,repository:u,title:i,setTitle:m,body:o,setBody:c,clearOnCreate:g,focusTitleInput:!1})]})})}try{K.displayName||(K.displayName="CreateIssue")}catch{}try{R.displayName||(R.displayName="CreateIssueWithoutRepo")}catch{}try{M.displayName||(M.displayName="CreateIssueFormWithRepoPicker")}catch{}},73049:(e,t,n)=>{n.d(t,{A:()=>a});function a(e){if("data"in e)return e;if("errors"in e&&Array.isArray(e.errors)&&e.errors.length>0&&e.errors[0]?.message)throw Error(e.errors[0].message);throw Error("Error in request")}},73454:(e,t,n)=>{n.d(t,{h:()=>c});var a=n(74848),l=n(38621),i=n(57352),r=n(87448),s=n(10095);let o={ErrorWithRetryContainer:"ErrorWithRetry-module__ErrorWithRetryContainer--eDhIy",errorAlertIcon:"ErrorWithRetry-module__errorAlertIcon--Iiexz",errorMessage:"ErrorWithRetry-module__errorMessage--DNJUZ",retryActionLink:"ErrorWithRetry-module__retryActionLink--Xys2Y"};var d=n(34164);function c({message:e,retry:t,sx:n}){return(0,a.jsxs)(r.az,{sx:n,className:o.ErrorWithRetryContainer,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.A,{icon:l.AlertFillIcon,className:(0,d.$)("mr-1",o.errorAlertIcon)}),(0,a.jsx)("span",{className:o.errorMessage,children:e})]}),(0,a.jsx)(i.A,{as:"button",underline:!0,onClick:t,className:o.retryActionLink,children:(0,a.jsx)("span",{className:o.retryActionLink,children:"Try again"})})]})}try{c.displayName||(c.displayName="ErrorWithRetry")}catch{}},73580:(e,t,n)=>{n.d(t,{k$:()=>W,wX:()=>Q,vj:()=>q});var a=n(74848);let l={kind:"InlineDataFragment",name:"ProjectPickerRelay"};l.hash="4b45497a1690cc285c12af08bfeeb904";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"owner"},t={defaultValue:null,kind:"LocalArgument",name:"query"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},a=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],l={kind:"Literal",name:"first",value:5},i=[l,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"RELEVANCE"}},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"useFullTermQuery",value:!0}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[r,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},s],d=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerRelay",selections:o,args:null,argumentDefinitions:[]}],c=[l],u=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null}],storageKey:null}],m={alias:null,args:c,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:u,storageKey:"recentProjects(first:5)"},p=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:u,storageKey:null},m],g=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null}],f={alias:null,args:c,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:g,storageKey:"recentProjects(first:5)"},h=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:g,storageKey:null},f];return{fragment:{argumentDefinitions:[e,t,n],kind:"Fragment",metadata:null,name:"ProjectPickerRelayQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],storageKey:null},m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:p,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:p,type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,n,t],kind:"Operation",name:"ProjectPickerRelayQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,{kind:"InlineFragment",selections:h,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},r],storageKey:null},r],storageKey:null}]},params:{id:"505074714334dc02c12a9208c4c68a76",metadata:{},name:"ProjectPickerRelayQuery",operationKind:"query",text:null}}}();i.hash="5902b76dd5cff1cb9237182ac9a68a75";var r=n(67126),s=n(81709),o=n(30721),d=n(71315),c=n(43258),u=n(83494),m=n(96540),p=n(18312),g=n(74563),f=n(19918);let h=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectPickerBulkMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectPickerBulkMutation",selections:t},params:{id:"55ad9d4da2ebad57b590a7d211e85cbe",metadata:{},name:"addIssuesToProjectPickerBulkMutation",operationKind:"mutation",text:null}}}();h.hash="4c77805c8af085b0cb08d942d0a991ad";var y=n(46747),b=n(38143),k=n(34267),x=n(76027),C=n(57019),v=n(69599),S=n(38621),j=n(5643),I=n(97665),N=n(96379),F=n(47544);async function _({owner:e,repo:t,query:n,count:a}){let l={owner:e,repo:t};n&&(l.query=n),a&&(l.count=a);let i=(0,F.JF)("projects",l),r=await (0,N.lS)(i);return await r.json()}var L=n(73049);let T={groupId:"recent",header:{title:"Recent",variant:"filled"}},w={groupId:"repository",header:{title:"Repository",variant:"filled"}},A={groupId:"organization",header:{title:"Organization",variant:"filled"}},E={groupId:"selected"};async function D(e,{owner:t,repo:n,query:a,count:l}){return await e.fetchQuery({queryKey:["item_picker","projects",{owner:t,repo:n,query:a,count:l}],queryFn:async()=>{var e;let i=await _({owner:t,repo:n,query:a,count:l});return{repositoryId:(e=(0,L.A)(i).data).repository.id,repositoryProjects:e.repository.projectsV2.nodes,recentRepositoryProjects:e.repository.recentProjects.edges.map(e=>e.node),ownerProjects:e.repository.owner.projectsV2.edges.map(e=>e.node),recentOwnerProjects:e.repository.owner.recentProjects.edges.map(e=>e.node)}}})}let P=[];function K({projectsData:e,selectedProjects:t=P,onSave:n,anchorElement:l,insidePortal:i,owner:s,repo:o,isLoading:d=!1,triggerOpen:u=!1,readonly:p,title:g,getSelectedProjects:h,pickerId:x}){let[C,N]=(0,m.useState)(e),[F,_]=(0,m.useState)(!1),[L,K]=(0,m.useState)(!1),R=(0,I.jE)(),{addToast:M}=(0,c.Y6)(),[V,B]=(0,m.useState)(""),[O,U]=(0,m.useState)(u),$=(0,m.useCallback)(async e=>{_(!0);try{let t=await D(R,{repo:o,owner:s,query:e});N(t),_(!1)}catch{_(!1),M({type:"error",message:r.S.couldNotSearchProjects})}},[s,R,o]),H=(0,y.d)(e=>$(e),b.t.pickerDebounceTime);(0,m.useEffect)(()=>(0===V.length?N(e):H(V),()=>{_(!1)}),[H,V,e]);let z=(0,m.useMemo)(()=>(C?.recentOwnerProjects||[]).filter(e=>!1===e.closed),[C]),q=(0,m.useMemo)(()=>(C?.repositoryProjects||[]).filter(e=>!1===e.closed),[C]),W=(0,m.useMemo)(()=>(C?.ownerProjects||[]).filter(e=>!1===e.closed),[C]),G=(0,m.useMemo)(()=>h?h([...z,...q,...W]):t,[h,t,W,z,q]),[Q,X]=(0,m.useState)(()=>G.map(e=>e.id));(0,m.useEffect)(()=>{X(G.map(e=>e.id))},[G]);let Y=(0,m.useCallback)((e,t)=>{let{title:n,id:a}=t,l=t.hasReachedItemsLimit&&!G.some(e=>e.id===a)?"danger":"default",i=t.hasReachedItemsLimit?"block":"inline";return{text:n,description:t.hasReachedItemsLimit?`${f.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:a,groupId:e,selected:Q.includes(a),disabled:!(p||t.viewerCanUpdate),leadingVisual:S.TableIcon,variant:l}},[G,Q,p]),J=(0,m.useMemo)(()=>{let e=G.map(e=>e.id);return{selected:G,recent:z.filter(t=>!e.includes(t.id)),repository:q.filter(t=>!e.includes(t.id)),organization:W.filter(t=>!e.includes(t.id))}},[G,z,q,W]),Z=(0,m.useMemo)(()=>Object.keys(J).flatMap(e=>{let t=J[e];return t?t.map(t=>Y(e,t)):[]}),[J,Y]),ee=(0,m.useMemo)(()=>Z.filter(e=>e.id&&Q.includes(e.id.toString())),[Q,Z]),et=(0,m.useMemo)(()=>{if(Z.length<1)return[];if(""===V)return Z;let e=Z.filter(e=>(e.text||"").toLowerCase().indexOf(V.trim().toLowerCase())>=0);return e.length<1?[]:e},[V,Z]),en=(0,m.useMemo)(()=>[G.length>0?E:null,z.length>0?T:null,q.length>0?w:null,W.length>0?A:null].filter(e=>null!==e),[G.length,z.length,q.length,W.length]),ea=(0,m.useCallback)(e=>{let t=ee.filter(t=>!e.includes(t)).map(e=>e.id),n=Q;n=[...n,...e.filter(e=>void 0!==e.id).map(e=>e.id)],t.length>0&&(n=n.filter(e=>!t.includes(e))),X([...new Set(n)])},[X,ee,Q]),el=(0,m.useCallback)(()=>{U(!1),B(""),(Q.length!==t.length||Q.some(e=>!t.some(t=>e===t.id)))&&X(t.map(e=>e.id?e.id.toString():""))},[t,Q]),{updateOpenState:ei}=(0,k.t)(),er=(0,v.G7)("issues_react_blur_item_picker_on_close"),es=(0,m.useCallback)((e,t)=>{if(er&&!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==t&&(U(e),ei(x,e),!e)){B(""),ee.filter(e=>"danger"===e.variant).length>0&&K(!0);let e=ee.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);X(e);let t=Object.keys(J).flatMap(e=>J[e]||[]),a=new Map;for(let e of t)a.set(e.id,e);let l=e.map(e=>a.get(e)).filter(e=>void 0!==e);n&&n(l)}},[er,ei,x,ee,n,J]),eo=(0,m.useCallback)(()=>{K(!1)},[K]);return(0,a.jsx)(j.$,{anchorElement:l,title:g,items:et,selectedProjects:ee,groups:en,onOpenChange:es,isDialogOpen:L,handleDialogClose:eo,insidePortal:i,onCancel:el,onSelectionChange:ea,triggerOpen:O,isLoading:d||F,onFilterChange:B,filterValue:V})}function R({repo:e,owner:t,...n}){let[l,i]=(0,m.useState)(!0),[r,o]=(0,m.useState)(0),[c,u]=(0,m.useState)(!1),[p,g]=(0,m.useState)(null),h=(0,I.jE)();(0,m.useEffect)(()=>{d.X3||(async()=>{try{let n=await D(h,{owner:t,repo:e,query:""});g(n),i(!1),u(!1)}catch{u(!0),i(!1)}})()},[r,t,h,e]);let y=(0,m.useRef)(null),{createFallbackComponent:b}=(0,s.j)({errorMessage:f.k.cantEditItems("projects"),anchorElement:e=>n.anchorElement(e,y),open:!0});return c?b(()=>o(e=>e+1)):(0,a.jsx)(K,{projectsData:p,owner:t,repo:e,isLoading:l,...n})}function M({anchorElement:e,triggerOpen:t,...n}){let[l,i]=(0,m.useState)(t),r=(0,m.useCallback)(()=>{l||i(!0)},[l]);return l?(0,a.jsx)(R,{triggerOpen:!0,anchorElement:t=>e(t),...n,pickerId:"list-header-projects-picker"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.ak,{commands:{"item-pickers:open-projects":r}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}try{K.displayName||(K.displayName="SelectPanelWrapper")}catch{}try{R.displayName||(R.displayName="ItemPickerFetcher")}catch{}try{M.displayName||(M.displayName="ProjectPicker")}catch{}var V=n(94747);async function B({ids:e,addToProjectIds:t,removeFromProjectIds:n}){let a=(0,F.R1)(),l=await (0,N.lS)(a,{method:"POST",body:{ids:e,addToProjectIds:t,removeFromProjectIds:n}});return await l.json()}function O({onError:e,onCompleted:t,onMutate:n,issueIds:l,selectedProjects:i,...r}){let{mutate:s}=function({onMutate:e}){return(0,V.n)({mutationFn:async({projects:e,...t})=>{let n=await B(t);return(0,L.A)(n)},onMutate:e})}({onMutate:n}),o=(0,m.useCallback)(n=>{let a=n.filter(e=>!i.some(t=>t.id===e.id)),r=i.filter(e=>!n.some(t=>t.id===e.id));(a.length||r.length)&&s({ids:[...l],addToProjectIds:a.map(e=>e.id),removeFromProjectIds:r.map(e=>e.id?e.id.toString():""),projects:n},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,l,t,e,i]);return(0,a.jsx)(M,{onSave:o,selectedProjects:i,...r})}try{O.displayName||(O.displayName="BulkIssueProjectPicker")}catch{}let U={groupId:"recent",header:{title:"Recent",variant:"filled"}},$={groupId:"repository",header:{title:"Repository",variant:"filled"}},H={groupId:"organization",header:{title:"Organization",variant:"filled"}},z={groupId:"selected"};async function q(e,t){let{owner:n,repo:a,query:r}=t,s=await (0,p.fetchQuery)(e,i,{owner:n,repo:a,query:r},{fetchPolicy:"store-or-network"}).toPromise(),o=(s?.repository?.projectsV2?.nodes??[]).filter(e=>!!e).map(e=>(0,p.readInlineData)(l,e)),d=(s?.repository?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,p.readInlineData)(l,e));return{repositoryProjects:o,recentRepositoryProjects:d,ownerProjects:(s?.repository?.owner?.projectsV2?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,p.readInlineData)(l,e)),recentOwnerProjects:(s?.repository?.owner?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,p.readInlineData)(l,e))}}let W=e=>(0,v.G7)("item_picker_project_tsq_migration")?(0,a.jsx)(O,{...e,onMutate:()=>{}}):(0,a.jsx)(G,{...e}),G=({pickerId:e,issueIds:t,readonly:n,selectedProjects:a,insidePortal:l,anchorElement:i,onCompleted:r,onError:s,nested:o=!1,owner:d,repo:c,triggerOpen:u=!1})=>{let g=(0,p.useRelayEnvironment)(),f=(0,m.useCallback)(e=>{let n=e.filter(e=>!a.some(t=>t.id===e.id)),l=a.filter(t=>!e.some(e=>e.id===t.id));(n.length||l.length)&&function({environment:e,input:{ids:t,addToProjectV2Ids:n,removeFromProjectV2Ids:a},onCompleted:l,onError:i}){(0,p.commitMutation)(e,{mutation:h,variables:{input:{ids:t,addToProjectV2Ids:n,removeFromProjectV2Ids:a}},onCompleted:e=>l&&l(e),onError:e=>i&&i(e)})}({environment:g,input:{ids:[...t],addToProjectV2Ids:n.map(e=>e.id),removeFromProjectV2Ids:l.map(e=>e.id?e.id.toString():"")},onCompleted:({updateIssuesBulk:e})=>{r?.(e?.jobId||void 0)},onError:e=>{s?.(e)}})},[g,t,r,s,a]);return Q({pickerId:e,readonly:n,selectedProjects:[...a],insidePortal:l,onSave:f,anchorElement:i,nested:o,owner:d,repo:c,triggerOpen:u})};function Q(e){return(0,v.G7)("item_picker_project_tsq_migration")?(0,a.jsx)(M,{...e}):(0,a.jsx)(X,{...e})}function X({anchorElement:e,triggerOpen:t,...n}){let[l,i]=(0,m.useState)(t),r=(0,m.useCallback)(()=>{l||i(!0)},[l]);return l?(0,a.jsx)(Y,{triggerOpen:!0,anchorElement:t=>e(t),...n,pickerId:"list-header-projects-picker"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.ak,{commands:{"item-pickers:open-projects":r}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}function Y({repo:e,owner:t,...n}){let l=(0,p.useRelayEnvironment)(),[r,c]=(0,m.useState)(!0),[u,g]=(0,m.useState)(0),[f,h]=(0,m.useState)(!1),[y,b]=(0,m.useState)(null);(0,m.useEffect)(()=>{d.X3||(0,o.SD)({environment:l,query:i,variables:{owner:t,repo:e}}).subscribe({next:e=>{b(e),c(!1),h(!1)},error:()=>{h(!0)}})},[l,u,t,e]);let{createFallbackComponent:k}=(0,s.j)({errorMessage:"Cannot edit projects right now",anchorElement:n.anchorElement,open:!0});return f?k(()=>g(u+1)):(0,a.jsx)(J,{projectsData:y,owner:t,repo:e,isLoading:r,...n})}function J({pickerId:e,selectedProjects:t,projectsData:n,onSave:s,anchorElement:o,insidePortal:d,owner:u,repo:h,isLoading:I=!1,triggerOpen:N=!1,readonly:F,title:_,getSelectedProjects:L}){let[T,w]=(0,m.useState)(n),[A,E]=(0,m.useState)(null),[D,P]=(0,m.useState)(!1),[K,R]=(0,m.useState)(!1),M=(0,p.useRelayEnvironment)(),{addToast:V}=(0,c.Y6)(),[B,O]=(0,m.useState)(""),q=(0,m.useCallback)(e=>{P(!0),E((0,p.fetchQuery)(M,i,{repo:h,owner:u,query:e}).subscribe({next:e=>{null!==e&&w(e),P(!1)},error:()=>{P(!1),V({type:"error",message:r.S.couldNotSearchProjects})}}))},[u,M,h]),W=(0,y.d)(e=>q(e),b.t.pickerDebounceTime);(0,m.useEffect)(()=>(0===B.length?w(n):W(B),A?.unsubscribe(),()=>{P(!1)}),[W,B,n]);let G=(0,m.useMemo)(()=>(T?.repository?.owner?.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,p.readInlineData)(l,e.node)].filter(e=>!1===e.closed):[]),[T]),Q=(0,m.useMemo)(()=>(T?.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,p.readInlineData)(l,e)].filter(e=>!1===e.closed):[]),[T]),X=(0,m.useMemo)(()=>(T?.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,p.readInlineData)(l,e.node)].filter(e=>!1===e.closed):[]),[T]),Y=(0,m.useMemo)(()=>L?L([...G,...Q,...X]):t,[L,t,X,G,Q]),[J,Z]=(0,m.useState)(()=>Y.map(e=>e.id));(0,m.useEffect)(()=>{Z(Y.map(e=>e.id))},[Y,e]);let ee=(0,m.useCallback)((e,t)=>{let{title:n,id:a}=t,l=t.hasReachedItemsLimit&&!Y.some(e=>e.id===a)?"danger":"default",i=t.hasReachedItemsLimit?"block":"inline";return{text:n,description:t.hasReachedItemsLimit?`${f.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:a,groupId:e,selected:J.includes(a),disabled:!(F||t.viewerCanUpdate),leadingVisual:S.TableIcon,variant:l,sx:{wordBreak:"break-word"}}},[Y,J,F]),et=(0,m.useMemo)(()=>({selected:Y,recent:G.filter(e=>!Y.map(function(e){return e.id}).includes(e.id)),repository:Q.filter(e=>!Y.map(function(e){return e.id}).includes(e.id)),organization:X.filter(e=>!Y.map(function(e){return e.id}).includes(e.id))}),[Y,G,Q,X]),en=(0,m.useMemo)(()=>Object.keys(et).flatMap(e=>et[e].map(t=>ee(e,t))),[et,ee]),ea=(0,m.useMemo)(()=>en.filter(e=>e.id&&J.includes(e.id.toString())),[J,en]),el=(0,m.useMemo)(()=>{if(en.length<1)return[];if(""===B)return en;let e=en.filter(e=>(e.text||"").toLowerCase().indexOf(B.trim().toLowerCase())>=0);return e.length<1?[]:e},[B,en]),ei=(0,m.useMemo)(()=>[Y.length>0?z:null,G.length>0?U:null,Q.length>0?$:null,X.length>0?H:null].filter(e=>null!==e),[Y.length,G.length,Q.length,X.length]),er=(0,m.useCallback)(e=>{let t=ea.filter(t=>!e.includes(t)).map(e=>e.id),n=J;n=[...n,...e.filter(e=>void 0!==e.id).map(e=>e.id)],t.length>0&&(n=n.filter(e=>!t.includes(e))),Z([...new Set(n.map(e=>e.toString()))])},[Z,ea,J]),{updateOpenState:es}=(0,k.t)(),[eo,ed]=(0,m.useState)(N);(0,C._)([" "],e=>{if(eo){let t=document.querySelector(x.Z.activePickerOption(g.B.itemPickerRootId));if(t){let n=t.getAttribute("data-id"),a=[...el.values()].find(e=>e.id===n);a&&a.id&&(e.preventDefault(),e.stopPropagation(),Z(e=>{let t=[...e],n=t.indexOf(a.id.toString());return n>-1?t.splice(n,1):t.push(a.id.toString()),t}))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let ec=(0,v.G7)("issues_react_blur_item_picker_on_close"),eu=(0,m.useCallback)(()=>{ed(!1),O(""),(J.length!==t.length||J.some(e=>!t.some(t=>e===t.id)))&&Z(t.map(e=>e.id?e.id.toString():""))},[t,J]),em=(0,m.useCallback)((t,n)=>{if(ec&&!t&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==n&&(ed(t),es(e,t),!t)){O(""),ea.filter(e=>"danger"===e.variant).length>0&&R(!0);let e=ea.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);Z(e),s(e.flatMap(e=>Object.keys(et).flatMap(e=>et[e]).find(t=>t.id===e)||[]).filter((e,t,n)=>n.findIndex(t=>t.id===e.id)===t).filter(e=>void 0!==e))}},[ec,es,e,ea,s,et]),ep=(0,m.useCallback)(()=>{R(!1)},[R]);return(0,a.jsx)(j.$,{anchorElement:o,title:_,items:el,selectedProjects:ea,groups:ei,onOpenChange:em,isDialogOpen:K,handleDialogClose:ep,insidePortal:d,onCancel:eu,onSelectionChange:er,triggerOpen:eo,isLoading:I||D,onFilterChange:O,filterValue:B})}try{G.displayName||(G.displayName="BulkProjectPickerRelay")}catch{}try{Q.displayName||(Q.displayName="ProjectPicker")}catch{}try{X.displayName||(X.displayName="ProjectPickerRelay")}catch{}try{Y.displayName||(Y.displayName="ItemPickerFetcher")}catch{}try{J.displayName||(J.displayName="SelectPanelWrapper")}catch{}},73867:(e,t,n)=>{n.d(t,{R:()=>m});var a=n(74848),l=n(19918),i=n(81945),r=n(71315),s=n(62935);let o=({closed:e,givenDate:t,currentDate:n})=>{let i=e?"short":"long",r=e&&!d(t,n)?void 0:"numeric",o=e&&c(n,t)?"auto":"past",u=e?"auto":"elapsed",m=e?"second":c(t,n)?"month":"day";return(0,a.jsx)(s.A,{date:t,day:"numeric",month:i,tense:d(t,n)?void 0:o,year:r,format:u,precision:m,"data-testid":l.k.testIds.relativeTimeDescription})},d=(e,t)=>{let n=t.getFullYear();return e.getFullYear()<n},c=(e,t)=>{let n=e.getFullYear()-t.getFullYear();return 12*n+(e.getMonth()-t.getMonth())>=1};try{o.displayName||(o.displayName="RelativeTimeDescription")}catch{}let u={danger:"MilestoneDescription-module__danger--uV2jW",subtle:"MilestoneDescription-module__subtle--wCZ7c"},m=({closed:e,closedAt:t,dueOn:n,progressPercentage:s,showProgressPercentage:d=!1})=>{let c=e?t:n;if(!c||!f(c))return l.k.milestones.noDueDate;let m=new Date(c),y=new Date,b=!!n&&new Date(c)<new Date&&!h(m,y);return(0,a.jsx)("div",{className:b&&!e?u.danger:u.subtle,children:r.KJ?(0,a.jsxs)(a.Fragment,{children:[p({isPastDate:b,closed:e}),"\xa0",b||e?(0,a.jsx)(o,{closed:e,givenDate:m,currentDate:y}):g(c),s&&d?l.k.milestones.progressPercentage(s):""]}):(0,a.jsx)(i.O,{variant:"rounded",height:"sm",width:"50%"})})},p=({isPastDate:e,closed:t})=>t?l.k.milestones.milestoneClosed:e?l.k.milestones.pastDue:l.k.milestones.milestoneDue,g=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),f=e=>!isNaN(new Date(e).getTime()),h=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getUTCDate()===t.getUTCDate();try{m.displayName||(m.displayName="MilestoneDescription")}catch{}},74731:(e,t,n)=>{n.d(t,{d:()=>l,t:()=>a});let a={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},l=Object.values(a.queryParams)},75735:(e,t,n)=>{n.d(t,{_:()=>r});var a=n(5570),l=n(37351),i=n(44953);function r(e,t,n,r){return(0,l._)(e,t),(0,i._)(n,"set"),(0,a._)(e,n,r),r}},76143:(e,t,n)=>{n.d(t,{D:()=>i,Y:()=>r});var a=n(4559),l=n(71315);function i(e){if(!l.XC)return;let t=l.XC.querySelector("title"),n=l.XC.createElement("title");n.textContent=e,t?t.textContent!==e&&(t.replaceWith(n),(0,a.i)(e)):(l.XC.head.appendChild(n),(0,a.i)(e))}function r(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},76214:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(74848),l=n(34164);function i({children:e,className:t=""}){return(0,a.jsx)("div",{className:(0,l.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",t),children:e})}try{i.displayName||(i.displayName="Panel")}catch{}},77430:(e,t,n)=>{n.d(t,{r:()=>s});var a=n(74848),l=n(71315),i=n(87448),r=n(96540);let s=(0,r.forwardRef)(function({src:e,size:t=20,sx:n,...s},o){let d=(0,r.useMemo)(()=>{let n=new URL(e,l.fV.origin);return n.searchParams.has("size")||n.searchParams.has("s")||n.searchParams.set("size",String(2*Number(t))),n.toString()},[e,t]);return(0,a.jsx)(i.eu,{ref:o,src:d,size:t,"data-testid":"github-avatar",sx:n,...s})});try{s.displayName||(s.displayName="GitHubAvatar")}catch{}},79403:(e,t,n)=>{n.d(t,{Zf:()=>i,bV:()=>r,m5:()=>o,tT:()=>a,wK:()=>l});let a={repositoriesPreloadCount:5,localStorageMetadataKeys:{issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueIssueType:e=>`${e}.create-issue-type`,issueIssueFields:e=>`${e}.create-issue-fields`},localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`},localTitleAndBodyStorageKeys:{issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function l(e){return Object.values({...a.localStorageKeys,...a.localStorageMetadataKeys,...a.localTitleAndBodyStorageKeys}).map(t=>t(e))}function i(e){return Object.values(a.localStorageMetadataKeys).map(t=>t(e))}function r(e){return Object.values(a.localTitleAndBodyStorageKeys).map(t=>t(e))}let s={title:a.localTitleAndBodyStorageKeys.issueTitle,body:a.localTitleAndBodyStorageKeys.issueBody};function o(e){return Object.values(s).map(t=>t(e))}},80154:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(41917),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=l&&"object"==typeof module&&module&&!module.nodeType&&module,r=i&&i.exports===l?a.A.Buffer:void 0,s=r?r.allocUnsafe:void 0;let o=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}},81075:(e,t,n)=>{n.d(t,{_:()=>r});var a=n(50894),l=n(37351),i=n(44953);function r(e,t,n){return(0,l._)(e,t),(0,i._)(n,"get"),(0,a._)(e,n)}},81156:(e,t,n)=>{n.d(t,{t:()=>a});let a={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,t,n)=>`${e}-i${t}-c${n}.view-issue-comment`,issueNewComment:(e,t)=>`${e}-i${t}.view-issue-comment-new`}}},81289:(e,t,n)=>{n.d(t,{y:()=>r});var a=n(74848),l=n(83494),i=n(96540);function r({anchorElement:e,createChild:t,keybindingCommandId:n}){let[r,s]=(0,i.useState)(!1),o=(0,i.useRef)(null),d=(0,i.useCallback)(()=>{r||s(!0)},[r,s]);return r?t():(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(l.ak,{commands:{[n]:d}}),e({onClick:()=>s(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),s(!0))}},o)]})}try{r.displayName||(r.displayName="LazyItemPicker")}catch{}},81709:(e,t,n)=>{n.d(t,{j:()=>o});var a=n(74848),l=n(73454),i=n(31604),r=n(96540);let s={errorOverlayContainer:"useItemPickerErrorFallback-module__errorOverlayContainer--Z5I2C",errorWithRetry:"useItemPickerErrorFallback-module__errorWithRetry--kl8Hn"};function o({errorMessage:e,anchorElement:t,open:n=!1}){let[o,d]=(0,r.useState)(n);return{createFallbackComponent:(0,r.useCallback)(n=>t?(0,a.jsx)(i.T,{width:"medium",height:"small",open:o,onOpen:()=>d(!0),onClose:()=>d(!1),renderAnchor:t,children:(0,a.jsx)("div",{className:s.errorOverlayContainer,children:(0,a.jsx)(l.h,{message:e,retry:n,className:s.errorWithRetry})})}):null,[t,e,o])}}},81724:(e,t,n)=>{n.d(t,{$K:()=>l,AI:()=>c,Al:()=>r,GQ:()=>i,rp:()=>a,t7:()=>o,yJ:()=>s});let a="Blank issue",l="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function r(e){return"IssueTemplate"===e.__typename}function s(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},d={name:a,fileName:l,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:l,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function c(){return d}},81945:(e,t,n)=>{n.d(t,{O:()=>d});var a=n(87448),l=n(38267);let i=(0,l.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),r=(0,l.AH)(["animation:"," 1.5s infinite linear;"],i),s=(0,l.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),o=(0,l.AH)(["animation:"," 2s infinite linear;"],s),d=(0,l.Ay)(a.az).withConfig({displayName:"LoadingSkeleton",componentId:"sc-ff22872e-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&o,({animationStyle:e})=>"pulse"!==e&&r,(0,a.yB)("colors.neutral.subtle"),(0,a.yB)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,a.yB)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},a.sx);try{d.displayName||(d.displayName="LoadingSkeleton")}catch{}},82075:(e,t,n)=>{n.d(t,{A:()=>r,D:()=>s});var a=n(71315),l=n(11083);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function r(e,t={throwQuotaErrorsOnSet:!1},n=a.cg,s=e=>e,o=e=>e){let d;try{if(!n)throw Error();d=n[e]||new i}catch{d=new i}let{throwQuotaErrorsOnSet:c}=t;function u(e){t.sendCacheStats&&(0,l.i)({incrementKey:e})}function m(e){try{if(d.removeItem(e),t.ttl){let t=`${e}:expiry`;d.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let n=d.getItem(e);if(!n)return null;let a=`${e}:expiry`,l=Number(d.getItem(a));if(l&&t>l)return m(e),m(a),u("SAFE_STORAGE_VALUE_EXPIRED"),null;return u("SAFE_STORAGE_VALUE_WITHIN_TTL"),s(n)}catch{return null}},setItem:function(e,n,a=Date.now()){try{if(d.setItem(e,o(n)),t.ttl){let n=`${e}:expiry`,l=a+t.ttl;d.setItem(n,l.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:m,clear:d.clear,getKeys:function(){return Object.keys(d)},get length(){return d.length}}}function s(e){return r(e,{throwQuotaErrorsOnSet:!1},a.cg,JSON.parse,JSON.stringify)}},82550:(e,t,n)=>{n.d(t,{B:()=>r});var a=n(74848),l=n(96540),i=n(25556);function r({includeAriaAttributes:e=!0,...t}){let n=(0,l.useId)(),[r,s]=(0,l.useState)(!1),o=t.open??r,d=t.id??n,c=e?{"aria-describedby":d}:{},u=(0,l.useCallback)(()=>s(!0),[]),m=(0,l.useCallback)(()=>s(!1),[]);return[{...c,onPointerEnter:u,onPointerLeave:m,onFocus:u,onBlur:m},(0,a.jsx)(i.m,{...t,open:o,id:d},"portal-tooltip"),()=>s(!r)]}},83001:(e,t,n)=>{n.d(t,{u:()=>y,R:()=>f});var a=n(74848),l=n(19918),i=n(81289),r=n(81709),s=n(51928),o=n(97665),d=n(71315),c=n(96540),u=n(96379),m=n(47544);async function p({owner:e,repo:t,query:n,count:a}){let l={owner:e,repo:t};n&&(l.query=n),a&&(l.count=a);let i=(0,m.JF)("issue_types",l),r=await (0,u.lS)(i);return await r.json()}var g=n(73049);async function f(e,{owner:t,repo:n,query:a,count:l}){return await e.fetchQuery({queryKey:["item_picker","issue_types",{owner:t,repo:n,query:a,count:l}],queryFn:async()=>{let e=await p({owner:t,repo:n,query:a,count:l});return{issueTypes:(0,g.A)(e).data.repository.issueTypes.edges.map(e=>e.node)}}})}function h({repo:e,owner:t,...n}){let[i,u]=(0,c.useState)(!0),[m,p]=(0,c.useState)(0),[g,h]=(0,c.useState)(!1),[y,b]=(0,c.useState)(null),k=(0,o.jE)();(0,c.useEffect)(()=>{d.X3||(async()=>{try{let n=await f(k,{owner:t,repo:e,query:""});b(n),u(!1),h(!1)}catch{h(!0),u(!1)}})()},[m,t,k,e]);let x=(0,c.useRef)(null),{createFallbackComponent:C}=(0,r.j)({errorMessage:l.k.cantEditItems("types"),anchorElement:e=>n.anchorElement(e,x),open:!0});return g?C(()=>p(e=>e+1)):(0,a.jsx)(s.f,{issueTypes:y?.issueTypes??[],isLoading:i,...n})}function y({repo:e,owner:t,anchorElement:n,readonly:l,activeIssueType:r,...s}){return(0,a.jsx)(i.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:(e,t)=>n(e,t),createChild:()=>(0,a.jsx)(h,{repo:e,owner:t,readonly:l,activeIssueType:r,triggerOpen:!0,anchorElement:n,...s}),insidePortal:s.insidePortal})}try{h.displayName||(h.displayName="ItemPickerFetcher")}catch{}try{y.displayName||(y.displayName="IssueTypePicker")}catch{}},83878:(e,t,n)=>{n.d(t,{N:()=>a});function a(e,t){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===t}},84171:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(17299);let l=function(){try{var e=(0,a.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},84363:(e,t,n)=>{n.d(t,{t:()=>l});var a=n(59403);let l=({items:e,filter:t,key:n,secondaryKey:l})=>{let i=e.map(e=>[(0,a.dt)(t,n(e)),e]);return l&&(i=i.map(([e,n])=>[Math.max(e,(0,a.dt)(t,l(n))),n])),i.filter(([e])=>e>a.IP).sort(([e,t],[a,l])=>a===e?n(t).localeCompare(n(l)):a-e).map(([,e])=>e)}},84929:(e,t,n)=>{n.d(t,{H:()=>l});var a=n(2940);function l(e,t){let n,l,p=t?.additionalDigits??2,g=function(e){let t,n={},a=e.split(i.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=i.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(g.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};let l=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?l:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(g.date,p);n=function(e,t){var n,a,l,i,s,o,c;if(null===t)return new Date(NaN);let p=e.match(r);if(!p)return new Date(NaN);let g=!!p[4],f=d(p[1]),h=d(p[2])-1,y=d(p[3]),b=d(p[4]),k=d(p[5])-1;if(g){return(n=b,a=k,n>=1&&n<=53&&a>=0&&a<=6)?function(e,t,n){let a=new Date(0);a.setUTCFullYear(e,0,4);let l=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+n+1-l)),a}(t,b,k):new Date(NaN)}{let e=new Date(0);return(l=t,i=h,s=y,i>=0&&i<=11&&s>=1&&s<=(u[i]||(m(l)?29:28))&&(o=t,(c=f)>=1&&c<=(m(o)?366:365)))?(e.setUTCFullYear(t,h,Math.max(f,y)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);let f=n.getTime(),h=0;if(g.time&&isNaN(h=function(e){var t,n,l;let i=e.match(s);if(!i)return NaN;let r=c(i[1]),o=c(i[2]),d=c(i[3]);return(t=r,n=o,l=d,24===t?0===n&&0===l:l>=0&&l<60&&n>=0&&n<60&&t>=0&&t<25)?r*a.s0+o*a.Cg+1e3*d:NaN}(g.time)))return new Date(NaN);if(g.timezone){if(isNaN(l=function(e){var t;if("Z"===e)return 0;let n=e.match(o);if(!n)return 0;let l="+"===n[1]?-1:1,i=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return(t=r)>=0&&t<=59?l*(i*a.s0+r*a.Cg):NaN}(g.timezone)))return new Date(NaN)}else{let e=new Date(f+h),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(f+h+l)}let i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function c(e){return e&&parseFloat(e.replace(",","."))||0}let u=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}},85757:(e,t,n)=>{n.d(t,{b:()=>s});var a=n(74848),l=n(96901),i=n(46173),r=n(40846);let s=()=>(0,a.jsx)(r.C,{variant:"danger",ariaLabel:l.k.spammyBadgeTooltip,label:l.k.spammyBadge,testId:i.Y.spammyLabel});try{s.displayName||(s.displayName="SpammyBadge")}catch{}},88057:(e,t,n)=>{n.d(t,{Ex:()=>r,kt:()=>o,xA:()=>s});var a=n(71315);let l=Array(10).fill(null),i=0;function r(e){l[i]=e,i=(i+1)%10}function s(){let e=[];for(let t=0;t<10;t++){let n=l[(i-1-t+10)%10];n&&e.push(n)}return e}function o(){let e=a.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),n=t?.getAttribute("content");n&&r(n)}},88098:(e,t,n)=>{n.d(t,{u:()=>s});var a=n(74848),l=n(21728),i=n(34164);let r={diffSquare:"DiffSquares-module__diffSquare--KZMTU",addition:"DiffSquares-module__addition--kxGde",deletion:"DiffSquares-module__deletion--vyEtU",neutral:"DiffSquares-module__neutral--_tGgY"};function s(e){let t,n,i=(0,l.c)(4),{squares:r}=e;return i[0]!==r?(t=r.map(o),i[0]=r,i[1]=t):t=i[1],i[2]!==t?(n=(0,a.jsx)("div",{className:"d-flex",children:t}),i[2]=t,i[3]=n):n=i[3],n}function o(e,t){return(0,a.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,i.$)(r.diffSquare,r[e])},t)}try{s.displayName||(s.displayName="DiffSquares")}catch{}},89064:(e,t,n)=>{n.d(t,{l:()=>a});let a={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},89252:(e,t,n)=>{n.d(t,{Al:()=>c,Ui:()=>o,ff:()=>g,ic:()=>u,nS:()=>m,ub:()=>p});var a=n(65411),l=n(82075),i=n(96540);let r=(0,l.A)("localStorage"),s={production:"https://api.githubcopilot.com/agents/github-classifier"};function o(){let[e]=(0,i.useState)(()=>new a.J([]));return e}async function d(e){if(!e.ok)return null;try{let t=await e.text(),n=t.split(`
`)[0]?.substring(6);if(!n)return null;return JSON.parse(JSON.parse(n).choices[0].message.content)}catch{return null}}async function c(e,t,n){let a=s.production;try{let l=await fetch(a,{method:"POST",mode:"cors",cache:"no-cache",headers:{Authorization:e.authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:t,copilot_references:n}]})});return await d(l)}catch{return null}}let u=e=>"true"===r.getItem(`copilot-suggested-type-dismiss/${e}`),m=e=>"true"===r.getItem(`copilot-suggested-labels-dismiss/${e}`),p=e=>{r.setItem(`copilot-suggested-type-dismiss/${e}`,"true")},g=e=>{r.setItem(`copilot-suggested-labels-dismiss/${e}`,"true")}},89830:(e,t,n)=>{n.d(t,{s:()=>p});var a=n(74848),l=n(38621),i=n(35073),r=n(81960),s=n(10095),o=n(34164);let d={timelineRowItem:"TimelineRow-module__timelineRowItem--EN_EF",timelineRowBadge:"TimelineRow-module__timelineRowBadge--Lyy1u",bottom:"TimelineRow-module__bottom--UHzX3",top:"TimelineRow-module__top--l0ZlZ"},c=()=>(0,a.jsx)(s.A,{icon:l.GitCommitIcon});function u({children:e,leadingVisual:t,clipTimeline:n="none",className:l}){return(0,a.jsxs)(i.A.Item,{className:(0,o.$)(l,d.timelineRowItem,"none"!==n&&d[n]),children:[(0,a.jsx)(i.A.Badge,{className:d.timelineRowBadge,children:t??(0,a.jsx)(c,{})}),(0,a.jsx)(i.A.Body,{className:"mt-0",children:e})]})}function m({title:e,as:t,...n}){return(0,a.jsx)(r.A,{as:t,className:"text-normal f5 py-1",...n,children:e})}let p=Object.assign(u,{Heading:m});try{c.displayName||(c.displayName="DefaultLeadingVisual")}catch{}try{u.displayName||(u.displayName="TimelineRowComponent")}catch{}try{m.displayName||(m.displayName="TimelineRowHeading")}catch{}try{p.displayName||(p.displayName="TimelineRow")}catch{}},89946:(e,t,n)=>{n.d(t,{A:()=>a});let a={skeletonContainer:"TemplateList-module__skeletonContainer--fU4Ip",templateHeader:"TemplateList-module__templateHeader--_jTSZ"}},90565:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(43988);let l=function(e){var t=new e.constructor(e.byteLength);return new a.A(t).set(new a.A(e)),t}},90651:(e,t,n)=>{n.d(t,{S:()=>r});var a=n(79403),l=n(50167);let i={singleKeyShortcutsEnabled:!1,showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0,copilotShowFunctionality:!1},r=e=>{let t={...i,...e},n={storageKeyPrefix:(t.issueCreateArguments?.repository?`${t.issueCreateArguments?.repository.owner}-${t.issueCreateArguments?.repository.name}`:void 0)??t.storageKeyPrefix??a.tT.storageKeyPrefixes.defaultFallback};return{...t,...n,getDefaultDisplayMode:e=>t.defaultDisplayMode??e??l.q.TemplatePicker}}},90921:(e,t,n)=>{n.d(t,{D:()=>A,U:()=>T});var a=n(74848),l=n(19918),i=n(81289),r=n(81709),s=n(69599),o=n(49275),d=n(38143),c=n(86391),u=n(43258),m=n(46747),p=n(96540),g=n(38621),f=n(73867),h=n(67126),y=n(24453);let b={MilestoneFilterItem:"ItemPickerMilestone-module__MilestoneFilterItem--fSFTu",MilestoneItem:"ItemPickerMilestone-module__MilestoneItem--J0_9F"},k={groupId:"open",header:{title:"Open",variant:"filled"}},x={groupId:"closed",header:{title:"Closed",variant:"filled"}};function C({repo:e,owner:t,milestones:n,repositoryId:i,activeMilestone:r,onSelectionChange:C,insidePortal:v,anchorElement:S,nested:j,triggerOpen:I,initialFilter:N,isLoading:F,setIsLoading:_,noMilestoneItem:L,showMilestoneDescription:T,title:w,canCreateMilestone:A,fetchMilestones:E,onCreate:D,showNoMatchItem:P=!1}){let[K,R]=(0,p.useState)(""),[M,V]=(0,p.useState)(!1),[B,O]=(0,p.useState)(),[U,$]=(0,p.useState)([]),{addToast:H}=(0,u.Y6)(),z=(0,p.useMemo)(()=>{if(void 0!==B&&B.length>0)return B;let e=n.slice().sort((e,t)=>e.title.localeCompare(t.title)).concat(U);return(L&&e.unshift(o.v.noMilestoneData),K)?e.filter(e=>e.title.toLowerCase().indexOf(K.toLowerCase())>=0):e},[n,K,U,L,B]),q=L&&L.selected,W=(0,p.useMemo)(()=>L?z.filter(e=>!1===e.closed):[],[L,z]),G=(0,p.useCallback)(async n=>{V(!0),R(n);try{let a=await E({query:n,owner:t,repo:e,count:10});void 0!==a&&(L&&(0,y.O)(n,L.source?.title??"")&&a.unshift(o.v.noMilestoneData),O(a))}catch{H({type:"error",message:h.S.couldNotSearchMilestones})}finally{V(!1)}},[H,E,L,t,e]),Q=(0,m.d)(e=>G(e),d.t.pickerDebounceTime),X=(0,p.useCallback)(async e=>{let t=e.trim();if(K!==t){if(""===t){O(void 0),R(t);return}Q(t)}},[Q,K]),Y=(0,p.useCallback)(e=>e.id,[]),J=(0,p.useCallback)((e,t,n)=>{n.preventDefault(),n.stopPropagation(),i&&(_(!0),D({repositoryId:i,title:t.title},{onError:()=>{H({type:"error",message:h.S.couldNotCreateMilestone}),_(!1)},onSuccess:e=>{e&&$([{...e,__isNew__:!0},...U]),_(!1)}}))},[H,U,D,i,_]),Z=(0,p.useCallback)(e=>{if(L&&e.id===o.v.noMilestoneData.id)return{...L};if(e.id===K)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:g.PlusIcon,className:b.MilestoneFilterItem,onAction:(t,n)=>J(t,e,n)};let{closed:t,closedAt:n,progressPercentage:l,dueOn:i}=e;return{id:e.id,text:e.title,description:T?(0,a.jsx)(f.R,{closed:t,closedAt:n,progressPercentage:l,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",className:b.MilestoneItem,source:e,groupId:e.closed?x.groupId:k.groupId,leadingVisual:()=>(0,a.jsx)(g.MilestoneIcon,{size:16})}},[J,K,L,T]),ee=(0,p.useMemo)(()=>{let e=[];return z.some(e=>!e.closed)&&e.push(k),z.some(e=>e.closed)&&e.push(x),e},[z]);L&&q&&(r=o.v.noMilestoneData);let et=(0,p.useRef)(null),en=(0,p.useMemo)(()=>r?[r]:[],[r]),ea=(0,p.useMemo)(()=>{let e=!M&&!K&&0===z.length,t=!P&&!!K&&0===z.length;return e||t},[K,M,z.length,P]),el=(0,s.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,a.jsx)(c.O,{loading:F||M,items:L?W:z,initialSelectedItems:en,filterItems:X,title:w??l.k.milestonesHeader,getItemKey:Y,convertToItemProps:Z,placeholderText:`Filter milestones ${n.length>=d.t.milestonesMaxPreloadCount?`(${d.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:C,groups:L?void 0:ee,renderAnchor:e=>S(e,et),insidePortal:v,height:"large",width:"medium",nested:j,resultListAriaLabel:"Milestone results",triggerOpen:I,initialFilter:N,selectPanelRef:et,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:A&&P&&K?{id:K,closed:!1,progressPercentage:0,title:K,url:""}:void 0,improvedNoMatchAccessibility:ea,noMatchMessage:ea?{title:"No milestones were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,responsiveOnNarrow:el})}try{C.displayName||(C.displayName="MilestonePickerBase")}catch{}var v=n(97665),S=n(71315),j=n(96379),I=n(47544);async function N({owner:e,repo:t,query:n,count:a}){let l={owner:e,repo:t};n&&(l.query=n),a&&(l.count=a);let i=(0,I.JF)("milestones",l),r=await (0,j.lS)(i);return await r.json()}var F=n(73049),_=n(94747);async function L(e){let t=(0,I.kP)("milestones");return(await (0,j.lS)(t,{method:"POST",body:e})).json()}async function T(e,{owner:t,repo:n,query:a,count:l}){return await e.fetchQuery({queryKey:["item_picker","milestones",{owner:t,repo:n,query:a,count:l}],queryFn:async()=>{var e;let i=await N({owner:t,repo:n,query:a,count:l});return{milestones:(e=(0,F.A)(i).data).repository.milestones.nodes,repositoryId:e.repository.id}}})}function w({repo:e,owner:t,...n}){let[i,s]=(0,p.useState)(!0),[o,d]=(0,p.useState)(0),[c,u]=(0,p.useState)(!1),[m,g]=(0,p.useState)(null),f=(0,v.jE)(),{mutate:h}=(0,_.n)({mutationFn:async e=>{let t=await L(e);return(0,F.A)(t).data.createMilestone.milestone}});(0,p.useEffect)(()=>{S.X3||(async()=>{try{let n=await T(f,{owner:t,repo:e,query:""});g(n),s(!1),u(!1)}catch{u(!0),s(!1)}})()},[o,t,f,e]);let y=(0,p.useRef)(null),{createFallbackComponent:b}=(0,r.j)({errorMessage:l.k.cantEditItems("milestones"),anchorElement:e=>n.anchorElement(e,y),open:!0}),k=(0,p.useCallback)(async e=>(await T(f,e)).milestones,[f]),x=(0,p.useCallback)((e,{onSuccess:t,onError:n})=>{h(e,{onSuccess:t,onError:n})},[h]);return c?b(()=>d(e=>e+1)):(0,a.jsx)(C,{repo:e,owner:t,repositoryId:m?.repositoryId??"",milestones:m?.milestones??[],isLoading:i,setIsLoading:s,fetchMilestones:k,onCreate:x,...n})}function A({repo:e,owner:t,anchorElement:n,readonly:l,activeMilestone:r,noMilestoneItem:s,...o}){return(0,a.jsx)(i.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:(e,t)=>n(e,t),createChild:()=>(0,a.jsx)(w,{repo:e,owner:t,readonly:l,initialFilter:"",activeMilestone:r,triggerOpen:!0,anchorElement:n,noMilestoneItem:s,...o}),insidePortal:o.insidePortal})}try{w.displayName||(w.displayName="ItemPickerFetcher")}catch{}try{A.displayName||(A.displayName="MilestonePicker")}catch{}},91618:(e,t,n)=>{n.d(t,{z:()=>s});var a=n(74848),l=n(21728),i=n(88098);let r={addition:"addition",deletion:"deletion",neutral:"neutral"};function s(e){let t,n,s,o,d,c,u,m=(0,l.c)(20),{linesAdded:p,linesDeleted:g,linesChanged:f}=e,h=void 0===p?0:p,y=void 0===g?0:g,b=void 0===f?0:f;if(!h&&!y&&!b||0===b)return null;if(m[0]!==h||m[1]!==b||m[2]!==y){let{greenSquares:e,redSquares:n,graySquares:a}=function(e,t,n){let a=n>5?5/n:1,l=Math.floor(e*a),i=Math.floor(t*a);return{greenSquares:l,redSquares:i,graySquares:5-l-i}}(h,y,b);t=[...Array(e).fill(r.addition),...Array(n).fill(r.deletion),...Array(a).fill(r.neutral)],m[0]=h,m[1]=b,m[2]=y,m[3]=t}else t=m[3];let k=t;return m[4]!==h?(n=h>0&&(0,a.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-success",children:["+",h.toLocaleString()]}),m[4]=h,m[5]=n):n=m[5],m[6]!==y?(s=y>0&&(0,a.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-danger",children:["-",y.toLocaleString()]}),m[6]=y,m[7]=s):s=m[7],m[8]!==h||m[9]!==y?(o=function({linesAdded:e,linesDeleted:t}){let n="Lines changed: ";return n+`${e} ${1===e?"addition":"additions"} & ${t} ${1===t?"deletion":"deletions"}`}({linesAdded:h,linesDeleted:y}),m[8]=h,m[9]=y,m[10]=o):o=m[10],m[11]!==o?(d=(0,a.jsx)("span",{className:"sr-only",children:o}),m[11]=o,m[12]=d):d=m[12],m[13]!==k?(c=(0,a.jsx)(i.u,{squares:k}),m[13]=k,m[14]=c):c=m[14],m[15]!==n||m[16]!==s||m[17]!==d||m[18]!==c?(u=(0,a.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[n,s,d,c]}),m[15]=n,m[16]=s,m[17]=d,m[18]=c,m[19]=u):u=m[19],u}try{s.displayName||(s.displayName="DiffStats")}catch{}},91835:(e,t,n)=>{n.d(t,{x:()=>a});let a=n(5990).n.ActionButton},92858:(e,t,n)=>{n.d(t,{Y:()=>a});let a={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},93513:(e,t,n)=>{n.d(t,{k:()=>a});let a={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields",hideMoreProjectFields:"Hide project fields"}},93997:(e,t,n)=>{n.d(t,{EV:()=>g,wT:()=>f});let a={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};a.hash="42088521ac42578bd97d0c028fb7c724";let l={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};l.hash="24f8dd5ecd9933b50c9524b6f6076b3a";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var r=n(19720),s=n(32050),o=n(96540),d=n(69487),c=n(17831),u=n(50167),m=n(81724),p=n(94007);let g=e=>{let t,n=(0,d.readInlineData)(i,e);if(n.issueTemplate){let e=(0,d.readInlineData)(a,n.issueTemplate);t={name:e.name,fileName:e.filename,kind:m.t7.IssueTemplate,data:e}}else if(n.issueForm){let e=(0,d.readInlineData)(l,n.issueForm);t={name:e.name,fileName:e.filename,kind:m.t7.IssueForm,data:e}}return t},f=({optionConfig:e,repository:t,navigate:n,setDisplayMode:a})=>{let{setTemplate:l,reinitTitle:i,reinitBody:d,reinitAssignees:g,reinitLabels:f,reinitProjects:h,reinitMilestone:y,reinitIssueType:b}=(0,c.u)();return(0,o.useCallback)((o,c,k=!1)=>{l(o);let x="";if(c?.discussion)x=c.discussion.title;else if(c?.title)x=c.title||"";else{let e=o?.data.title||"",t="";c?.appendTitleToTemplate&&(t=` ${c.appendTitleToTemplate}`),x=[e,t].join("").trimStart()}i(x);let C="";c?.discussion?C=c.discussion.formattedBody||"":c?.body?C=c.body||"":o&&((0,m.Al)(o.data)||(0,m.yJ)(o.data))&&(C=o.data.body||""),d(C);f(c?.discussion?c.discussion?.labels||[]:c?.labels?c.labels:o?.data.labels?.edges?.flatMap(e=>e?.node?[(0,s.P5)(e?.node)]:[])||[]),g(c?.assignees??((o?.data.assignees?.edges||[]).flatMap(e=>e?.node?[(0,r.uX)(e?.node)]:[])||[])),c?.projects?h(c.projects):o&&(0,m.GQ)(o?.data)&&h(o.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),c?.milestone&&y(c?.milestone);let v=c?.type??null;o&&!v&&((0,m.GQ)(o.data)||(0,m.Al)(o.data))&&void 0!==o.data.type&&(v=o.data.type||null),b(v??null),(!c||k)&&(e.navigateToFullScreenOnTemplateChoice&&t&&o?n((0,p.Qy)(t.nameWithOwner,o.fileName)):a(u.q.IssueCreation))},[l,i,d,f,g,b,h,y,e.navigateToFullScreenOnTemplateChoice,t,n,a])}},94007:(e,t,n)=>{n.d(t,{E2:()=>p,Hx:()=>g,Qg:()=>m,Qy:()=>s,RG:()=>c,TV:()=>h,Zi:()=>u,jk:()=>o,pM:()=>f});var a=n(71315),l=n(74731);let i="/issues/new",r=`${i}/choose`,s=(e,t)=>{let n=new URLSearchParams(a.fV.search||"");return n.set("template",t),`/${e}/issues/new?${n.toString()}`},o=e=>d(e,r),d=(e,t)=>e.endsWith("/")?e.substring(0,e.length-1)+t:e+t,c=({repositoryAbsolutePath:e,fileName:t})=>{let n=new URL(d(e,i),a.cg?.location?.origin),r=new URLSearchParams(n.search);return r.set(l.t.queryParams.template,t),n.search=r.toString(),n.toString()},u=e=>{let t=e??new URLSearchParams(a.cg?.location?.search||""),n={};for(let[e,a]of t)if(l.d.includes(e))continue;else null===a?n[e]="":n[e]=a.substring(0,l.t.maxQueryLengthLimits.body);return n},m=(e,t,n)=>{let a=e.get(t);if(null!==a)return a.substring(0,n)},p=(e,t,n,a)=>{void 0!==n&&e.set(t,n.substring(0,a))},g=(e,t,n,a)=>{n&&e.set(t,n.slice(0,a).join(","))};function f(){return`/login?return_to=${a.fV?.href}`}function h(e){return`/${e}/issues/new/choose`}},94252:(e,t,n)=>{n.d(t,{K:()=>s});var a=n(25407),l=n(96540),i=n(17831),r=n(81724);let s=({issueFormRef:e,callback:t,handleTemplateChange:n,navigate:s,template:o})=>{let{clearTitleAndBody:d,clearSessionData:c,clearSessionMetadata:u,clearSessionTitleAndBody:m,clearSessionCreateMore:p}=(0,i.u)(),g=(0,l.useCallback)(({issue:l,createMore:i})=>{t?.({issue:l,createMore:i}),i?(o&&o.kind!==r.t7.BlankIssue?o:void 0)?(m(),n(o)):d():(e.current?.clearSessionStorage(),c(),s?.((0,a.dRG)({owner:l.repository.owner.login,repo:l.repository.name,issueNumber:l.number})))},[t,e,o,m,n,d,c,s]);return(0,l.useEffect)(()=>()=>{u(),p()},[p,u]),g}},94416:(e,t,n)=>{n.d(t,{BW:()=>l,Ff:()=>p,HK:()=>k,JA:()=>I,LM:()=>g,Pv:()=>v,Vy:()=>m,ZW:()=>C,dR:()=>x,di:()=>f,fX:()=>S,gc:()=>j,k9:()=>b,my:()=>y,r7:()=>N,wG:()=>h,xT:()=>u});var a=n(95800);let l="reload",i="soft-nav:fail",r="soft-nav:fail-referrer",s="soft-nav:referrer",o="soft-nav:marker",d="soft-nav:react-app-name",c="soft-nav:latest-mechanism";function u(){(0,a.SO)(o,"0"),(0,a.Ai)(s),(0,a.Ai)(i),(0,a.Ai)(r),(0,a.Ai)(d),(0,a.Ai)(c)}function m(e){(0,a.SO)(o,e)}function p(){(0,a.SO)(o,"0")}function g(){let e=(0,a.Gq)(o);return e&&"0"!==e}function f(){return(0,a.Gq)(o)}function h(){return!!y()}function y(){return(0,a.Gq)(i)}function b(e){(0,a.SO)(i,e||l),(0,a.SO)(r,window.location.href)}function k(){(0,a.SO)(s,window.location.href)}function x(){return(0,a.Gq)(s)||document.referrer}function C(){let e=S();e?(0,a.SO)(d,e):(0,a.Ai)(d)}function v(){return(0,a.Gq)(d)}function S(){return document.querySelector("projects-v2")?"memex":document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function j(){return!!document.querySelector("react-app")?.getAttribute("app-name")||!!document.querySelector("projects-v2")}function I(e){(0,a.SO)(c,e)}function N(){return(0,a.Gq)(c)}},95800:(e,t,n)=>{n.d(t,{Ai:()=>i,Gq:()=>a,SO:()=>l});let{getItem:a,setItem:l,removeItem:i}=(0,n(82075).A)("sessionStorage")},96480:(e,t,n)=>{n.d(t,{a:()=>d,o:()=>o});var a=n(74848),l=n(40104),i=n(96540),r=n(79403);let s=(0,i.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:t,children:n}){let{issueCreateMore:o}=r.tT.localStorageKeys,[d,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1),[p,g]=(0,l.Fo)(`config.${o(e.storageKeyPrefix)}`,!1),[f,h]=(0,i.useState)({owner:"",repo:"",number:void 0}),y=e.getDefaultDisplayMode(t),[b,k]=(0,i.useState)(y),x=(0,i.useRef)(null),C=(0,i.useMemo)(()=>({optionConfig:e,createMore:p,setCreateMore:g,createMoreCreatedPath:f,setCreateMoreCreatedPath:h,displayMode:b,setDisplayMode:k,initialDefaultDisplayMode:y,isSubmitting:d,isFileUploading:u,setIsFileUploading:m,setIsSubmitting:c,onCreateAction:x,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id}),[e,p,g,f,h,b,y,d,u]);return(0,a.jsx)(s.Provider,{value:C,children:n})}let d=()=>{let e=(0,i.useContext)(s);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e};try{s.displayName||(s.displayName="IssueCreateContext")}catch{}try{o.displayName||(o.displayName="IssueCreateConfigContextProvider")}catch{}},96760:(e,t,n)=>{n.d(t,{Bq:()=>l,Sp:()=>r,mU:()=>a,tD:()=>i});let a={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},l={issueCommentComposer:"react-issue-comment-composer"};function i(){var e,t;let n=document.querySelector(`${r(a.commentsContainer)} ${(e=l.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return n?n:document.querySelector((t=l.issueCommentComposer,`#${t}`))}function r(e){return`.${e}`}},96901:(e,t,n)=>{n.d(t,{k:()=>a});let a={canNotComment:e=>e?`You do not have permissions to comment on this ${e}.`:"You do not have permissions to comment.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,t)=>`${e?"You are the":"This user is the"} author${t?` of this ${t}`:""}`,sponsor:(e,t)=>`${e}'s sponsor since ${t}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a",authorLabel:(e,t)=>`${e?t?"AI":"bot":"mannequin"}`}},97978:(e,t,n)=>{n.d(t,{b2:()=>H,rC:()=>W,sC:()=>z,Qq:()=>q});var a=n(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"suggestedActors(first:10)"}],type:"Issue",abstractKey:null};l.hash="49ec6055355de94cd3349dfef918c835";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"assignedActors(first:20)"}],type:"Issue",abstractKey:null};i.hash="8dcf0731e96f3d4ae53b3450478ffe7b";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionCopilotRepositoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCopilotAgentEnabled",storageKey:null}],type:"Repository",abstractKey:null};r.hash="d0d5039c0af037561a9f4ee503f04833";let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionCopilotRepositoryFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};s.hash="d3c6b2757554e31ea145489e96bddf6e";let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionViewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};o.hash="4ad6855a942f3fb6246836cfe7562826";var d=n(21728),c=n(38621),u=n(21373),m=n(96540),p=n(30459);let g=(0,m.forwardRef)((e,t)=>{let n,l,i=(0,d.c)(6),{onClick:r}=e,{sendClickAnalyticsEvent:s}=(0,p.S)();i[0]!==r||i[1]!==s?(n=()=>{s({category:"copilot_assignment",action:"click_assign_to_copilot_button",label:"ref_cta:assign_to_copilot"}),r()},i[0]=r,i[1]=s,i[2]=n):n=i[2];let o=n;return i[3]!==o||i[4]!==t?(l=(0,a.jsx)(u.Q,{ref:t,leadingVisual:c.AgentIcon,size:"small",block:!0,onClick:o,children:"Assign to Copilot"}),i[3]=o,i[4]=t,i[5]=l):l=i[5],l});g.displayName="CopilotAssignmentButton";var f=n(53881),h=n(5524),y=n(17855),b=n(12360),k=n(77430);function x(e){let t=(0,d.c)(5),{login:n,id:l,avatarUrl:i}=e;if((0,y.v)(n)){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(b.C,{}),t[0]=e):e=t[0],e}{let e,r=`@${n}`;return t[1]!==i||t[2]!==l||t[3]!==r?(e=(0,a.jsx)(k.r,{src:i,size:20,alt:r},l),t[1]=i,t[2]=l,t[3]=r,t[4]=e):e=t[4],e}}try{x.displayName||(x.displayName="AssigneeVisual")}catch{}var C=n(20403);let v={copilot:{displayName:"Copilot"}};var S=n(26052),j=n(69599);let I={assigneesList:"Assignees-module__assigneesList--JFnuE",assigneeNameLabel:"Assignees-module__assigneeNameLabel--f9fCg"};function N(e){let t,n,l=(0,d.c)(7),{assignees:i,testId:r}=e;if(l[0]!==i||l[1]!==r){let e;l[3]!==r?(e=e=>{let{login:t,name:n,avatarUrl:l,profileResourcePath:i,id:s}=e,o=(0,y.v)(t)?v.copilot.displayName:t;return(0,a.jsxs)(h.l.LinkItem,{href:i??void 0,target:"_blank",...(0,C.S)(t,{isCopilot:(0,y.v)(t)}),children:[(0,a.jsx)(h.l.LeadingVisual,{children:(0,a.jsx)(x,{login:t,id:s,avatarUrl:l})}),(0,a.jsx)("div",{"data-testid":r,className:I.assigneeNameLabel,children:(0,j.G7)("render_user_display_name")?(0,a.jsx)(S.v,{login:o,profileName:n}):o})]},s)},l[3]=r,l[4]=e):e=l[4],t=[...i].sort(F).map(e),l[0]=i,l[1]=r,l[2]=t}else t=l[2];return l[5]!==t?(n=(0,a.jsx)(h.l,{variant:"full",className:I.assigneesList,children:t}),l[5]=t,l[6]=n):n=l[6],n}function F(e,t){return e.login===t.login?0:e.login>t.login?1:-1}try{N.displayName||(N.displayName="Assignees")}catch{}var _=n(19720),L=n(1667),T=n(72274),w=n(67126),A=n(73189),E=n(43258),D=n(18312),P=n(34784),K=n(93513),R=n(20177),M=n(2495),V=n(16810),B=n(21798);let O={selfAssignButton:"AssigneesSection-module__selfAssignButton--U9FC1"},U=()=>(0,a.jsx)(M.h,{title:K.k.sectionTitles.assignees}),$=({sectionHeader:e,onSelfAssignClick:t,assignees:n,readonly:l,copilotAssignmentButton:i})=>{let r=l?K.k.emptySections.assignees(!1):(0,a.jsxs)(a.Fragment,{children:[K.k.emptySections.assignees(!0),(0,a.jsx)(u.Q,{variant:"link",onClick:t,className:O.selfAssignButton,children:K.k.emptySections.selfAssign})]}),s=i?(0,a.jsx)("div",{className:"width-full d-flex flex-column flex-items-stretch pt-2 px-2",children:(0,a.jsx)("div",{children:i})}):void 0;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(V.w,{id:"sidebar-assignees-section",sectionHeader:e,sectionFooter:s,emptyText:n.length>0?void 0:r,children:(0,a.jsx)(N,{assignees:n,testId:R.Y.assignees})})})};function H({repo:e,owner:t,readonly:n,assignees:l,onSelectionChange:i,className:r,sx:s,repository:o,issueNumber:d,onIssueUpdate:c,...u}){let m=(0,T.u)(),p={repo:e,owner:t,readonly:n,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:l,onSelectionChange:i,anchorElement:(e,t)=>(0,a.jsx)(B.X,{title:K.k.sectionTitles.assignees,buttonProps:{...e,id:"assignees-select-menu"},ref:t}),...u},g=n?(0,a.jsx)(U,{}):(0,a.jsx)(_._g,{...p});return(0,a.jsx)($,{sectionHeader:g,onSelfAssignClick:()=>i(m?[m]:[]),assignees:l,readonly:n,sx:s,className:r})}let z=i,q=s;function W({issue:e,viewer:t,lazyKey:n,onIssueUpdate:i,insideSidePanel:s,readonly:d}){let c=(0,P.useFragment)(q,e),{repository:u,repository:{owner:{login:p},name:h,isArchived:b},number:k}=c,x=(0,P.useFragment)(r,c.repository),C=(0,P.useFragment)(z,c),v=(0,P.useFragment)(o,t),{id:S,viewerCanAssign:I}=c,N=(0,P.useFragment)(l,n),F=(0,m.useMemo)(()=>(N?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,_.uX)(e)]:[]),[N?.suggestedActors?.nodes]),T=(0,m.useMemo)(()=>(C.assignedActors?.nodes||[]).flatMap(e=>e?[(0,_.uX)(e)]:[]),[C.assignedActors?.nodes]),{addToast:R}=(0,E.Y6)(),M=(0,D.useRelayEnvironment)(),V=(0,m.useRef)(null),O=d||!I||b,H=(0,j.G7)("issues_copilot_cross_repo_assign"),W=(0,m.useMemo)(()=>{let e=T.some(e=>(0,y.v)(e.login));return!O&&x.isCopilotAgentEnabled&&H&&!e},[T,O,x.isCopilotAgentEnabled,H]),[G,Q]=(0,m.useState)(!1),[X,Y]=(0,m.useState)(0),J=(0,m.useCallback)(()=>{Q(!0),Y(e=>e+1)},[Q]),Z=(0,m.useCallback)(()=>{Q(!1)},[Q]),ee=(0,m.useCallback)(e=>{(0,L.j)({environment:M,input:{issueId:S,assignedActors:e,participants:F},onError:()=>R({type:"error",message:w.S.couldNotUpdateAssignees}),onCompleted:i})},[R,M,S,i,F]),et=(0,m.useCallback)(e=>{let t=T.some(e=>(0,y.v)(e.login)),n=e.some(e=>e.isCopilot),a=e.filter(e=>!e.isCopilot),l=W?a:e;W&&((e,t)=>{if(e.length!==t.length)return!1;let n=new Set(e.map(e=>e.id));return t.every(e=>n.has(e.id))})(l,T.filter(e=>!(0,y.v)(e.login)))||ee(l),n&&W&&!t&&J()},[T,W,ee,J]),en=(0,m.useCallback)(e=>{e&&(0,P.commitLocalUpdate)(M,t=>{((e,t,n)=>{let a=e.get(t);if(a){let t=a.getLinkedRecord("assignedActors(first:20)");if(t){let a=t.getLinkedRecords("nodes")||[];if(!a.some(e=>e&&e.getValue("id")===n.id)){let l=e.get(n.id);l||(l=((e,t)=>{let n=e.create(t.id,t.__typename);for(let[e,a]of Object.entries({id:t.id,login:t.login,name:t.name,avatarUrl:t.avatarUrl,isCopilot:t.isCopilot,profileResourcePath:t.profileResourcePath,__typename:t.__typename}))n.setValue(a,e);return n})(e,n));let i=[...a,l].sort((e,t)=>{let n=e?.getValue("login")||"",a=t?.getValue("login")||"";return n.toLowerCase().localeCompare(a.toLowerCase())});t.setLinkedRecords(i,"nodes")}}}})(t,S,{...e,isCopilot:!0,__typename:"Bot"})}),i?.()},[M,S,i]),ea=W?(0,a.jsx)(g,{onClick:J,ref:V}):void 0,el=W?(0,a.jsx)(f.B,{isOpen:G,onClose:Z,repository:{name:u.name,owner:{login:u.owner.login}},issueNumbers:[k],onAssignmentComplete:en,returnFocusRef:V}):void 0,ei=(0,m.useMemo)(()=>O?(0,a.jsx)(U,{}):(0,a.jsx)(_.Ir,{repo:h,owner:p,number:k,anchorElement:(e,t)=>(0,a.jsx)(B.X,{title:K.k.sectionTitles.assignees,buttonProps:e,ref:t}),readonly:O,assignees:T,onSelectionChange:e=>et(e),insidePortal:s,suggestions:F},`assignee-picker-${X}`),[O,h,p,k,T,F,s,et,X]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{sectionHeader:ei,assignees:T,onSelfAssignClick:()=>v?ee([v]):A.l,readonly:O,copilotAssignmentButton:ea}),el]})}try{U.displayName||(U.displayName="ReadonlyAssigneesSectionHeader")}catch{}try{$.displayName||($.displayName="AssigneesSection")}catch{}try{H.displayName||(H.displayName="CreateIssueAssigneesSection")}catch{}try{W.displayName||(W.displayName="EditIssueAssigneesSection")}catch{}},98338:(e,t,n)=>{n.d(t,{k:()=>a});let a={issueCreateDialogTitleTemplatePane:"Create new issue",issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,t,n="issue")=>`Create new ${n} in ${e}${t?`: ${t}`:""}`,issueCreateDialogTitleDuplicationPane:(e,t="issue")=>`Duplicate current ${t} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`,copilotCTAButton:"Write with Copilot",copilotCTADialogTitle:"Navigate to Copilot Chat",copilotCTADialogDescription:"You have unsaved changes. Are you sure you want to discard them?",copilotCTADialogCancelButton:"Keep editing",copilotCTADialogContinueButton:"Go to Copilot",backToAllIssues:"Back to all issues",crossRepoIssueDuplicationWarning:e=>`This issue is being duplicated across repositories. The following metadata might not be copied: ${e.join(", ")}.`,crossRepoIssueDuplicationDefaultWarning:"Changing the repository may remove Milestone, Labels, Type, and Assignees from the duplicate issue.",setAdditionalFields:"Set additional issue fields",addIssueField:"Add issue field"}},98646:(e,t,n)=>{n.d(t,{Ft:()=>r,HZ:()=>o,KO:()=>d,MR:()=>i,YQ:()=>s,d6:()=>l,fk:()=>u,fy:()=>p,mQ:()=>g,qH:()=>c,qg:()=>m});var a=n(38621);let l={text:{type:"text",displayName:"Text",icon:a.TypographyIcon,valueField:"textValue"},single_select:{type:"single_select",displayName:"Single Select",icon:a.SingleSelectIcon,valueField:"singleSelectOptionId"},date:{type:"date",displayName:"Date",icon:a.CalendarIcon,valueField:"dateValue"},number:{type:"number",displayName:"Number",icon:a.NumberIcon,valueField:"numberValue"}},i=Object.values(l);function r(e,t){switch(e){case"text":return{textValue:t};case"single_select":return{singleSelectOptionId:t};case"date":return{dateValue:t};case"number":{let e=Number(t);return isNaN(e)?{}:{numberValue:e}}}}function s(e){return{...e,dataType:o(e.dataType)}}function o(e){switch(e){case"TEXT":case"text":return"text";case"SINGLE_SELECT":case"single_select":return"single_select";case"DATE":case"date":return"date";case"number":case"NUMBER":return"number";default:throw Error(`Unsupported field type: ${e}`)}}let d="IssueFieldSingleSelectValue",c="IssueFieldTextValue",u="IssueFieldDateValue",m="IssueFieldNumberValue";function p(e,t){if(e)switch(t){case d:e.setValue(null,"name"),e.setValue(null,"color"),e.setValue(null,"description");break;case u:case c:case m:e.setValue(null,"value");break;default:return t}}function g(e){return l[e].icon}},98783:(e,t,n)=>{n.d(t,{D:()=>l});var a=n(79634);function l(){return(0,a.X)()}},99223:(e,t,n)=>{n.d(t,{k:()=>r,v:()=>s});var a=n(5225),l=n(71315);let i=(0,a.A)(function(){return l.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),r=(0,a.A)(function(){return"enterprise"===i()}),s="webpack"},99726:(e,t,n)=>{n.d(t,{e:()=>e1});var a=n(74848),l=n(53881),i=n(17855),r=n(8046),s=n(24550),o=n(25641),d=n(62559),c=n(38102),u=n(98646),m=n(977),p=n(3047),g=n(99892),f=n(5990),h=n(30459),y=n(96459),b=n(38621),k=n(15220),x=n(84078),C=n(72511),v=n(10095),S=n(43715),j=n(87448),I=n(34164),N=n(96540),F=n(18312),_=n(16642),L=n(98338),T=n(96480),w=n(17831);let A={commentBox:"CreateIssueForm-module__commentBox--vEs40",errorBanner:"CreateIssueForm-module__errorBanner--eNPfc",CreateIssueFormWrapper:"CreateIssueForm-module__CreateIssueFormWrapper--xluI0",formGridContainer:"CreateIssueForm-module__formGridContainer--SxqjE",mainContentSection:"CreateIssueForm-module__mainContentSection--rApst",metadataSection:"CreateIssueForm-module__metadataSection--r67Zi",footerButton:"CreateIssueForm-module__footerButton--pogcH"};var E=n(62180),D=n(99511),P=n(86877);let K={container:"CreateIssueFormTitle-module__container--GhqlY",formControl:"CreateIssueFormTitle-module__formControl--H5ulr",formControlLabel:"CreateIssueFormTitle-module__formControlLabel--ksDPF",subcontainer:"CreateIssueFormTitle-module__subcontainer--wchOC"},R=({title:e,titleValidationResult:t,titleInputRef:n,handleTitleChange:l,emojiTone:i})=>{let r=(0,a.jsx)(D.A,{ref:n,"aria-label":L.k.issueCreateTitleLabel,placeholder:L.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:l,onInput:l,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,a.jsx)("div",{className:K.container,children:(0,a.jsxs)(P.A,{className:K.formControl,required:!0,children:[(0,a.jsx)(P.A.Label,{className:K.formControlLabel,children:L.k.issueCreateTitleLabel}),(0,a.jsxs)("div",{className:K.subcontainer,children:[(0,a.jsx)(N.Suspense,{fallback:r,children:(0,a.jsx)(E.x,{tone:i,children:r})}),t&&(0,a.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,a.jsx)(P.A.Validation,{variant:"error",id:"title-validation",children:t})})]})]})})};try{R.displayName||(R.displayName="CreateIssueFormTitle")}catch{}var M=n(65249),V=n(69599),B=n(23490),O=n(77430);let U={assigneePicker:"a",labelPicker:"l"};var $=n(19918),H=n(46377),z=n(25407);let q={compressedAssigneeAvatar:"CompressedAssigneeAnchor-module__compressedAssigneeAvatar--y2Hg2"},W=(0,N.forwardRef)(({assignees:e,anchorProps:t,displayHotkey:n,MAX_DISPLAYED_ASSIGNEES:l=2,readonly:i},r)=>(0,a.jsx)(H._,{leadingIconElement:e.slice(0,l).map(e=>(0,a.jsx)(G,{assignee:e},e.login)),anchorText:e.length>1?$.k.assignees:$.k.noAssignees,anchorProps:t,sharedPickerMainValue:e.slice(0,l).map(e=>e.isCopilot?"Copilot":e.login).join(", ").concat(e.length>l?`, ${e.length-l}+`:""),ariaLabel:$.k.selectAssignees,readonly:i,leadingIcon:b.PeopleIcon,hotKey:!i&&n?U.assigneePicker.toUpperCase():void 0,ref:r}));function G({assignee:e}){return e.isCopilot?(0,a.jsx)(b.CopilotIcon,{}):(0,a.jsx)(O.r,{"data-hovercard-url":(0,z.dCN)({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,className:q.compressedAssigneeAvatar})}W.displayName="CompressedAssigneeAnchor";try{G.displayName||(G.displayName="AssigneeLeadingVisual")}catch{}let Q=(0,N.forwardRef)(({assignees:e,readonly:t,anchorProps:n},l)=>(0,a.jsx)(W,{assignees:e||[],displayHotkey:!1,anchorProps:t?void 0:n,readonly:t,ref:l}));Q.displayName="DefaultAssigneePickerAnchor";var X=n(19720),Y=n(14307);let J={issueTypeDot:"DefaultIssueTypePickerAnchor-module__issueTypeDot--KX5Dc"},Z=({color:e})=>{let t=Y.i4.find(t=>t===e),{fg:n}=(0,Y.Wk)(t);return(0,a.jsx)("div",{style:{"--bg":`${n}`},className:J.issueTypeDot})},ee=(0,N.forwardRef)(({activeIssueType:e,readonly:t,anchorProps:n},l)=>(0,a.jsx)(H._,{anchorText:$.k.noIssueTypes,sharedPickerMainValue:e?.name,anchorProps:t?void 0:n,ariaLabel:$.k.selectIssueTypes,readonly:t,leadingIcon:b.IssueOpenedIcon,hotKey:void 0,ref:l,leadingIconElement:e&&(0,a.jsx)(Z,{color:e.color})}));ee.displayName="DefaultIssueTypePickerAnchor";try{Z.displayName||(Z.displayName="IssueTypeDot")}catch{}var et=n(36202),en=n(73017);let ea={labelDotsContainer:"LabelDots-module__labelDotsContainer--sNiXI",labelDot:"LabelDots-module__labelDot--MZUOf"},el=({MAX_DISPLAYED_LABELS:e=5,labelColors:t})=>(0,a.jsx)("div",{className:ea.labelDotsContainer,children:t.slice(0,e).map((e,t)=>(0,a.jsx)(j.az,{sx:{backgroundColor:`#${e}`},className:ea.labelDot},`${t}-${e}`))});try{el.displayName||(el.displayName="LabelDots")}catch{}let ei=(0,N.forwardRef)(({size:e="large",labelNamesWithColor:t,anchorProps:n,MAX_DISPLAYED_LABELS:l=5,readonly:i,leadingIcon:r,hotKey:s,anchorText:o},d)=>{let c=t.slice(0,l).map(e=>e.nameHTML).join(", ").concat(t.length>l?`, ${t.length-l}+`:"");return(0,a.jsx)(H._,{anchorProps:n,readonly:i,anchorText:o||(t.length>1?$.k.labels:$.k.noLabels),sharedPickerMainValue:t.length>0&&(0,a.jsx)(er,{labelNamesWithColor:t,MAX_DISPLAYED_LABELS:l,compressedLabelTitle:c}),leadingIconElement:t.length>0&&(0,a.jsx)(el,{MAX_DISPLAYED_LABELS:l,labelColors:t.map(e=>e.color)}),ariaLabel:$.k.selectLabels,size:e,leadingIcon:r,hotKey:s,ref:d,compressedTitle:c})});ei.displayName="CompressedLabelsToken";let er=({compressedLabelTitle:e})=>(0,a.jsx)(en.JR,{html:e});try{er.displayName||(er.displayName="LabelNames")}catch{}let es=(0,N.forwardRef)(({size:e="small",labels:t,anchorProps:n,displayHotkey:l,MAX_DISPLAYED_LABELS:i=2,readonly:r},s)=>(0,a.jsx)(ei,{size:e,labelNamesWithColor:t.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:n,MAX_DISPLAYED_LABELS:i,readonly:r,leadingIcon:b.TagIcon,hotKey:!r&&l?U.labelPicker.toUpperCase():void 0,anchorText:t?.length===0?$.k.noLabels:void 0,ref:s}));es.displayName="CompressedLabelAnchor";let eo=(0,N.forwardRef)(({labels:e,readonly:t,anchorProps:n},l)=>(0,a.jsx)(es,{labels:e,readonly:t,displayHotkey:!1,anchorProps:t?void 0:n,ref:l}));eo.displayName="DefaultLabelAnchor";var ed=n(32050);let ec=(0,N.forwardRef)(({activeMilestone:e,readonly:t,nested:n,anchorProps:l},i)=>(0,a.jsx)(H._,{anchorText:$.k.noMilestones,sharedPickerMainValue:e?.title,anchorProps:t?void 0:l,ariaLabel:$.k.selectMilestones,readonly:t,nested:n,leadingIcon:b.MilestoneIcon,hotKey:void 0,ref:i}));ec.displayName="DefaultMilestonePickerAnchor";var eu=n(90921),em=n(5643),ep=n(73580),eg=n(75202),ef=n(41057);let eh={MetadataFooterLoadingContainer:"MetadataFooterLoading-module__MetadataFooterLoadingContainer--MlVdF"},ey=()=>(0,a.jsx)("div",{className:eh.MetadataFooterLoadingContainer,children:(0,a.jsx)(ef.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{ey.displayName||(ey.displayName="MetadataFooterLoading")}catch{}var eb=n(83463),ek=n(43570),ex=n(4889),eC=n(72690),ev=n(26108);let eS={MetadataFooterContainer:"MetadataFooter-module__MetadataFooterContainer--omn3p",MetadataFooterSeparator:"MetadataFooter-module__MetadataFooterSeparator--zajRG",SingleSelectFieldDot:"MetadataFooter-module__SingleSelectFieldDot--V_G0U",animationClass:"MetadataFooter-module__animationClass--JG8Qb"},ej=({fieldWithValue:e,buttonProps:t,className:n})=>{let l=(0,u.HZ)(e.field.dataType),i=(0,p.nB)(l,e.value),r=eI(e),s=i?`${e.field.name}:`:e.field.name;return(0,a.jsx)(H._,{anchorText:s,sharedPickerMainValue:i,leadingIcon:(0,u.mQ)(l),leadingIconElement:r,anchorProps:t,className:n},e.field.id)},eI=e=>{if("SINGLE_SELECT"===e.field.dataType&&e.value){let t=e.value,n=t?.color||"GRAY";return(0,a.jsx)(eN,{color:n})}return null},eN=({color:e})=>{let t=Y.i4.find(t=>t===e),{fg:n}=(0,Y.Wk)(t);return(0,a.jsx)("div",{style:{"--bg":`${n}`},className:eS.SingleSelectFieldDot})},eF=(e,t)=>(0,a.jsx)(ev.K,{onClick:t=>{e.onClick?.(t)},ref:t,icon:b.PlusIcon,variant:"default","aria-label":L.k.setAdditionalFields,tooltipDirection:"n",size:"small"});try{ej.displayName||(ej.displayName="IssueFieldValueSharedEditorAnchor")}catch{}try{eN.displayName||(eN.displayName="SingleSelectFieldDot")}catch{}let e_="256px",eL=({pendingField:e,onCommit:t,onClose:n})=>eP((0,p.Y0)(e,null),t,n,!0),eT=({field:e,onChange:t,className:n})=>{let a=(0,N.useCallback)((n,a)=>{t(e,a)},[t,e]);return e.field.id&&e.field.name?eP(e,a,void 0,!1,n):null},ew=(e,t,n,l=!1,i)=>(0,a.jsx)(ex.l,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:t,renderAnchor:n,overrideWidth:e_,isNumber:!0,validate:ek.H,shouldOpen:l,onClose:i}),eA=(e,t,n,l=!1,i)=>(0,a.jsx)(ex.l,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:t,renderAnchor:n,overrideWidth:e_,shouldOpen:l,onClose:i}),eE=(e,t,n,l=!1,i)=>{let[r,s]=(0,N.useState)(l);return(0,a.jsx)(eb.DatePicker,{anchor:e=>n(e),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:n=>{t(e.field.id,n)},value:e.value,placeholder:"Set date",open:r,onOpen:()=>{s(!0)},onClose:()=>{s(!1),i?.()},anchoredOverlayProps:{side:"outside-top"}},e.field.id)},eD=(e,t,n,l=!1,i)=>{let r=e.value;return(0,a.jsx)(eC.CZ,{fieldId:e.field.id,fieldName:e.field.name||"",selectedOption:r?.name||null,onSelectionChange:n=>{t(e.field.id,n)},anchorElement:e=>n(e),readonly:!1,isLazy:!0,shouldOpen:l,onClose:i,insidePortal:!0},e.field.id)},eP=(e,t,n,l=!1,i)=>{let r=t=>(0,a.jsx)(ej,{fieldWithValue:e,buttonProps:t,className:i},e.field.id);switch(e.field.dataType){case"SINGLE_SELECT":return eD(e,t,r,l,n);case"DATE":return eE(e,t,r,l,n);case"TEXT":return eA(e,t,r,l,n);case"NUMBER":return ew(e,t,r,l,n)}};try{eL.displayName||(eL.displayName="IssueFieldValueSharedPendingEditor")}catch{}try{eT.displayName||(eT.displayName="IssueFieldValueSharedEditor")}catch{}try{ew.displayName||(ew.displayName="IssueFieldNumberEditor")}catch{}try{eA.displayName||(eA.displayName="IssueFieldTextEditor")}catch{}try{eE.displayName||(eE.displayName="IssueFieldDateEditor")}catch{}try{eD.displayName||(eD.displayName="IssueFieldSingleSelectEditor")}catch{}try{eP.displayName||(eP.displayName="IssueFieldEditor")}catch{}let eK=({repo:e,owner:t,canSetAssignees:n,canSetLabels:l,canSetMilestone:i,canSetProjects:r,canSetIssueFields:s,canSetType:o,issueTypesEnabled:d})=>{let{optionConfig:c}=(0,T.a)(),{repository:m,labels:g,setLabels:f,assignees:y,setAssignees:k,projects:x,setProjects:C,milestone:v,setMilestone:S,issueType:j,setIssueType:I,setIssueFields:F}=(0,w.u)(),_={insidePortal:c.insidePortal,shortcutEnabled:c.singleKeyShortcutsEnabled},A=(0,V.G7)("issue_metadata_add_field_button"),{pendingSelectedField:E,setPendingSelectedField:D,pinnedFields:P,unpinnedFields:K,selectedFieldNames:R,onPendingFieldCommit:M,onIssueFieldPickerSelectionChange:O,onIssueFieldValueChanged:U}=function({pinnedFieldsFromType:e,setIssueFieldsWithValues:t}){let[n,a]=(0,N.useState)([]),[l,i]=(0,N.useState)(null),r=(0,V.G7)("pinned_issue_fields"),s=(0,N.useMemo)(()=>e?.map(e=>({id:e.id,name:e.name,dataType:e.dataType}))||[],[e]),o=(0,N.useCallback)(e=>{a(e);let n=[];for(let t of e)t.value&&n.push(t);t(n)},[t]),d=(0,N.useCallback)((e,t)=>{if(!l||l.id!==e)return;i(null);let a=(0,u.HZ)(l.dataType),r=(0,p.vl)(a,t);if("string"==typeof r?!r.trim():!r)return;let s=[...n];l.name&&!s.some(e=>e.field.name===l.name)&&s.push((0,p.Y0)(l,t)),o(s)},[n,l,o]),c=(0,N.useCallback)(e=>{let t=e[0];t?.id&&t?.name&&t?.dataType&&i({id:t.id,name:t.name,dataType:(0,u.HZ)(t.dataType)})},[]),m=(0,N.useCallback)((e,t)=>{if(s.find(t=>t.id===e.field.id)&&!n.find(t=>t.field.id===e.field.id))return void o([...n,(0,p.Y0)(e.field,t)]);o(n.map(n=>n.field.id===e.field.id?(0,p.Y0)(n.field,t):n).filter(e=>null!==e))},[n,s,o]),g=r?((e,t)=>{let n=[];for(let a of t){let t=e.find(e=>e.field.id===a.id);t?n.push(t):n.push((0,p.IE)(a,null))}return n})(n,s):[],f=r?((e,t)=>{let n=[];for(let a of e)t.find(e=>e.id===a.field.id)||n.push(a);return n})(n,s):n,h=g.map(e=>e.field.name).concat(f.map(e=>e.field.name)).filter(e=>void 0!==e);return{pendingSelectedField:l,setPendingSelectedField:i,pinnedFields:g,unpinnedFields:f,selectedFieldNames:h,onPendingFieldCommit:d,onIssueFieldPickerSelectionChange:c,onIssueFieldValueChanged:m}}({pinnedFieldsFromType:j?.pinnedFields??[],setIssueFieldsWithValues:F}),$=x[0]?.title||"",{sendAnalyticsEvent:z}=(0,h.s)(),q=m&&(n||y.length>0)&&!c.scopedAssignees?{repo:m.name,owner:m.owner.login,readonly:!n,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:y,assigneeTokens:[],anchorElement:(e,t)=>(0,a.jsx)(Q,{assignees:y,readonly:!n,anchorProps:{...e,id:"assignees-select-menu"},ref:t,..._}),onSelectionChange:k,..._}:null,G=null;return q&&(G=(0,a.jsx)(X._g,{...q})),(0,a.jsx)(N.Suspense,{fallback:(0,a.jsx)(ey,{}),children:(0,a.jsxs)("div",{className:eS.MetadataFooterContainer,children:[G,c.scopedAssignees&&(0,a.jsx)(W,{assignees:c.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(l||g.length>0)&&(0,a.jsx)(ed.tJ,{repo:e,owner:t,readonly:!l,canCreateLabel:l,labels:g,anchorElement:(e,t)=>(0,a.jsx)(eo,{readonly:!l,labels:g,anchorProps:e,ref:t,..._}),onSelectionChange:f,..._}),d&&(o||null!==j)&&!c.scopedIssueType&&(0,a.jsx)(et.uF,{repo:e,owner:t,onSelectionChange:e=>{let t=e?.[0]||null;z("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:t?.id??""}),I(t)},anchorElement:e=>(0,a.jsx)(ee,{readonly:!o,activeIssueType:j,anchorProps:e,..._}),readonly:!o,activeIssueType:j??null,width:"medium",..._}),s&&P.map(e=>(0,a.jsx)(eT,{field:e,onChange:U,className:eS.animationClass},e.field.id)),c.scopedIssueType&&(0,a.jsx)(H._,{anchorText:c.scopedIssueType,leadingIcon:b.IssueOpenedIcon,readonly:!0}),m&&!c.scopedProjectTitle&&(r||x.length>0)&&(0,a.jsx)(eg.t,{fallback:(0,a.jsx)(H._,{anchorText:"Projects are unavailable",leadingIcon:b.AlertIcon,readonly:!0}),children:(0,a.jsx)(ep.wX,{pickerId:"create-issue-projects-picker",readonly:!r,onSave:C,selectedProjects:x,owner:m.owner.login,repo:m.name,anchorElement:e=>(0,a.jsx)(em.C,{nested:!1,readonly:!r,anchorProps:e,firstSelectedProjectTitle:$,..._}),..._})}),c.scopedProjectTitle&&(0,a.jsx)(H._,{anchorText:c.scopedProjectTitle,leadingIcon:b.TableIcon,readonly:!0}),(i||null!==v)&&!c.scopedMilestone&&(0,a.jsx)(eu.D,{repo:e,owner:t,readonly:!i,canCreateMilestone:i,activeMilestone:v,anchorElement:(e,t)=>(0,a.jsx)(ec,{nested:!1,readonly:!i,activeMilestone:v,anchorProps:e,ref:t,..._}),onSelectionChange:e=>S(e?.[0]||null),..._}),c.scopedMilestone&&(0,a.jsx)(H._,{anchorText:c.scopedMilestone,leadingIcon:b.MilestoneIcon,readonly:!0}),s&&K.map(e=>(0,a.jsx)(eT,{field:e,onChange:U},e.field.id)),E&&(0,a.jsx)(eL,{pendingField:E,onCommit:M,onClose:()=>{D(null)}}),s&&A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eS.MetadataFooterSeparator}),(0,a.jsx)(B.iF,{owner:t,title:L.k.addIssueField,fieldsSet:R,onSelectionChange:O,anchorElement:eF,..._})]})]})})};try{eK.displayName||(eK.displayName="MetadataFooter")}catch{}var eR=n(97978),eM=n(56242),eV=n(36001),eB=n(43952),eO=n(30107),eU=n(47817);let e$={MetadataSidebarContainer:"MetadataSidebar-module__MetadataSidebarContainer--Q36lm",CreateIssueAssigneesSection:"MetadataSidebar-module__CreateIssueAssigneesSection--CPHmR"},eH=({canSetAssignees:e,canSetLabels:t,canSetMilestone:n,canSetProjects:l,canSetType:i,canSetIssueFields:r,issueTypesEnabled:s})=>{let{optionConfig:o}=(0,T.a)(),{repository:d,labels:c,setLabels:u,assignees:m,setAssignees:p,projects:g,setProjects:f,milestone:h,setMilestone:y,issueType:b,setIssueType:k,setIssueFields:x}=(0,w.u)(),C={insidePortal:o.insidePortal};return d?(0,a.jsxs)("div",{className:e$.MetadataSidebarContainer,children:[(0,a.jsx)("h2",{className:"sr-only",children:"Metadata"}),d&&(0,a.jsx)(eR.b2,{repo:d.name,owner:d.owner.login,readonly:!e,assignees:m,onSelectionChange:p,className:e$.CreateIssueAssigneesSection,repository:d,issueNumber:void 0,onIssueUpdate:void 0,...C}),(0,a.jsx)(eV.qn,{repo:d.name,owner:d.owner.login,readonly:!t,labels:c,onSelectionChange:u,...C}),s&&(0,a.jsx)(eU.pf,{owner:d.owner.login,repo:d.name,...C,viewerCanType:i,type:b,onSelectionChange:k}),r&&(0,a.jsx)(eM.u,{owner:d.owner.login,ownerId:d.owner.databaseId,onSelectionChange:x,issueType:b,...C}),(0,a.jsx)(eO.PH,{owner:d.owner.login,repo:d.name,projects:g,readonly:!l,onSelectionChange:f,...C}),(0,a.jsx)(eB.C5,{repo:d.name,owner:d.owner.login,milestone:h,onSelectionChange:y,viewerCanSetMilestone:n??!1,className:e$.CreateIssueAssigneesSection,...C})]}):null};try{eH.displayName||(eH.displayName="MetadataSidebar")}catch{}let ez=()=>{let{optionConfig:e}=(0,T.a)(),t=!e.insidePortal,{repository:n}=(0,w.u)(),l=n?.viewerIssueCreationPermissions?.assignable??!1,i=n?.viewerIssueCreationPermissions?.labelable??!1,r=n?.viewerIssueCreationPermissions?.milestoneable??!1,s=n?.viewerIssueCreationPermissions?.triageable??!1,o=n?.viewerIssueCreationPermissions?.typeable??!1,d=n?.viewerIssueCreationPermissions?.canSetIssueFields??!1,c=n?.owner?.issueTypesEnabled??!1,u={repo:n?.name||"",owner:n?.owner.login||"",canSetAssignees:l,canSetLabels:i,canSetMilestone:r,canSetProjects:s,canSetType:o,canSetIssueFields:d,issueTypesEnabled:c};return t?(0,a.jsx)(eH,{...u}):(0,a.jsx)(eK,{...u})};try{ez.displayName||(ez.displayName="MetadataSelectors")}catch{}let eq=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},t={defaultValue:null,kind:"LocalArgument",name:"input"},n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c=[{kind:"Literal",name:"first",value:100}],u={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},m=[u],p={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[g,r,l],storageKey:null},h={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,f,l],storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"createIssueMutationWithCopilotMutation",selections:[{alias:null,args:n,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,l,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r],storageKey:null}],storageKey:null},s,o,l,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[l,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[p],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"createIssueMutationWithCopilotMutation",selections:[{alias:null,args:n,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,l,i,f],storageKey:null},s,o,l,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[l,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[u,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[u,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l,r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},d,h,a,s,o,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[l,i,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:m,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},h,{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[g,p],storageKey:null}],storageKey:null}]},params:{id:"5c0cd00f3a2b4a58f8b62ebc5b78e42b",metadata:{},name:"createIssueMutationWithCopilotMutation",operationKind:"mutation",text:null}}}();eq.hash="44b7c0ccdf59cc3ff3738e51cab242f5";let eW=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},t={defaultValue:null,kind:"LocalArgument",name:"input"},n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c=[{kind:"Literal",name:"first",value:100}],u={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},m=[u],p={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[g,r,l],storageKey:null},h={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,f,l],storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:n,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,l,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r],storageKey:null}],storageKey:null},s,o,l,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[l,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[p],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:n,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,l,i,f],storageKey:null},s,o,l,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[l,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[u,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[u,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l,r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},d,h,a,s,o,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[l,i,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:m,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},h,{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[g,p],storageKey:null}],storageKey:null}]},params:{id:"0198a2c5745a80475b22cd004e1d9672",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}}}();eW.hash="52d12f0951eb99b4e97acd8c5026e0f0";var eG=n(10991),eQ=n(21373);let eX={userRestrictedContainer:"UserRestrictedView-module__userRestrictedContainer--Ootl2",backToAllIssuesButton:"UserRestrictedView-module__backToAllIssuesButton--pt4aq"},eY=({reasonHTML:e,issuesUrl:t})=>(0,a.jsxs)("div",{className:eX.userRestrictedContainer,children:[e&&(0,a.jsx)(x.l,{"aria-label":"Warning",variant:"warning",hideTitle:!0,title:"Action restricted",children:(0,a.jsx)(x.l.Description,{children:(0,a.jsx)(en.JR,{html:e})})}),t&&(0,a.jsx)(eQ.Q,{as:"a",href:t,className:eX.backToAllIssuesButton,children:L.k.backToAllIssues})]});try{eY.displayName||(eY.displayName="UserRestrictedView")}catch{}var eJ=n(50167),eZ=n(81724),e0=n(94007);let e1=({repository:e,title:t,setTitle:n,body:E,setBody:D,clearOnCreate:P,onCreateSuccess:K,onCreateError:V,selectedTemplate:B,footer:O,issueFormRef:U,onBeforeCreate:$,defaultValuesById:H,showUserRestrictedView:z=!1,onFieldChange:q,clientMutationId:W})=>{let{optionConfig:G,createMore:Q,createMoreCreatedPath:X,setCreateMoreCreatedPath:Y,isSubmitting:J,setIsSubmitting:Z,onCreateAction:ee,setIsFileUploading:et,displayMode:en}=(0,T.a)(),ea=!G.insidePortal,el=(0,N.useRef)(null),[ei,er]=(0,N.useState)(),[es,eo]=(0,N.useState)(void 0),[ed,ec]=(0,N.useState)(void 0),[eu,em]=(0,N.useState)(null),ep=(0,N.useRef)(null),eg=(0,F.useRelayEnvironment)(),{sendAnalyticsEvent:ef}=(0,h.s)(),{labels:eh,assignees:ey,projects:eb,milestone:ek,issueType:ex,issueFields:eC,parentIssue:ev,usedStorageKeyPrefix:eS,isCrossRepositoryDialogOpen:ej,setIsCrossRepositoryDialogOpen:eI,copilotAssignmentAttributes:eN,setCopilotAssignmentAttributes:eF}=(0,w.u)(),e_=(0,M.E)({additionalConditions:[!B||!(0,eZ.GQ)(B.data)],repositoryVisibility:e.visibility,userCanPushToRepo:e.viewerCanPush,userSettingCopilotEnabled:G.copilotShowFunctionality});(0,N.useEffect)(()=>{e_&&ef("analytics.view","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON_VIEW",{repoNWO:`${e.owner.login}/${e.name}`})},[e.name,e.owner.login,ef,e_]);let eL=(0,a.jsx)(eY,{reasonHTML:e.viewerInteractionLimitReasonHTML,issuesUrl:`/${e.owner.login}/${e.name}/issues`}),eT=e.viewerIssueCreationPermissions.typeable,ew=e.viewerIssueCreationPermissions.canSetIssueFields,eA=e=>{let t=e.map(e=>e?.message).filter(Boolean).join(", ");return(t?t.charAt(0).toUpperCase()+t.slice(1):null)??_.S.createIssueError},eE=H||(0,e0.Zi)();(0,N.useEffect)(()=>{eu&&eu.length>0&&ep?.current&&ep.current.focus()},[ep,eu]),(0,N.useImperativeHandle)(ee,()=>({onCreate:async(n,a)=>{let l,r;if(n)return;let s=(0,d.O_)(t);eo(s.errorMessage),!s.isValid&&el.current&&(l=el.current);let o=B&&(0,eZ.GQ)(B.data),m=E;if(o&&U.current){let e=U.current.getInvalidInputs();e.length>0?l=l||e[0]:m=U.current.markdown()??""}if(l||void 0!==es||0===(t??"").trim().length||void 0===e||void 0!==ed)return void l?.focus();em(null),Z(!0),$&&(m=await $(m)),B&&(B.kind===eZ.t7.IssueTemplate||B.kind===eZ.t7.IssueForm)&&(r=B.name);let f={repositoryId:e.id,title:t?t.trim():"",body:m,labelIds:eh.length>0?eh.map(e=>e.id):void 0,assigneeIds:ey.length>0?ey.map(e=>e.id):void 0,milestoneId:ek?.id,issueTypeId:eT||r?ex?.id:null,issueFields:ew?eC.map(e=>{if(void 0===e.field.dataType||void 0===e.field.id)return null;let t=(0,p.vl)((0,u.HZ)(e.field.dataType),e.value);return{fieldId:e.field.id,...(0,u.Ft)((0,u.HZ)(e.field.dataType),t)}}).filter(e=>!!e):null,issueTemplate:r,isDuplicated:en===eJ.q.IssueDuplication,parentIssueId:ev?ev.id:null,clientMutationId:W,copilotAssignment:eN??void 0};!function({environment:e,input:t,useCopilotMutation:n=!1,onError:a,onCompleted:l}){n?(0,F.commitMutation)(e,{mutation:eq,variables:{input:t,fetchParent:!!t.parentIssueId},onError:e=>a&&a(e),onCompleted:e=>{l?.(e),(0,eG.f)()}}):(0,F.commitMutation)(e,{mutation:eW,variables:{input:t,fetchParent:!!t.parentIssueId},onError:e=>a&&a(e),onCompleted:e=>{l?.(e),(0,eG.f)()}})}({environment:eg,input:f,useCopilotMutation:ey.some(e=>(0,i.v)(e.login)),onError:e=>{(0,c.N7)(e2(e.message)),V(e),Z(!1);let t=_.S.createIssueError;e.cause&&Array.isArray(e.cause)&&e.cause.length>0&&(t=eA(e.cause)),em(t)},onCompleted:e=>{if(Z(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>(0,c.N7)(e2(e.message)));let t=_.S.createIssueError;e.createIssue?.errors&&e.createIssue?.errors.length>0&&(t=eA(e.createIssue.errors)),em(t);return}let t=e.createIssue.issue;ef("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:t.id,issueNumber:t.number,issueNWO:`${t.repository.owner.login}/${t.repository.name}`}),eb.length>0&&function(e,t,n){for(let a of t)(0,g.Z)({environment:n,issueId:e,projectId:a.id})}(t.id,eb,eg),a?(er("edit"),Y({...X,number:t.number})):P(),K({issue:t,createMore:a})}})}}),[t,B,E,U,es,e,ed,Z,$,eh,ey,ek?.id,eT,ex?.id,ew,eC,en,ev,W,eN,eg,V,ef,eb,K,Y,X,P]);let eD=B&&(0,eZ.GQ)(B.data),eP=(0,N.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),eK=(0,N.useId)(),eR=[],eM=(0,y.Z)(),eV=(0,N.useRef)(null),eB=(0,N.useRef)(null),[eO,eU]=(0,N.useState)(!1);(0,N.useEffect)(()=>{let e=document.getElementById("assignees-select-menu");e&&(eB.current=e)},[]);let e$=()=>{ef("analytics.click","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON",{repoNWO:`${e.owner.login}/${e.name}`});let t=new URLSearchParams({prompt:`Create an issue in ${e.nameWithOwner} to `});eM(`${o.Jz}?${t.toString()}`)};e_&&eR.push((0,a.jsx)(f.n.FooterButton,{ref:eV,variant:"invisible",leadingVisual:b.ArrowUpRightIcon,size:"small",className:A.footerButton,onClick:()=>{E.length||t.length?eU(!0):e$()},children:L.k.copilotCTAButton},"create-issue-with-copilot"));let eH=()=>{eI(!1)},eQ=z?eL:(0,a.jsxs)(a.Fragment,{children:[eO&&(0,a.jsx)(k.l,{title:L.k.copilotCTADialogTitle,onClose:()=>eU(!1),footerButtons:[{buttonType:"default",content:L.k.copilotCTADialogCancelButton,onClick:()=>eU(!1)},{buttonType:"primary",content:L.k.copilotCTADialogContinueButton,onClick:e$}],returnFocusRef:eV,children:L.k.copilotCTADialogDescription}),eu&&(0,a.jsx)(x.l,{ref:ep,title:"Error",description:(0,a.jsx)(S.o,{children:eu}),variant:"critical",className:A.errorBanner,role:"alert"}),(0,a.jsx)(l.B,{isOpen:ej,onClose:eH,onSubmit:(e,t,n,a)=>{eF({targetRepositoryId:e,baseRef:t,customInstructions:n,customAgent:a}),eH()},repository:{name:e.name,owner:{login:e.owner.login}},returnFocusRef:eB}),(0,a.jsx)(R,{title:t,titleInputRef:el,handleTitleChange:e=>{(e=>{(0,d.O_)(e).isValid&&eo(void 0),n(e)})(e.currentTarget.value)},titleValidationResult:es,emojiTone:G.emojiSkinTonePreference}),eP&&!eD&&(0,a.jsxs)("div",{className:A.commentBox,children:[(0,a.jsx)(r.hF,{subject:eP,label:L.k.issueCreateBodyLabel,showLabel:!0,placeholder:L.k.issueBodyPlaceholder,viewMode:ei,onChangeViewMode:er,value:E,onSave:()=>ee?.current?.onCreate(J,Q),onChange:e=>{(e=>{ec((0,d.QK)(e).errorMessage),D(e)})(e)},saveButtonTrailingIcon:!1,minHeightLines:G.insidePortal?14:20,"aria-describedby":ed?eK:void 0,setIsFileUploading:et,footerButtons:eR}),ed&&(0,a.jsxs)(C.A,{variant:"danger",id:eK,children:[(0,a.jsx)(v.A,{icon:b.AlertIcon}),ed]})]}),eP&&eD&&(0,eZ.GQ)(B.data)&&(0,a.jsx)(m.Z,{outputRef:U,issueFormRef:B.data,subject:eP,sessionStorageKey:eS,defaultValuesById:eE,onSave:()=>ee?.current?.onCreate(J,Q),setIsFileUploading:et,onFieldChange:q})]}),eX=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ez,{}),(0,a.jsx)(s.t,{supportFileUrl:e.supportFileUrl??void 0,codeOfConductFileUrl:e.codeOfConductFileUrl??void 0,securityPolicyUrl:e.securityPolicyUrl??void 0,contributingFileUrl:e.contributingFileUrl??void 0})]}),e1=z?null:(0,a.jsx)(a.Fragment,{children:O&&(0,a.jsx)(j.az,{sx:{gridArea:"footer",mt:[4,4,2*!!eD]},children:O})});return ea?(0,a.jsx)("div",{className:A.CreateIssueFormWrapper,children:(0,a.jsxs)(j.az,{className:(0,I.$)("width-fit",A.formGridContainer),sx:{gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `},children:[(0,a.jsx)("div",{className:A.mainContentSection,children:eQ}),(0,a.jsx)("div",{className:A.metadataSection,children:eX}),e1]})}):(0,a.jsxs)(a.Fragment,{children:[eQ,eX,e1]})};function e2(e){return Error(`Issue create mutation failed with error: ${e}`)}try{e1.displayName||(e1.displayName="CreateIssueForm")}catch{}},99892:(e,t,n)=>{n.d(t,{Z:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{kind:"Literal",name:"name",value:"Status"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},d={kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:t,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:t,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[l,{kind:"InlineFragment",selections:[n,i,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,r,i,s,o,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[l,{kind:"InlineFragment",selections:[n,r,i,s,o],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"9633413289ebe0e7a8397803a58ff277",metadata:{},name:"updateIssueProjectsRelayMutation",operationKind:"mutation",text:null}}}();a.hash="383fb59644dcbc6d3646f9e7b51f8da2";var l=n(18312);function i({environment:e,connectionId:t,projectId:n,issueId:i,clientMutationId:r,onError:s,onCompleted:o}){if(n)return(0,l.commitMutation)(e,{mutation:a,variables:{input:{contentId:i,projectId:n,clientMutationId:r},connections:t?[t]:[]},onError:e=>s&&s(e),onCompleted:e=>o&&o(e)})}}},e=>{e.O(0,["primer-react","react-lib","react-core","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-2f4e04","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-825c28","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_hydro-analytics-c-c228f9","vendors-node_modules_tanstack_query-core_build_modern_mutation_js-node_modules_tanstack_query-9bf7e4","vendors-node_modules_swc_helpers_esm__class_private_method_get_js-node_modules_swc_helpers_es-d6b1a6","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-c7919d","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-5ada6e","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_tanstack_react-virtual_dist_esm_index_js","vendors-node_modules_tanstack_react-query_build_modern_useQuery_js-node_modules_diff_lib_index_mjs","vendors-node_modules_react-relay_index_js","vendors-node_modules_comma-separated-tokens_index_js-node_modules_mdast-util-from-markdown_li-6db53e","vendors-node_modules_hastscript_lib_index_js-node_modules_mdast-util-gfm_lib_index_js-node_mo-2895d2","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-ce77c7","vendors-node_modules_remark-parse_lib_index_js-node_modules_unified_lib_index_js","vendors-node_modules_lowlight_lib_all_js-node_modules_react-markdown_lib_index_js-node_module-5ac2ea","vendors-node_modules_codemirror_language_dist_index_js","vendors-node_modules_codemirror_commands_dist_index_js","vendors-node_modules_fzy_js_index_js-node_modules_github_g-emoji-element_dist_index_js-node_m-b54f2c","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_react-relay_hooks_js-n-9e757d","packages_paths_index_ts","packages_ui-commands_ui-commands_ts","packages_date-picker_components_DatePicker_tsx","packages_drag-and-drop_drag-and-drop_ts-packages_hydro-analytics_hydro-analytics_ts","packages_list-view_src_hooks_use-next-header-tag_ts-packages_list-view_src_ListItem_ListItem_-055669","packages_ref-selector_RefSelector_tsx","packages_copilot-chat_utils_copilot-local-storage_ts","packages_copilot-chat_components_tracing_TraceProvider_tsx","packages_copilot-chat_utils_CopilotChatContext_tsx-packages_safe-html_VerifiedHTML_tsx","packages_relay-environment_relay-environment_ts","packages_item-picker_components_RepositoryPicker_tsx","packages_copilot-chat_utils_language-info_ts-packages_copy-to-clipboard_CopyToClipboardButton_tsx","packages_history_history_ts-packages_soft-nav_state_ts-packages_agent-sessions_components_new-9fc8d0","packages_copilot-markdown_MarkdownRenderer_tsx","packages_comment-box_api_file-upload_ts-packages_comment-box_api_preview_ts-packages_markdown-c95d34","packages_signed-commit-badge_index_ts","packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-21549c","packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245","packages_copilot-chat_components_CopilotIconAnimation_tsx","packages_commits_shared_use-update-user-tree-preference_ts-packages_use-hide-footer_use-hide--80c91a","packages_commit-attribution_index_ts-packages_commit-checks-status_index_ts-packages_current--18e2dc","packages_react-profiling-mode_src_index_ts-packages_agent-sessions_components_copilot-assignm-15f41a"],()=>e(e.s=60871)),e.O()}]);
//# sourceMappingURL=commits-b43ee1dbd966.js.map